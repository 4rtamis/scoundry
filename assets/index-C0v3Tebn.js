var Gd=Object.defineProperty;var Kd=(e,t,r)=>t in e?Gd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ss=(e,t,r)=>Kd(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var qe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(qe||(qe={}));function Yd(e){return e.nodeType===e.ELEMENT_NODE}function xn(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Cn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Jd(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Qd(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function Ii(e){try{const t=e.rules||e.cssRules;return t?Jd(Array.from(t,lc).join("")):null}catch{return null}}function lc(e){let t;if(Zd(e))try{t=Ii(e.styleSheet)||Qd(e)}catch{}else if(ef(e)&&e.selectorText.includes(":"))return Xd(e.cssText);return t||e.cssText}function Xd(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Zd(e){return"styleSheet"in e}function ef(e){return"selectorText"in e}class cc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var r;if(!t)return-1;const n=(r=this.getMeta(t))===null||r===void 0?void 0:r.id;return n??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){const n=this.getNode(t);if(n){const i=this.nodeMetaMap.get(n);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function tf(){return new cc}function Po({element:e,maskInputOptions:t,tagName:r,type:n,value:i,maskInputFn:s}){let o=i||"";const a=n&&Dr(n);return(t[r.toLowerCase()]||a&&t[a])&&(s?o=s(o,e):o="*".repeat(o.length)),o}function Dr(e){return e.toLowerCase()}const wa="__rrweb_original__";function rf(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let n=0;n<e.width;n+=r)for(let i=0;i<e.height;i+=r){const s=t.getImageData,o=wa in s?s[wa]:s;if(new Uint32Array(o.call(t,n,i,Math.min(r,e.width-n),Math.min(r,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function Lo(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Dr(t):null}function uc(e,t){var r;let n;try{n=new URL(e,t??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(i);return(r=s==null?void 0:s[1])!==null&&r!==void 0?r:null}let nf=1;const sf=new RegExp("[^a-z0-9-_:]"),$n=-2;function dc(){return nf++}function of(e){if(e instanceof HTMLFormElement)return"form";const t=Dr(e.tagName);return sf.test(t)?"div":t}function af(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Fr,Sa;const lf=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,cf=/^(?:[a-z+]+:)?\/\//i,uf=/^www\..*/i,df=/^(data:)([^,]*),(.*)/i;function Ti(e,t){return(e||"").replace(lf,(r,n,i,s,o,a)=>{const l=i||o||a,u=n||s||"";if(!l)return r;if(cf.test(l)||uf.test(l))return`url(${u}${l}${u})`;if(df.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${af(t)+l}${u})`;const c=t.split("/"),d=l.split("/");c.pop();for(const f of d)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}const ff=/^[^ \t\n\r\u000c]+/,hf=/^[, \t\n\r\u000c]+/;function pf(e,t){if(t.trim()==="")return t;let r=0;function n(s){let o;const a=s.exec(t.substring(r));return a?(o=a[0],r+=o.length,o):""}const i=[];for(;n(hf),!(r>=t.length);){let s=n(ff);if(s.slice(-1)===",")s=qr(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=qr(e,s);let a=!1;for(;;){const l=t.charAt(r);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){r+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,r+=1}}}return i.join(", ")}function qr(e,t){if(!t||t.trim()==="")return t;const r=e.createElement("a");return r.href=t,r.href}function gf(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function No(){const e=document.createElement("a");return e.href="",e.href}function fc(e,t,r,n){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?qr(e,n):r==="srcset"?pf(e,n):r==="style"?Ti(n,No()):t==="object"&&r==="data"?qr(e,n):n)}function hc(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function mf(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}if(r)return e.matches(r)}catch{}return!1}function Ai(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?Ai(e.parentNode,t,r):!1;for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}return r?Ai(e.parentNode,t,r):!1}function pc(e,t,r,n){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(typeof t=="string"){if(n){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(Ai(i,t,n))return!0;if(r){if(n){if(i.closest(r))return!0}else if(i.matches(r))return!0}}catch{}return!1}function yf(e,t,r){const n=e.contentWindow;if(!n)return;let i=!1,s;try{s=n.document.readyState}catch{return}if(s!=="complete"){const a=setTimeout(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}const o="about:blank";if(n.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function _f(e,t,r){let n=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(s),n=!0,t()})}function vf(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:o,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:m=!1}=t,b=bf(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:qe.Document,childNodes:[],compatMode:e.compatMode}:{type:qe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:qe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return wf(e,{doc:r,blockClass:i,blockSelector:s,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:d,inlineImages:f,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:m,rootId:b});case e.TEXT_NODE:return kf(e,{needsMask:o,maskTextFn:u,rootId:b});case e.CDATA_SECTION_NODE:return{type:qe.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:qe.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function bf(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function kf(e,t){var r;const{needsMask:n,maskTextFn:i,rootId:s}=t,o=e.parentNode&&e.parentNode.tagName;let a=e.textContent;const l=o==="STYLE"?!0:void 0,u=o==="SCRIPT"?!0:void 0;if(l&&a){try{e.nextSibling||e.previousSibling||!((r=e.parentNode.sheet)===null||r===void 0)&&r.cssRules&&(a=Ii(e.parentNode.sheet))}catch(c){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${c}`,e)}a=Ti(a,No())}return u&&(a="SCRIPT_PLACEHOLDER"),!l&&!u&&a&&n&&(a=i?i(a,e.parentElement):a.replace(/[\S]/g,"*")),{type:qe.Text,textContent:a||"",isStyle:l,rootId:s}}function wf(e,t){const{doc:r,blockClass:n,blockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:a,dataURLOptions:l={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:d,newlyAddedElement:f=!1,rootId:h}=t,g=mf(e,n,i),m=of(e);let b={};const S=e.attributes.length;for(let _=0;_<S;_++){const x=e.attributes[_];hc(m,x.name,x.value)||(b[x.name]=fc(r,m,Dr(x.name),x.value))}if(m==="link"&&s){const _=Array.from(r.styleSheets).find(A=>A.href===e.href);let x=null;_&&(x=Ii(_)),x&&(delete b.rel,delete b.href,b._cssText=Ti(x,_.href))}if(m==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const _=Ii(e.sheet);_&&(b._cssText=Ti(_,No()))}if(m==="input"||m==="textarea"||m==="select"){const _=e.value,x=e.checked;b.type!=="radio"&&b.type!=="checkbox"&&b.type!=="submit"&&b.type!=="button"&&_?b.value=Po({element:e,type:Lo(e),tagName:m,value:_,maskInputOptions:o,maskInputFn:a}):x&&(b.checked=x)}if(m==="option"&&(e.selected&&!o.select?b.selected=!0:delete b.selected),m==="canvas"&&c){if(e.__context==="2d")rf(e)||(b.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const _=e.toDataURL(l.type,l.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;const A=x.toDataURL(l.type,l.quality);_!==A&&(b.rr_dataURL=_)}}if(m==="img"&&u){Fr||(Fr=r.createElement("canvas"),Sa=Fr.getContext("2d"));const _=e,x=_.crossOrigin;_.crossOrigin="anonymous";const A=()=>{_.removeEventListener("load",A);try{Fr.width=_.naturalWidth,Fr.height=_.naturalHeight,Sa.drawImage(_,0,0),b.rr_dataURL=Fr.toDataURL(l.type,l.quality)}catch(W){console.warn(`Cannot inline img src=${_.currentSrc}! Error: ${W}`)}x?b.crossOrigin=x:_.removeAttribute("crossorigin")};_.complete&&_.naturalWidth!==0?A():_.addEventListener("load",A)}if(m==="audio"||m==="video"){const _=b;_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime,_.rr_mediaPlaybackRate=e.playbackRate,_.rr_mediaMuted=e.muted,_.rr_mediaLoop=e.loop,_.rr_mediaVolume=e.volume}if(f||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),g){const{width:_,height:x}=e.getBoundingClientRect();b={class:b.class,rr_width:`${_}px`,rr_height:`${x}px`}}m==="iframe"&&!d(b.src)&&(e.contentDocument||(b.rr_src=b.src),delete b.src);let k;try{customElements.get(m)&&(k=!0)}catch{}return{type:qe.Element,tagName:m,attributes:b,childNodes:[],isSVG:gf(e)||void 0,needBlock:g,rootId:h,isCustom:k}}function Ae(e){return e==null?"":e.toLowerCase()}function Sf(e,t){if(t.comment&&e.type===qe.Comment)return!0;if(e.type===qe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&uc(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ae(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ae(e.attributes.name)==="application-name"||Ae(e.attributes.rel)==="icon"||Ae(e.attributes.rel)==="apple-touch-icon"||Ae(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ae(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ae(e.attributes.property).match(/^(og|twitter|fb):/)||Ae(e.attributes.name).match(/^(og|twitter):/)||Ae(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ae(e.attributes.name)==="robots"||Ae(e.attributes.name)==="googlebot"||Ae(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ae(e.attributes.name)==="author"||Ae(e.attributes.name)==="generator"||Ae(e.attributes.name)==="framework"||Ae(e.attributes.name)==="publisher"||Ae(e.attributes.name)==="progid"||Ae(e.attributes.property).match(/^article:/)||Ae(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ae(e.attributes.name)==="google-site-verification"||Ae(e.attributes.name)==="yandex-verification"||Ae(e.attributes.name)==="csrf-token"||Ae(e.attributes.name)==="p:domain_verify"||Ae(e.attributes.name)==="verify-v1"||Ae(e.attributes.name)==="verification"||Ae(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Vr(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g={},inlineImages:m=!1,recordCanvas:b=!1,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:W=()=>!1,newlyAddedElement:q=!1}=t;let{needsMask:z}=t,{preserveWhiteSpace:ne=!0}=t;!z&&e.childNodes&&(z=pc(e,o,a,z===void 0));const ce=vf(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,dataURLOptions:g,inlineImages:m,recordCanvas:b,keepIframeSrcFn:W,newlyAddedElement:q});if(!ce)return console.warn(e,"not serialized"),null;let ye;n.hasNode(e)?ye=n.getId(e):Sf(ce,h)||!ne&&ce.type===qe.Text&&!ce.isStyle&&!ce.textContent.replace(/^\s+|\s+$/gm,"").length?ye=$n:ye=dc();const Q=Object.assign(ce,{id:ye});if(n.add(e,Q),ye===$n)return null;S&&S(e);let fe=!l;if(Q.type===qe.Element){fe=fe&&!Q.needBlock,delete Q.needBlock;const Z=e.shadowRoot;Z&&Cn(Z)&&(Q.isShadowHost=!0)}if((Q.type===qe.Document||Q.type===qe.Element)&&fe){h.headWhitespace&&Q.type===qe.Element&&Q.tagName==="head"&&(ne=!1);const Z={doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:b,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W};if(!(Q.type===qe.Element&&Q.tagName==="textarea"&&Q.attributes.value!==void 0))for(const Se of Array.from(e.childNodes)){const oe=Vr(Se,Z);oe&&Q.childNodes.push(oe)}if(Yd(e)&&e.shadowRoot)for(const Se of Array.from(e.shadowRoot.childNodes)){const oe=Vr(Se,Z);oe&&(Cn(e.shadowRoot)&&(oe.isShadow=!0),Q.childNodes.push(oe))}}return e.parentNode&&xn(e.parentNode)&&Cn(e.parentNode)&&(Q.isShadow=!0),Q.type===qe.Element&&Q.tagName==="iframe"&&yf(e,()=>{const Z=e.contentDocument;if(Z&&k){const Se=Vr(Z,{doc:Z,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:b,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W});Se&&k(e,Se)}},_),Q.type===qe.Element&&Q.tagName==="link"&&typeof Q.attributes.rel=="string"&&(Q.attributes.rel==="stylesheet"||Q.attributes.rel==="preload"&&typeof Q.attributes.href=="string"&&uc(Q.attributes.href)==="css")&&_f(e,()=>{if(x){const Z=Vr(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:z,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h,dataURLOptions:g,inlineImages:m,recordCanvas:b,preserveWhiteSpace:ne,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:x,stylesheetLoadTimeout:A,keepIframeSrcFn:W});Z&&x(e,Z)}},A),Q}function xf(e,t){const{mirror:r=new cc,blockClass:n="rr-block",blockSelector:i=null,maskTextClass:s="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:d,maskInputFn:f,slimDOM:h=!1,dataURLOptions:g,preserveWhiteSpace:m,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:_,stylesheetLoadTimeout:x,keepIframeSrcFn:A=()=>!1}=t||{};return Vr(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:c===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c===!1?{password:!0}:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:h==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:h===!1?{}:h,dataURLOptions:g,inlineImages:l,recordCanvas:u,preserveWhiteSpace:m,onSerialize:b,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:_,stylesheetLoadTimeout:x,keepIframeSrcFn:A,newlyAddedElement:!1})}function at(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const Hr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let xa={map:{},getId(){return console.error(Hr),-1},getNode(){return console.error(Hr),null},removeNodeFromMap(){console.error(Hr)},has(){return console.error(Hr),!1},reset(){console.error(Hr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(xa=new Proxy(xa,{get(e,t,r){return t==="map"&&console.error(Hr),Reflect.get(e,t,r)}}));function Fn(e,t,r={}){let n=null,i=0;return function(...s){const o=Date.now();!i&&r.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(n&&(clearTimeout(n),n=null),i=o,e.apply(l,s)):!n&&r.trailing!==!1&&(n=setTimeout(()=>{i=r.leading===!1?0:Date.now(),n=null,e.apply(l,s)},a))}}function rs(e,t,r,n,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set(o){setTimeout(()=>{r.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>rs(e,t,s||{},!0)}function fn(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],i=r(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}let Oi=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Oi=()=>new Date().getTime());function gc(e){var t,r,n,i,s,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((r=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||r===void 0?void 0:r.scrollLeft)||((n=a==null?void 0:a.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((s=(i=a==null?void 0:a.body)===null||i===void 0?void 0:i.parentElement)===null||s===void 0?void 0:s.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function mc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function yc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function _c(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function lt(e,t,r,n){if(!e)return!1;const i=_c(e);if(!i)return!1;try{if(typeof t=="string"){if(i.classList.contains(t)||n&&i.closest("."+t)!==null)return!0}else if(Ai(i,t,n))return!0}catch{}return!!(r&&(i.matches(r)||n&&i.closest(r)!==null))}function Cf(e,t){return t.getId(e)!==-1}function xs(e,t){return t.getId(e)===$n}function vc(e,t){if(xn(e))return!1;const r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?vc(e.parentNode,t):!0:!0}function eo(e){return!!e.changedTouches}function Mf(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function bc(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function kc(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function to(e){return!!(e!=null&&e.shadowRoot)}class Ef{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var r;return(r=this.styleIDMap.get(t))!==null&&r!==void 0?r:-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function wc(e){var t,r;let n=null;return((r=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||r===void 0?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function If(e){let t=e,r;for(;r=wc(t);)t=r;return t}function Tf(e){const t=e.ownerDocument;if(!t)return!1;const r=If(e);return t.contains(r)}function Sc(e){const t=e.ownerDocument;return t?t.contains(e)||Tf(e):!1}var ge=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ge||{}),de=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(de||{}),ht=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ht||{}),Kt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Kt||{}),on=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(on||{});function Ca(e){return"__ln"in e}class Af{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=(r==null?void 0:r.next)||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&Ca(t.previousSibling)){const n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&Ca(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Ma=(e,t)=>`${e}@${t}`;class Of{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],r=new Set,n=new Af,i=l=>{let u=l,c=$n;for(;c===$n;)u=u&&u.nextSibling,c=u&&this.mirror.getId(u);return c},s=l=>{if(!l.parentNode||!Sc(l)||l.parentNode.tagName==="TEXTAREA")return;const u=xn(l.parentNode)?this.mirror.getId(wc(l)):this.mirror.getId(l.parentNode),c=i(l);if(u===-1||c===-1)return n.addNode(l);const d=Vr(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{bc(f,this.mirror)&&this.iframeManager.addIframe(f),kc(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),to(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{this.iframeManager.attachIframe(f,h),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});d&&(t.push({parentId:u,nextId:c,node:d}),r.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Ea(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!Ia(this.droppedSet,l)&&!Ea(this.removes,l,this.mirror)||Ia(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;n.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),c=i(o.value);u!==-1&&c!==-1&&(l=o)}if(!l){let u=n.tail;for(;u;){const c=u;if(u=u.previous,c){const d=this.mirror.getId(c.value.parentNode);if(i(c.value)===-1)continue;if(d!==-1){l=c;break}else{const h=c.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=h.parentNode.host;if(this.mirror.getId(g)!==-1){l=c;break}}}}}}if(!l){for(;n.head;)n.removeNode(n.head.value);break}o=l.previous,n.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>{const u=l.node;return u.parentNode&&u.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(u.parentNode),{id:this.mirror.getId(u),value:l.value}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const c=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);c.length<u.style.length&&(c+d).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.genTextAreaValueMutation=t=>{let r=this.attributeMap.get(t);r||(r={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(t,r)),r.attributes.value=Array.from(t.childNodes,n=>n.textContent||"").join("")},this.processMutation=t=>{if(!xs(t.target,this.mirror))switch(t.type){case"characterData":{const r=t.target.textContent;!lt(t.target,this.blockClass,this.blockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:pc(t.target,this.maskTextClass,this.maskTextSelector,!0)&&r?this.maskTextFn?this.maskTextFn(r,_c(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,i=t.target.getAttribute(n);if(n==="value"){const o=Lo(r);i=Po({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:o,value:i,maskInputFn:this.maskInputFn})}if(lt(t.target,this.blockClass,this.blockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)n="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!hc(r.tagName,n)&&(s.attributes[n]=fc(this.doc,Dr(r.tagName),Dr(n),i),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(r.style)){const l=r.style.getPropertyValue(a),u=r.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,u]:s._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))r.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(lt(t.target,this.blockClass,this.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const n=this.mirror.getId(r),i=xn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);lt(t.target,this.blockClass,this.blockSelector,!1)||xs(r,this.mirror)||!Cf(r,this.mirror)||(this.addedSet.has(r)?(ro(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||vc(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Ma(n,i)]?ro(this.movedSet,r):this.removes.push({parentId:i,id:n,isShadow:xn(t.target)&&Cn(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(xs(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[Ma(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);lt(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),to(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ro(e,t){e.delete(t),t.childNodes.forEach(r=>ro(e,r))}function Ea(e,t,r){return e.length===0?!1:xc(e,t,r)}function xc(e,t,r){const{parentNode:n}=t;if(!n)return!1;const i=r.getId(n);return e.some(s=>s.id===i)?!0:xc(e,n,r)}function Ia(e,t){return e.size===0?!1:Cc(e,t)}function Cc(e,t){const{parentNode:r}=t;return r?e.has(r)?!0:Cc(e,r):!1}let Mn;function Rf(e){Mn=e}function Df(){Mn=void 0}const pe=e=>Mn?(...r)=>{try{return e(...r)}catch(n){if(Mn&&Mn(n)===!0)return;throw n}}:e,Or=[];function Qn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Mc(e,t){var r,n;const i=new Of;Or.push(i),i.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const o=(n=(r=window==null?void 0:window.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");o&&window[o]&&(s=window[o]);const a=new s(pe(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Pf({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Fn(pe(d=>{const f=Date.now()-a;e(o.map(h=>(h.timeOffset-=f,h)),d),o=[],a=null}),s),u=pe(Fn(pe(d=>{const f=Qn(d),{clientX:h,clientY:g}=eo(d)?d.changedTouches[0]:d;a||(a=Oi()),o.push({x:h,y:g,id:n.getId(f),timeOffset:Oi()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?de.Drag:d instanceof MouseEvent?de.MouseMove:de.TouchMove)}),i,{trailing:!1})),c=[at("mousemove",u,r),at("touchmove",u,r),at("drag",u,r)];return pe(()=>{c.forEach(d=>d())})}function Lf({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,a=[];let l=null;const u=c=>d=>{const f=Qn(d);if(lt(f,n,i,!0))return;let h=null,g=c;if("pointerType"in d){switch(d.pointerType){case"mouse":h=Kt.Mouse;break;case"touch":h=Kt.Touch;break;case"pen":h=Kt.Pen;break}h===Kt.Touch?ht[c]===ht.MouseDown?g="TouchStart":ht[c]===ht.MouseUp&&(g="TouchEnd"):Kt.Pen}else eo(d)&&(h=Kt.Touch);h!==null?(l=h,(g.startsWith("Touch")&&h===Kt.Touch||g.startsWith("Mouse")&&h===Kt.Mouse)&&(h=null)):ht[c]===ht.Click&&(h=l,l=null);const m=eo(d)?d.changedTouches[0]:d;if(!m)return;const b=r.getId(f),{clientX:S,clientY:k}=m;pe(e)(Object.assign({type:ht[g],id:b,x:S,y:k},h!==null&&{pointerType:h}))};return Object.keys(ht).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&o[c]!==!1).forEach(c=>{let d=Dr(c);const f=u(c);if(window.PointerEvent)switch(ht[c]){case ht.MouseDown:case ht.MouseUp:d=d.replace("mouse","pointer");break;case ht.TouchStart:case ht.TouchEnd:return}a.push(at(d,f,t))}),pe(()=>{a.forEach(c=>c())})}function Ec({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){const o=pe(Fn(pe(a=>{const l=Qn(a);if(!l||lt(l,n,i,!0))return;const u=r.getId(l);if(l===t&&t.defaultView){const c=gc(t.defaultView);e({id:u,x:c.left,y:c.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),s.scroll||100));return at("scroll",o,t)}function Nf({viewportResizeCb:e},{win:t}){let r=-1,n=-1;const i=pe(Fn(pe(()=>{const s=mc(),o=yc();(r!==s||n!==o)&&(e({width:Number(o),height:Number(s)}),r=s,n=o)}),200));return at("resize",i,t)}const $f=["INPUT","TEXTAREA","SELECT"],Ta=new WeakMap;function Ff({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:a,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function d(k){let _=Qn(k);const x=k.isTrusted,A=_&&_.tagName;if(_&&A==="OPTION"&&(_=_.parentElement),!_||!A||$f.indexOf(A)<0||lt(_,n,i,!0)||_.classList.contains(s)||o&&_.matches(o))return;let W=_.value,q=!1;const z=Lo(_)||"";z==="radio"||z==="checkbox"?q=_.checked:(a[A.toLowerCase()]||a[z])&&(W=Po({element:_,maskInputOptions:a,tagName:A,type:z,value:W,maskInputFn:l})),f(_,c?{text:W,isChecked:q,userTriggered:x}:{text:W,isChecked:q});const ne=_.name;z==="radio"&&ne&&q&&t.querySelectorAll(`input[type="radio"][name="${ne}"]`).forEach(ce=>{if(ce!==_){const ye=ce.value;f(ce,c?{text:ye,isChecked:!q,userTriggered:!1}:{text:ye,isChecked:!q})}})}function f(k,_){const x=Ta.get(k);if(!x||x.text!==_.text||x.isChecked!==_.isChecked){Ta.set(k,_);const A=r.getId(k);pe(e)(Object.assign(Object.assign({},_),{id:A}))}}const g=(u.input==="last"?["change"]:["input","change"]).map(k=>at(k,pe(d),t)),m=t.defaultView;if(!m)return()=>{g.forEach(k=>k())};const b=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),S=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&g.push(...S.map(k=>rs(k[0],k[1],{set(){pe(d)({target:this,isTrusted:!1})}},!1,m))),pe(()=>{g.forEach(k=>k())})}function Ri(e){const t=[];function r(n,i){if(li("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||li("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||li("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||li("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const o=Array.from(n.parentRule.cssRules).indexOf(n);i.unshift(o)}else if(n.parentStyleSheet){const o=Array.from(n.parentStyleSheet.cssRules).indexOf(n);i.unshift(o)}return i}return r(e,t)}function ar(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function Bf({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:pe((c,d,f)=>{const[h,g]=f,{id:m,styleId:b}=ar(d,t,r.styleMirror);return(m&&m!==-1||b&&b!==-1)&&e({id:m,styleId:b,adds:[{rule:h,index:g}]}),c.apply(d,f)})});const s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=ar(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,removes:[{index:h}]}),c.apply(d,f)})});let o;n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=ar(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replace:h}),c.apply(d,f)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:pe((c,d,f)=>{const[h]=f,{id:g,styleId:m}=ar(d,t,r.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,replaceSync:h}),c.apply(d,f)})}));const l={};ci("CSSGroupingRule")?l.CSSGroupingRule=n.CSSGroupingRule:(ci("CSSMediaRule")&&(l.CSSMediaRule=n.CSSMediaRule),ci("CSSConditionRule")&&(l.CSSConditionRule=n.CSSConditionRule),ci("CSSSupportsRule")&&(l.CSSSupportsRule=n.CSSSupportsRule));const u={};return Object.entries(l).forEach(([c,d])=>{u[c]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[c].insertRule,{apply:pe((f,h,g)=>{const[m,b]=g,{id:S,styleId:k}=ar(h.parentStyleSheet,t,r.styleMirror);return(S&&S!==-1||k&&k!==-1)&&e({id:S,styleId:k,adds:[{rule:m,index:[...Ri(h),b||0]}]}),f.apply(h,g)})}),d.prototype.deleteRule=new Proxy(u[c].deleteRule,{apply:pe((f,h,g)=>{const[m]=g,{id:b,styleId:S}=ar(h.parentStyleSheet,t,r.styleMirror);return(b&&b!==-1||S&&S!==-1)&&e({id:b,styleId:S,removes:[{index:[...Ri(h),m]}]}),f.apply(h,g)})})}),pe(()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=s,o&&(n.CSSStyleSheet.prototype.replace=o),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([c,d])=>{d.prototype.insertRule=u[c].insertRule,d.prototype.deleteRule=u[c].deleteRule})})}function Ic({mirror:e,stylesheetManager:t},r){var n,i,s;let o=null;r.nodeName==="#document"?o=e.getId(r):o=e.getId(r.host);const a=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(s=(i=r.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||s===void 0?void 0:s.ShadowRoot,l=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var u;return(u=l.get)===null||u===void 0?void 0:u.call(this)},set(u){var c;const d=(c=l.set)===null||c===void 0?void 0:c.call(this,u);if(o!==null&&o!==-1)try{t.adoptStyleSheets(u,o)}catch{}return d}}),pe(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function Uf({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:pe((a,l,u)=>{var c;const[d,f,h]=u;if(r.has(d))return s.apply(l,[d,f,h]);const{id:g,styleId:m}=ar((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||m&&m!==-1)&&e({id:g,styleId:m,set:{property:d,value:f,priority:h},index:Ri(l.parentRule)}),a.apply(l,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:pe((a,l,u)=>{var c;const[d]=u;if(r.has(d))return o.apply(l,[d]);const{id:f,styleId:h}=ar((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,n.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:Ri(l.parentRule)}),a.apply(l,u)})}),pe(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Hf({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:i,doc:s}){const o=pe(l=>Fn(pe(u=>{const c=Qn(u);if(!c||lt(c,t,r,!0))return;const{currentTime:d,volume:f,muted:h,playbackRate:g,loop:m}=c;e({type:l,id:n.getId(c),currentTime:d,volume:f,muted:h,playbackRate:g,loop:m})}),i.media||500)),a=[at("play",o(0),s),at("pause",o(1),s),at("seeked",o(2),s),at("volumechange",o(3),s),at("ratechange",o(4),s)];return pe(()=>{a.forEach(l=>l())})}function Wf({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(l,u,c){const d=new s(l,u,c);return i.set(d,{family:l,buffer:typeof u!="string",descriptors:c,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=fn(t.fonts,"add",function(a){return function(l){return setTimeout(pe(()=>{const u=i.get(l);u&&(e(u),i.delete(l))}),0),a.apply(this,[l])}});return n.push(()=>{r.FontFace=s}),n.push(o),pe(()=>{n.forEach(a=>a())})}function jf(e){const{doc:t,mirror:r,blockClass:n,blockSelector:i,selectionCb:s}=e;let o=!0;const a=pe(()=>{const l=t.getSelection();if(!l||o&&(l!=null&&l.isCollapsed))return;o=l.isCollapsed||!1;const u=[],c=l.rangeCount||0;for(let d=0;d<c;d++){const f=l.getRangeAt(d),{startContainer:h,startOffset:g,endContainer:m,endOffset:b}=f;lt(h,n,i,!0)||lt(m,n,i,!0)||u.push({start:r.getId(h),startOffset:g,end:r.getId(m),endOffset:b})}s({ranges:u})});return a(),at("selectionchange",a)}function qf({doc:e,customElementCb:t}){const r=e.defaultView;return!r||!r.customElements?()=>{}:fn(r.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{console.warn(`Custom element callback failed for ${s}`)}return i.apply(this,[s,o,a])}})}function Vf(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:d,fontCb:f,selectionCb:h,customElementCb:g}=e;e.mutationCb=(...m)=>{t.mutation&&t.mutation(...m),r(...m)},e.mousemoveCb=(...m)=>{t.mousemove&&t.mousemove(...m),n(...m)},e.mouseInteractionCb=(...m)=>{t.mouseInteraction&&t.mouseInteraction(...m),i(...m)},e.scrollCb=(...m)=>{t.scroll&&t.scroll(...m),s(...m)},e.viewportResizeCb=(...m)=>{t.viewportResize&&t.viewportResize(...m),o(...m)},e.inputCb=(...m)=>{t.input&&t.input(...m),a(...m)},e.mediaInteractionCb=(...m)=>{t.mediaInteaction&&t.mediaInteaction(...m),l(...m)},e.styleSheetRuleCb=(...m)=>{t.styleSheetRule&&t.styleSheetRule(...m),u(...m)},e.styleDeclarationCb=(...m)=>{t.styleDeclaration&&t.styleDeclaration(...m),c(...m)},e.canvasMutationCb=(...m)=>{t.canvasMutation&&t.canvasMutation(...m),d(...m)},e.fontCb=(...m)=>{t.font&&t.font(...m),f(...m)},e.selectionCb=(...m)=>{t.selection&&t.selection(...m),h(...m)},e.customElementCb=(...m)=>{t.customElement&&t.customElement(...m),g(...m)}}function zf(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};Vf(e,t);let n;e.recordDOM&&(n=Mc(e,e.doc));const i=Pf(e),s=Lf(e),o=Ec(e),a=Nf(e,{win:r}),l=Ff(e),u=Hf(e);let c=()=>{},d=()=>{},f=()=>{},h=()=>{};e.recordDOM&&(c=Bf(e,{win:r}),d=Ic(e,e.doc),f=Uf(e,{win:r}),e.collectFonts&&(h=Wf(e)));const g=jf(e),m=qf(e),b=[];for(const S of e.plugins)b.push(S.observer(S.callback,r,S.options));return pe(()=>{Or.forEach(S=>S.reset()),n==null||n.disconnect(),i(),s(),o(),a(),l(),u(),c(),d(),f(),h(),g(),m(),b.forEach(S=>S())})}function li(e){return typeof window[e]<"u"}function ci(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Aa{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,i){const s=n||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(r);return a||(a=this.generateIdFn(),s.set(r,a),o.set(a,r)),a}getIds(t,r){const n=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return r.map(s=>this.getId(t,s,n,i))}getRemoteId(t,r,n){const i=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const s=i.get(r);return s||-1}getRemoteIds(t,r){const n=this.getRemoteIdToIdMap(t);return r.map(i=>this.getRemoteId(t,i,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}class Gf{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Aa(dc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Aa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,r.data.event);s&&this.wrappedEmit(s,r.data.isCheckout)}transformCrossOriginEvent(t,r){var n;switch(r.type){case ge.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:ge.IncrementalSnapshot,data:{source:de.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ge.Meta:case ge.Load:case ge.DomContentLoaded:return!1;case ge.Plugin:return r;case ge.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case ge.IncrementalSnapshot:switch(r.data.source){case de.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),r.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case de.Drag:case de.TouchMove:case de.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case de.ViewportResize:return!1;case de.MediaInteraction:case de.MouseInteraction:case de.Scroll:case de.CanvasMutation:case de.Input:return this.replaceIds(r.data,t,["id"]),r;case de.StyleSheetRule:case de.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case de.Font:return r;case de.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),r;case de.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(n=r.data.styles)===null||n===void 0||n.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),r}}return!1}replace(t,r,n,i){for(const s of i)!Array.isArray(r[s])&&typeof r[s]!="number"||(Array.isArray(r[s])?r[s]=t.getIds(n,r[s]):r[s]=t.getId(n,r[s]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==qe.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}}class Kf{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!Cn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=Mc(Object.assign(Object.assign({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Ec(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Ic({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){const n=this;this.restoreHandlers.push(fn(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&Sc(this)&&n.addShadowRoot(this.shadowRoot,r),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Jf(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,[])).next())})}var zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ui=0;ui<zr.length;ui++)Qf[zr.charCodeAt(ui)]=ui;var Xf=function(e){var t=new Uint8Array(e),r,n=t.length,i="";for(r=0;r<n;r+=3)i+=zr[t[r]>>2],i+=zr[(t[r]&3)<<4|t[r+1]>>4],i+=zr[(t[r+1]&15)<<2|t[r+2]>>6],i+=zr[t[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};const Oa=new Map;function Zf(e,t){let r=Oa.get(e);return r||(r=new Map,Oa.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}const Tc=(e,t,r)=>{if(!e||!(Oc(e,t)||typeof e=="object"))return;const n=e.constructor.name,i=Zf(r,n);let s=i.indexOf(e);return s===-1&&(s=i.length,i.push(e)),s};function vi(e,t,r){if(e instanceof Array)return e.map(n=>vi(n,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const n=e.constructor.name,i=Xf(e);return{rr_type:n,base64:i}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[vi(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const n=e.constructor.name,{src:i}=e;return{rr_type:n,src:i}}else if(e instanceof HTMLCanvasElement){const n="HTMLImageElement",i=e.toDataURL();return{rr_type:n,src:i}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[vi(e.data,t,r),e.width,e.height]};if(Oc(e,t)||typeof e=="object"){const n=e.constructor.name,i=Tc(e,t,r);return{rr_type:n,index:i}}}}return e}const Ac=(e,t,r)=>e.map(n=>vi(n,t,r)),Oc=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function").find(i=>e instanceof t[i]);function eh(e,t,r,n){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;const a=fn(t.CanvasRenderingContext2D.prototype,o,function(l){return function(...u){return lt(this.canvas,r,n,!0)||setTimeout(()=>{const c=Ac(u,t,this);e(this.canvas,{type:on["2D"],property:o,args:c})},0),l.apply(this,u)}});i.push(a)}catch{const l=rs(t.CanvasRenderingContext2D.prototype,o,{set(u){e(this.canvas,{type:on["2D"],property:o,args:[u],setter:!0})}});i.push(l)}return()=>{i.forEach(o=>o())}}function th(e){return e==="experimental-webgl"?"webgl":e}function Ra(e,t,r,n){const i=[];try{const s=fn(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(a,...l){if(!lt(this,t,r,!0)){const u=th(a);if("__context"in this||(this.__context=u),n&&["webgl","webgl2"].includes(u))if(l[0]&&typeof l[0]=="object"){const c=l[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[a,...l])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Da(e,t,r,n,i,s,o){const a=[],l=Object.getOwnPropertyNames(e);for(const u of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))try{if(typeof e[u]!="function")continue;const c=fn(e,u,function(d){return function(...f){const h=d.apply(this,f);if(Tc(h,o,this),"tagName"in this.canvas&&!lt(this.canvas,n,i,!0)){const g=Ac(f,o,this),m={type:t,property:u,args:g};r(this.canvas,m)}return h}});a.push(c)}catch{const d=rs(e,u,{set(f){r(this.canvas,{type:t,property:u,args:[f],setter:!0})}});a.push(d)}return a}function rh(e,t,r,n,i){const s=[];return s.push(...Da(t.WebGLRenderingContext.prototype,on.WebGL,e,r,n,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Da(t.WebGL2RenderingContext.prototype,on.WebGL2,e,r,n,i,t)),()=>{s.forEach(o=>o())}}function nh(e,t){var r=e.toString(),n=r.split(`
`);n.pop(),n.shift();for(var i=n[0].search(/\S/),s=/(['"])__worker_loader_strict__(['"])/g,o=0,a=n.length;o<a;++o)n[o]=n[o].substring(i).replace(s,"$1use strict$2")+`
`;return n}function ih(e,t){var r=nh(e),n=new Blob(r,{type:"application/javascript"});return URL.createObjectURL(n)}function sh(e,t){var r;return function(i){return r=r||ih(e),new Worker(r,i)}}var oh=sh(function(){(function(){"__worker_loader_strict__";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(u,c,d,f){function h(g){return g instanceof d?g:new d(function(m){m(g)})}return new(d||(d=Promise))(function(g,m){function b(_){try{k(f.next(_))}catch(x){m(x)}}function S(_){try{k(f.throw(_))}catch(x){m(x)}}function k(_){_.done?g(_.value):h(_.value).then(b,S)}k((f=f.apply(u,[])).next())})}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;var i=function(u){var c=new Uint8Array(u),d,f=c.length,h="";for(d=0;d<f;d+=3)h+=t[c[d]>>2],h+=t[(c[d]&3)<<4|c[d+1]>>4],h+=t[(c[d+1]&15)<<2|c[d+2]>>6],h+=t[c[d+2]&63];return f%3===2?h=h.substring(0,h.length-1)+"=":f%3===1&&(h=h.substring(0,h.length-2)+"=="),h};const s=new Map,o=new Map;function a(u,c,d){return e(this,void 0,void 0,function*(){const f=`${u}-${c}`;if("OffscreenCanvas"in globalThis){if(o.has(f))return o.get(f);const h=new OffscreenCanvas(u,c);h.getContext("2d");const m=yield(yield h.convertToBlob(d)).arrayBuffer(),b=i(m);return o.set(f,b),b}else return""})}const l=self;l.onmessage=function(u){return e(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){const{id:c,bitmap:d,width:f,height:h,dataURLOptions:g}=u.data,m=a(f,h,g),b=new OffscreenCanvas(f,h);b.getContext("2d").drawImage(d,0,0),d.close();const k=yield b.convertToBlob(g),_=k.type,x=yield k.arrayBuffer(),A=i(x);if(!s.has(c)&&(yield m)===A)return s.set(c,A),l.postMessage({id:c});if(s.get(c)===A)return l.postMessage({id:c});l.postMessage({id:c,type:_,base64:A,width:f,height:h}),s.set(c,A)}else return l.postMessage({id:u.data.id})})}})()});class ah{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(u)};const{sampling:r="all",win:n,blockClass:i,blockSelector:s,recordCanvas:o,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,o&&r==="all"&&this.initCanvasMutationObserver(n,i,s),o&&typeof r=="number"&&this.initCanvasFPSObserver(r,n,i,s,{dataURLOptions:a})}initCanvasFPSObserver(t,r,n,i,s){const o=Ra(r,n,i,!0),a=new Map,l=new oh;l.onmessage=g=>{const{id:m}=g.data;if(a.set(m,!1),!("base64"in g.data))return;const{base64:b,type:S,width:k,height:_}=g.data;this.mutationCb({id:m,type:on["2D"],commands:[{property:"clearRect",args:[0,0,k,_]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:b}],type:S}]},0,0]}]})};const u=1e3/t;let c=0,d;const f=()=>{const g=[];return r.document.querySelectorAll("canvas").forEach(m=>{lt(m,n,i,!0)||g.push(m)}),g},h=g=>{if(c&&g-c<u){d=requestAnimationFrame(h);return}c=g,f().forEach(m=>Jf(this,void 0,void 0,function*(){var b;const S=this.mirror.getId(m);if(a.get(S)||m.width===0||m.height===0)return;if(a.set(S,!0),["webgl","webgl2"].includes(m.__context)){const _=m.getContext(m.__context);((b=_==null?void 0:_.getContextAttributes())===null||b===void 0?void 0:b.preserveDrawingBuffer)===!1&&_.clear(_.COLOR_BUFFER_BIT)}const k=yield createImageBitmap(m);l.postMessage({id:S,bitmap:k,width:m.width,height:m.height,dataURLOptions:s.dataURLOptions},[k])})),d=requestAnimationFrame(h)};d=requestAnimationFrame(h),this.resetObservers=()=>{o(),cancelAnimationFrame(d)}}initCanvasMutationObserver(t,r,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=Ra(t,r,n,!1),s=eh(this.processMutation.bind(this),t,r,n),o=rh(this.processMutation.bind(this),t,r,n,this.mirror);this.resetObservers=()=>{i(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=r=>{this.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{const n=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,n)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||r===-1)return;const i=n.map(o=>Yf(o,["type"])),{type:s}=n[0];this.mutationCb({id:r,type:s,commands:i}),this.pendingCanvasMutations.delete(t)}}class lh{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ef,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const n={id:r,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:lc(a),index:l}))})),n.styleIds.push(o)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ch{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){const n=this.nodeMap.get(t);return n&&Array.from(n).some(i=>i!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function je(e){return Object.assign(Object.assign({},e),{timestamp:Oi()})}let $e,bi,Cs,Di=!1;const Et=tf();function Xn(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:u=null,inlineStylesheet:c=!0,maskAllInputs:d,maskInputOptions:f,slimDOMOptions:h,maskInputFn:g,maskTextFn:m,hooks:b,packFn:S,sampling:k={},dataURLOptions:_={},mousemoveWait:x,recordDOM:A=!0,recordCanvas:W=!1,recordCrossOriginIframes:q=!1,recordAfter:z=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ne=!1,collectFonts:ce=!1,inlineImages:ye=!1,plugins:Q,keepIframeSrcFn:fe=()=>!1,ignoreCSSAttributes:Z=new Set([]),errorHandler:Se}=e;Rf(Se);const oe=q?window.parent===window:!0;let ee=!1;if(!oe)try{window.parent.document&&(ee=!1)}catch{ee=!0}if(oe&&!t)throw new Error("emit function is required");x!==void 0&&k.mousemove===void 0&&(k.mousemove=x),Et.reset();const ae=d===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:f!==void 0?f:{password:!0},Ye=h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:h==="all",headMetaDescKeywords:h==="all"}:h||{};Mf();let Ne,ut=0;const Qe=U=>{for(const ue of Q||[])ue.eventProcessor&&(U=ue.eventProcessor(U));return S&&!ee&&(U=S(U)),U};$e=(U,ue)=>{var y;if(!((y=Or[0])===null||y===void 0)&&y.isFrozen()&&U.type!==ge.FullSnapshot&&!(U.type===ge.IncrementalSnapshot&&U.data.source===de.Mutation)&&Or.forEach(v=>v.unfreeze()),oe)t==null||t(Qe(U),ue);else if(ee){const v={type:"rrweb",event:Qe(U),origin:window.location.origin,isCheckout:ue};window.parent.postMessage(v,"*")}if(U.type===ge.FullSnapshot)Ne=U,ut=0;else if(U.type===ge.IncrementalSnapshot){if(U.data.source===de.Mutation&&U.data.isAttachIframe)return;ut++;const v=n&&ut>=n,C=r&&U.timestamp-Ne.timestamp>r;(v||C)&&bi(!0)}};const Ct=U=>{$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Mutation},U)}))},Vt=U=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Scroll},U)})),xr=U=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.CanvasMutation},U)})),dt=U=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.AdoptedStyleSheet},U)})),I=new lh({mutationCb:Ct,adoptedStyleSheetCb:dt}),F=new Gf({mirror:Et,mutationCb:Ct,stylesheetManager:I,recordCrossOriginIframes:q,wrappedEmit:$e});for(const U of Q||[])U.getMirror&&U.getMirror({nodeMirror:Et,crossOriginIframeMirror:F.crossOriginIframeMirror,crossOriginIframeStyleMirror:F.crossOriginIframeStyleMirror});const $=new ch;Cs=new ah({recordCanvas:W,mutationCb:xr,win:window,blockClass:i,blockSelector:s,mirror:Et,sampling:k.canvas,dataURLOptions:_});const j=new Kf({mutationCb:Ct,scrollCb:Vt,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskInputOptions:ae,dataURLOptions:_,maskTextFn:m,maskInputFn:g,recordCanvas:W,inlineImages:ye,sampling:k,slimDOMOptions:Ye,iframeManager:F,stylesheetManager:I,canvasManager:Cs,keepIframeSrcFn:fe,processedNodeManager:$},mirror:Et});bi=(U=!1)=>{if(!A)return;$e(je({type:ge.Meta,data:{href:window.location.href,width:yc(),height:mc()}}),U),I.reset(),j.init(),Or.forEach(y=>y.lock());const ue=xf(document,{mirror:Et,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskAllInputs:ae,maskTextFn:m,slimDOM:Ye,dataURLOptions:_,recordCanvas:W,inlineImages:ye,onSerialize:y=>{bc(y,Et)&&F.addIframe(y),kc(y,Et)&&I.trackLinkElement(y),to(y)&&j.addShadowRoot(y.shadowRoot,document)},onIframeLoad:(y,v)=>{F.attachIframe(y,v),j.observeAttachShadow(y)},onStylesheetLoad:(y,v)=>{I.attachLinkElement(y,v)},keepIframeSrcFn:fe});if(!ue)return console.warn("Failed to snapshot the document");$e(je({type:ge.FullSnapshot,data:{node:ue,initialOffset:gc(window)}}),U),Or.forEach(y=>y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&I.adoptStyleSheets(document.adoptedStyleSheets,Et.getId(document))};try{const U=[],ue=v=>{var C;return pe(zf)({mutationCb:Ct,mousemoveCb:(E,T)=>$e(je({type:ge.IncrementalSnapshot,data:{source:T,positions:E}})),mouseInteractionCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.MouseInteraction},E)})),scrollCb:Vt,viewportResizeCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.ViewportResize},E)})),inputCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Input},E)})),mediaInteractionCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.MediaInteraction},E)})),styleSheetRuleCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.StyleSheetRule},E)})),styleDeclarationCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.StyleDeclaration},E)})),canvasMutationCb:xr,fontCb:E=>$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Font},E)})),selectionCb:E=>{$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.Selection},E)}))},customElementCb:E=>{$e(je({type:ge.IncrementalSnapshot,data:Object.assign({source:de.CustomElement},E)}))},blockClass:i,ignoreClass:o,ignoreSelector:a,maskTextClass:l,maskTextSelector:u,maskInputOptions:ae,inlineStylesheet:c,sampling:k,recordDOM:A,recordCanvas:W,inlineImages:ye,userTriggeredOnInput:ne,collectFonts:ce,doc:v,maskInputFn:g,maskTextFn:m,keepIframeSrcFn:fe,blockSelector:s,slimDOMOptions:Ye,dataURLOptions:_,mirror:Et,iframeManager:F,stylesheetManager:I,shadowDomManager:j,processedNodeManager:$,canvasManager:Cs,ignoreCSSAttributes:Z,plugins:((C=Q==null?void 0:Q.filter(E=>E.observer))===null||C===void 0?void 0:C.map(E=>({observer:E.observer,options:E.options,callback:T=>$e(je({type:ge.Plugin,data:{plugin:E.name,payload:T}}))})))||[]},b)};F.addLoadListener(v=>{try{U.push(ue(v.contentDocument))}catch(C){console.warn(C)}});const y=()=>{bi(),U.push(ue(document)),Di=!0};return document.readyState==="interactive"||document.readyState==="complete"?y():(U.push(at("DOMContentLoaded",()=>{$e(je({type:ge.DomContentLoaded,data:{}})),z==="DOMContentLoaded"&&y()})),U.push(at("load",()=>{$e(je({type:ge.Load,data:{}})),z==="load"&&y()},window))),()=>{U.forEach(v=>v()),$.destroy(),Di=!1,Df()}}catch(U){console.warn(U)}}Xn.addCustomEvent=(e,t)=>{if(!Di)throw new Error("please add custom event after start recording");$e(je({type:ge.Custom,data:{tag:e,payload:t}}))};Xn.freezePage=()=>{Or.forEach(e=>e.freeze())};Xn.takeFullSnapshot=e=>{if(!Di)throw new Error("please take full snapshot after start recording");bi(e)};Xn.mirror=Et;var Rc=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Rc||{}),Nt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Nt||{}),Ut={DEBUG:!1,LIB_VERSION:"2.58.0"},K;if(typeof window>"u"){var Pa={hostname:""};K={navigator:{userAgent:"",onLine:!0},document:{location:Pa,referrer:""},screen:{width:0,height:0},location:Pa}}else K=window;var La=K.setImmediate,gr,no,io,Dc=Object.prototype.toString,uh=typeof La<"u"?function(t){return La(t)}:setTimeout;try{Object.defineProperty({},"x",{}),gr=function(t,r,n,i){return Object.defineProperty(t,r,{value:n,writable:!0,configurable:i!==!1})}}catch{gr=function(r,n,i){return r[n]=i,r}}io=function(){var t,r,n;function i(s,o){this.fn=s,this.self=o,this.next=void 0}return{add:function(o,a){n=new i(o,a),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var o=t;for(t=r=no=void 0;o;)o.fn.call(o.self),o=o.next}}}();function Pi(e,t){io.add(e,t),no||(no=uh(io.drain))}function Pc(e){var t,r=typeof e;return e!==null&&(r==="object"||r==="function")&&(t=e.then),typeof t=="function"?t:!1}function $o(){for(var e=0;e<this.chain.length;e++)dh(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function dh(e,t,r){var n,i;try{t===!1?r.reject(e.msg):(t===!0?n=e.msg:n=t.call(void 0,e.msg),n===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=Pc(n))?i.call(n,r.resolve,r.reject):r.resolve(n))}catch(s){r.reject(s)}}function Lc(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=Pc(e))?Pi(function(){var n=new Na(r);try{t.call(e,function(){Lc.apply(n,arguments)},function(){En.apply(n,arguments)})}catch(i){En.call(n,i)}}):(r.msg=e,r.state=1,r.chain.length>0&&Pi($o,r))}catch(n){En.call(new Na(r),n)}}}function En(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&Pi($o,t))}function Nc(e,t,r,n){for(var i=0;i<t.length;i++)(function(o){e.resolve(t[o]).then(function(l){r(o,l)},n)})(i)}function Na(e){this.def=e,this.triggered=!1}function fh(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function vr(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var t=new fh(this);this.then=function(n,i){var s={success:typeof n=="function"?n:!0,failure:typeof i=="function"?i:!1};return s.promise=new this.constructor(function(a,l){if(typeof a!="function"||typeof l!="function")throw TypeError("Not a function");s.resolve=a,s.reject=l}),t.chain.push(s),t.state!==0&&Pi($o,t),s.promise},this.catch=function(n){return this.then(void 0,n)};try{e.call(void 0,function(n){Lc.call(t,n)},function(n){En.call(t,n)})}catch(r){En.call(t,r)}}var $c=gr({},"constructor",vr,!1);vr.prototype=$c;gr($c,"__NPO__",0,!1);gr(vr,"resolve",function(t){var r=this;return t&&typeof t=="object"&&t.__NPO__===1?t:new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");i(t)})});gr(vr,"reject",function(t){return new this(function(n,i){if(typeof n!="function"||typeof i!="function")throw TypeError("Not a function");i(t)})});gr(vr,"all",function(t){var r=this;return Dc.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):t.length===0?r.resolve([]):new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");var o=t.length,a=Array(o),l=0;Nc(r,t,function(c,d){a[c]=d,++l===o&&i(a)},s)})});gr(vr,"race",function(t){var r=this;return Dc.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):new r(function(i,s){if(typeof i!="function"||typeof s!="function")throw TypeError("Not a function");Nc(r,t,function(a,l){i(l)},s)})});var Be;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?Be=Promise:Be=vr;var In=24*60*60*1e3,Ms=8*1e3,ns=Array.prototype,hh=Function.prototype,Fc=Object.prototype,dr=ns.slice,Zn=Fc.toString,is=Fc.hasOwnProperty,We=K.console,fr=K.navigator,Ie=K.document,di=K.opera,Li=K.screen,Ft=fr.userAgent,Es=hh.bind,$a=ns.forEach,Fa=ns.indexOf,Ba=ns.map,ph=Array.isArray,so={},p={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},_e={log:function(){if(Ut.DEBUG&&!p.isUndefined(We)&&We)try{We.log.apply(We,arguments)}catch{p.each(arguments,function(t){We.log(t)})}},warn:function(){if(Ut.DEBUG&&!p.isUndefined(We)&&We){var e=["Mixpanel warning:"].concat(p.toArray(arguments));try{We.warn.apply(We,e)}catch{p.each(e,function(r){We.warn(r)})}}},error:function(){if(Ut.DEBUG&&!p.isUndefined(We)&&We){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{We.error.apply(We,e)}catch{p.each(e,function(r){We.error(r)})}}},critical:function(){if(!p.isUndefined(We)&&We){var e=["Mixpanel error:"].concat(p.toArray(arguments));try{We.error.apply(We,e)}catch{p.each(e,function(r){We.error(r)})}}}},Is=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(_e,arguments)}},ei=function(e){return{log:Is(_e.log,e),error:Is(_e.error,e),critical:Is(_e.critical,e)}};p.bind=function(e,t){var r,n;if(Es&&e.bind===Es)return Es.apply(e,dr.call(arguments,1));if(!p.isFunction(e))throw new TypeError;return r=dr.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(dr.call(arguments)));var i={};i.prototype=e.prototype;var s=new i;i.prototype=null;var o=e.apply(s,r.concat(dr.call(arguments)));return Object(o)===o?o:s},n};p.each=function(e,t,r){if(e!=null){if($a&&e.forEach===$a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===so)return}else for(var s in e)if(is.call(e,s)&&t.call(r,e[s],s,e)===so)return}};p.extend=function(e){return p.each(dr.call(arguments,1),function(t){for(var r in t)t[r]!==void 0&&(e[r]=t[r])}),e};p.isArray=ph||function(e){return Zn.call(e)==="[object Array]"};p.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};p.isArguments=function(e){return!!(e&&is.call(e,"callee"))};p.toArray=function(e){return e?e.toArray?e.toArray():p.isArray(e)||p.isArguments(e)?dr.call(e):p.values(e):[]};p.map=function(e,t,r){if(Ba&&e.map===Ba)return e.map(t,r);var n=[];return p.each(e,function(i){n.push(t.call(r,i))}),n};p.keys=function(e){var t=[];return e===null||p.each(e,function(r,n){t[t.length]=n}),t};p.values=function(e){var t=[];return e===null||p.each(e,function(r){t[t.length]=r}),t};p.include=function(e,t){var r=!1;return e===null?r:Fa&&e.indexOf===Fa?e.indexOf(t)!=-1:(p.each(e,function(n){if(r||(r=n===t))return so}),r)};p.includes=function(e,t){return e.indexOf(t)!==-1};p.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};p.isObject=function(e){return e===Object(e)&&!p.isArray(e)};p.isEmptyObject=function(e){if(p.isObject(e)){for(var t in e)if(is.call(e,t))return!1;return!0}return!1};p.isUndefined=function(e){return e===void 0};p.isString=function(e){return Zn.call(e)=="[object String]"};p.isDate=function(e){return Zn.call(e)=="[object Date]"};p.isNumber=function(e){return Zn.call(e)=="[object Number]"};p.isElement=function(e){return!!(e&&e.nodeType===1)};p.encodeDates=function(e){return p.each(e,function(t,r){p.isDate(t)?e[r]=p.formatDate(t):p.isObject(t)&&(e[r]=p.encodeDates(t))}),e};p.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};p.formatDate=function(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};p.strip_empty_properties=function(e){var t={};return p.each(e,function(r,n){p.isString(r)&&r.length>0&&(t[n]=r)}),t};p.truncate=function(e,t){var r;return typeof e=="string"?r=e.slice(0,t):p.isArray(e)?(r=[],p.each(e,function(n){r.push(p.truncate(n,t))})):p.isObject(e)?(r={},p.each(e,function(n,i){r[i]=p.truncate(n,t)})):r=e,r};p.JSONEncode=function(){return function(e){var t=e,r=function(i){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(i)?'"'+i.replace(s,function(a){var l=o[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},n=function(i,s){var o="",a="    ",l=0,u="",c="",d=0,f=o,h=[],g=s[i];switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(i)),typeof g){case"string":return r(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(o+=a,h=[],Zn.apply(g)==="[object Array]"){for(d=g.length,l=0;l<d;l+=1)h[l]=n(l,g)||"null";return c=h.length===0?"[]":o?`[
`+o+h.join(`,
`+o)+`
`+f+"]":"["+h.join(",")+"]",o=f,c}for(u in g)is.call(g,u)&&(c=n(u,g),c&&h.push(r(u)+(o?": ":":")+c));return c=h.length===0?"{}":o?"{"+h.join(",")+f+"}":"{"+h.join(",")+"}",o=f,c}};return n("",{"":t})}}();p.JSONDecode=function(){var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,i=function(h){var g=new SyntaxError(h);throw g.at=e,g.text=n,g},s=function(h){return h&&h!==t&&i("Expected '"+h+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},o=function(){var h,g="";for(t==="-"&&(g="-",s("-"));t>="0"&&t<="9";)g+=t,s();if(t===".")for(g+=".";s()&&t>="0"&&t<="9";)g+=t;if(t==="e"||t==="E")for(g+=t,s(),(t==="-"||t==="+")&&(g+=t,s());t>="0"&&t<="9";)g+=t,s();if(h=+g,!isFinite(h))i("Bad number");else return h},a=function(){var h,g,m="",b;if(t==='"')for(;s();){if(t==='"')return s(),m;if(t==="\\")if(s(),t==="u"){for(b=0,g=0;g<4&&(h=parseInt(s(),16),!!isFinite(h));g+=1)b=b*16+h;m+=String.fromCharCode(b)}else if(typeof r[t]=="string")m+=r[t];else break;else m+=t}i("Bad string")},l=function(){for(;t&&t<=" ";)s()},u=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}i('Unexpected "'+t+'"')},c,d=function(){var h=[];if(t==="["){if(s("["),l(),t==="]")return s("]"),h;for(;t;){if(h.push(c()),l(),t==="]")return s("]"),h;s(","),l()}}i("Bad array")},f=function(){var h,g={};if(t==="{"){if(s("{"),l(),t==="}")return s("}"),g;for(;t;){if(h=a(),l(),s(":"),Object.hasOwnProperty.call(g,h)&&i('Duplicate key "'+h+'"'),g[h]=c(),l(),t==="}")return s("}"),g;s(","),l()}}i("Bad object")};return c=function(){switch(l(),t){case"{":return f();case"[":return d();case'"':return a();case"-":return o();default:return t>="0"&&t<="9"?o():u()}},function(h){var g;return n=h,e=0,t=" ",g=c(),l(),t&&i("Syntax error"),g}}();p.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,i,s,o,a,l,u,c=0,d=0,f="",h=[];if(!e)return e;e=p.utf8Encode(e);do r=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),u=r<<16|n<<8|i,s=u>>18&63,o=u>>12&63,a=u>>6&63,l=u&63,h[d++]=t.charAt(s)+t.charAt(o)+t.charAt(a)+t.charAt(l);while(c<e.length);switch(f=h.join(""),e.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break}return f};p.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",r,n,i=0,s;for(r=n=0,i=e.length,s=0;s<i;s++){var o=e.charCodeAt(s),a=null;o<128?n++:o>127&&o<2048?a=String.fromCharCode(o>>6|192,o&63|128):a=String.fromCharCode(o>>12|224,o>>6&63|128,o&63|128),a!==null&&(n>r&&(t+=e.substring(r,n)),t+=a,r=n=s+1)}return n>r&&(t+=e.substring(r,e.length)),t};p.UUID=function(){var e=function(){var n=1*new Date,i;if(K.performance&&K.performance.now)i=K.performance.now();else for(i=0;n==1*new Date;)i++;return n.toString(16)+Math.floor(i).toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){var n=Ft,i,s,o=[],a=0;function l(u,c){var d,f=0;for(d=0;d<c.length;d++)f|=o[d]<<d*8;return u^f}for(i=0;i<n.length;i++)s=n.charCodeAt(i),o.unshift(s&255),o.length>=4&&(a=l(a,o),o=[]);return o.length>0&&(a=l(a,o)),a.toString(16)};return function(){var n=(Li.height*Li.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}();var Ua=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];p.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<Ua.length;t++)if(e.indexOf(Ua[t])!==-1)return!0;return!1};p.HTTPBuildQuery=function(e,t){var r,n,i=[];return p.isUndefined(t)&&(t="&"),p.each(e,function(s,o){r=encodeURIComponent(s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+r}),i.join(t)};p.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var s=i[1];try{s=decodeURIComponent(s)}catch{_e.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};p.cookie={get:function(e){for(var t=e+"=",r=Ie.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=p.JSONDecode(p.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,r,n,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(n){var c=Ha(Ie.location.hostname);a=c?"; domain=."+c:""}if(r){var d=new Date;d.setTime(d.getTime()+r*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),Ie.cookie=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u},set:function(e,t,r,n,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(n){var c=Ha(Ie.location.hostname);a=c?"; domain=."+c:""}if(r){var d=new Date;d.setTime(d.getTime()+r*24*60*60*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var f=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u;return Ie.cookie=f,f},remove:function(e,t,r){p.cookie.set(e,"",-1,t,!1,!1,r)}};var Ts=null,Ni=function(e,t){if(Ts!==null&&!t)return Ts;var r=!0;try{e=e||K.localStorage;var n="__mplss_"+Fo(8),i="xyz";e.setItem(n,i),e.getItem(n)!==i&&(r=!1),e.removeItem(n)}catch{r=!1}return Ts=r,r};p.localStorage={is_supported:function(e){var t=Ni(null,e);return t||_e.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){_e.error("localStorage error: "+e)},get:function(e){try{return K.localStorage.getItem(e)}catch(t){p.localStorage.error(t)}return null},parse:function(e){try{return p.JSONDecode(p.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{K.localStorage.setItem(e,t)}catch(r){p.localStorage.error(r)}},remove:function(e){try{K.localStorage.removeItem(e)}catch(t){p.localStorage.error(t)}}};p.register_event=function(){var e=function(n,i,s,o,a){if(!n){_e.error("No valid element provided to register_event");return}if(n.addEventListener&&!o)n.addEventListener(i,s,!!a);else{var l="on"+i,u=n[l];n[l]=t(n,s,u)}};function t(n,i,s){var o=function(a){if(a=a||r(K.event),!!a){var l=!0,u,c;return p.isFunction(s)&&(u=s(a)),c=i.call(n,a),(u===!1||c===!1)&&(l=!1),l}};return o}function r(n){return n&&(n.preventDefault=r.preventDefault,n.stopPropagation=r.stopPropagation),n}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},e}();var gh=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');p.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(i,s){var o=" "+s+" ";return(" "+i.className+" ").replace(t," ").indexOf(o)>=0}function n(i){if(!Ie.getElementsByTagName)return[];var s=i.split(" "),o,a,l,u,c,d,f,h,g,m,b=[Ie];for(d=0;d<s.length;d++){if(o=s[d].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){a=o.split("#"),l=a[0];var S=a[1],k=Ie.getElementById(S);if(!k||l&&k.nodeName.toLowerCase()!=l)return[];b=[k];continue}if(o.indexOf(".")>-1){a=o.split("."),l=a[0];var _=a[1];for(l||(l="*"),u=[],c=0,f=0;f<b.length;f++)for(l=="*"?g=e(b[f]):g=b[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];for(b=[],m=0,f=0;f<u.length;f++)u[f].className&&p.isString(u[f].className)&&r(u[f],_)&&(b[m++]=u[f]);continue}var x=o.match(gh);if(x){l=x[1];var A=x[2],W=x[3],q=x[4];for(l||(l="*"),u=[],c=0,f=0;f<b.length;f++)for(l=="*"?g=e(b[f]):g=b[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];b=[],m=0;var z;switch(W){case"=":z=function(ne){return ne.getAttribute(A)==q};break;case"~":z=function(ne){return ne.getAttribute(A).match(new RegExp("\\b"+q+"\\b"))};break;case"|":z=function(ne){return ne.getAttribute(A).match(new RegExp("^"+q+"-?"))};break;case"^":z=function(ne){return ne.getAttribute(A).indexOf(q)===0};break;case"$":z=function(ne){return ne.getAttribute(A).lastIndexOf(q)==ne.getAttribute(A).length-q.length};break;case"*":z=function(ne){return ne.getAttribute(A).indexOf(q)>-1};break;default:z=function(ne){return ne.getAttribute(A)}}for(b=[],m=0,f=0;f<u.length;f++)z(u[f])&&(b[m++]=u[f]);continue}for(l=o,u=[],c=0,f=0;f<b.length;f++)for(g=b[f].getElementsByTagName(l),h=0;h<g.length;h++)u[c++]=g[h];b=u}return b}return function(i){return p.isElement(i)?[i]:p.isObject(i)&&!p.isUndefined(i.length)?i:n.call(this,i)}}();var mh=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],yh=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];p.info={campaignParams:function(e){var t="",r={};return p.each(mh,function(n){t=p.getQueryParam(Ie.URL,n),t.length?r[n]=t:e!==void 0&&(r[n]=e)}),r},clickParams:function(){var e="",t={};return p.each(yh,function(r){e=p.getQueryParam(Ie.URL,r),e.length&&(t[r]=e)}),t},marketingParams:function(){return p.extend(p.info.campaignParams(),p.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=p.info.searchEngine(e),r=t!="yahoo"?"q":"p",n={};if(t!==null){n.$search_engine=t;var i=p.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||p.includes(e," OPR/")?p.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":p.includes(e,"IEMobile")||p.includes(e,"WPDesktop")?"Internet Explorer Mobile":p.includes(e,"SamsungBrowser/")?"Samsung Internet":p.includes(e,"Edge")||p.includes(e,"Edg/")?"Microsoft Edge":p.includes(e,"FBIOS")?"Facebook Mobile":p.includes(e,"Chrome")?"Chrome":p.includes(e,"CriOS")?"Chrome iOS":p.includes(e,"UCWEB")||p.includes(e,"UCBrowser")?"UC Browser":p.includes(e,"FxiOS")?"Firefox iOS":p.includes(t,"Apple")?p.includes(e,"Mobile")?"Mobile Safari":"Safari":p.includes(e,"Android")?"Android Mobile":p.includes(e,"Konqueror")?"Konqueror":p.includes(e,"Firefox")?"Firefox":p.includes(e,"MSIE")||p.includes(e,"Trident/")?"Internet Explorer":p.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=p.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},s=i[n];if(s===void 0)return null;var o=e.match(s);return o?parseFloat(o[o.length-2]):null},os:function(){var e=Ft;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return K.location.href},properties:function(e){return typeof e!="object"&&(e={}),p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(Ft,fr.vendor,di),$referrer:Ie.referrer,$referring_domain:p.info.referringDomain(Ie.referrer),$device:p.info.device(Ft)}),{$current_url:p.info.currentUrl(),$browser_version:p.info.browserVersion(Ft,fr.vendor,di),$screen_height:Li.height,$screen_width:Li.width,mp_lib:"web",$lib_version:Ut.LIB_VERSION,$insert_id:Fo(),time:p.timestamp()/1e3},p.strip_empty_properties(e))},people_properties:function(){return p.extend(p.strip_empty_properties({$os:p.info.os(),$browser:p.info.browser(Ft,fr.vendor,di)}),{$browser_version:p.info.browserVersion(Ft,fr.vendor,di)})},mpPageViewProperties:function(){return p.strip_empty_properties({current_page_title:Ie.title,current_domain:K.location.hostname,current_url_path:K.location.pathname,current_url_protocol:K.location.protocol,current_url_search:K.location.search})}};var Fo=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},_h=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,vh=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,Ha=function(e){var t=vh,r=e.split("."),n=r[r.length-1];(n.length>4||n==="com"||n==="org")&&(t=_h);var i=e.match(t);return i?i[0]:""},bh=function(){var e=K.navigator.onLine;return p.isUndefined(e)||e},$i=null,Fi=null;typeof JSON<"u"&&($i=JSON.stringify,Fi=JSON.parse);$i=$i||p.JSONEncode;Fi=Fi||p.JSONDecode;p.toArray=p.toArray;p.isObject=p.isObject;p.JSONEncode=p.JSONEncode;p.JSONDecode=p.JSONDecode;p.isBlockedUA=p.isBlockedUA;p.isEmptyObject=p.isEmptyObject;p.info=p.info;p.info.device=p.info.device;p.info.browser=p.info.browser;p.info.browserVersion=p.info.browserVersion;p.info.properties=p.info.properties;p.NPO=vr;var kh="__mp_opt_in_out_";function wh(e,t){Hc(!0,e,t)}function Sh(e,t){Hc(!1,e,t)}function xh(e,t){return Uc(e,t)==="1"}function Bc(e,t){if(Mh(t))return _e.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=Uc(e,t)==="0";return r&&_e.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function br(e){return Ho(e,function(t){return this.get_config(t)})}function kr(e){return Ho(e,function(t){return this._get_config(t)})}function hn(e){return Ho(e,function(t){return this._get_config(t)})}function Ch(e,t){t=t||{},Bo(t).remove(Uo(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function Bo(e){return e=e||{},e.persistenceType==="localStorage"?p.localStorage:p.cookie}function Uo(e,t){return t=t||{},(t.persistencePrefix||kh)+e}function Uc(e,t){return Bo(t).get(Uo(e,t))}function Mh(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||K,r=t.navigator||{},n=!1;return p.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],function(i){p.includes([!0,1,"1","yes"],i)&&(n=!0)}),n}function Hc(e,t,r){if(!p.isString(t)||!t.length){_e.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}r=r||{},Bo(r).set(Uo(t,r),e?1:0,p.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function Ho(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),i=t.call(this,"ignore_dnt"),s=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");n&&(r=Bc(n,{ignoreDnt:i,persistenceType:s,persistencePrefix:o,window:a}))}catch(u){_e.error("Unexpected error when checking tracking opt-out status: "+u)}if(!r)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var Eh=ei("lock"),Wc=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3,this.promiseImpl=t.promiseImpl||Be};Wc.prototype.withLock=function(e,t){var r=this.promiseImpl;return new r(p.bind(function(n,i){var s=t||new Date().getTime()+"|"+Math.random(),o=new Date().getTime(),a=this.storageKey,l=this.pollIntervalMS,u=this.timeoutMS,c=this.storage,d=a+":X",f=a+":Y",h=a+":Z",g=function(_){if(new Date().getTime()-o>u){Eh.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+s+"]"),c.removeItem(h),c.removeItem(f),S();return}setTimeout(function(){try{_()}catch(x){i(x)}},l*(Math.random()+.1))},m=function(_,x){_()?x():g(function(){m(_,x)})},b=function(){var _=c.getItem(f);return _&&_!==s?!1:(c.setItem(f,s),c.getItem(f)===s?!0:(Ni(c,!0)||i(new Error("localStorage support dropped while acquiring lock")),!1))},S=function(){c.setItem(d,s),m(b,function(){if(c.getItem(d)===s){k();return}g(function(){if(c.getItem(f)!==s){S();return}m(function(){return!c.getItem(h)},k)})})},k=function(){c.setItem(h,"1");var _=function(){c.removeItem(h),c.getItem(f)===s&&c.removeItem(f),c.getItem(d)===s&&c.removeItem(d)};e().then(function(x){_(),n(x)}).catch(function(x){_(),i(x)})};try{if(Ni(c,!0))S();else throw new Error("localStorage support check failed")}catch(_){i(_)}},this))};var ti=function(e){this.storage=e||localStorage};ti.prototype.init=function(){return Be.resolve()};ti.prototype.setItem=function(e,t){return new Be(p.bind(function(r,n){try{this.storage.setItem(e,t)}catch(i){n(i)}r()},this))};ti.prototype.getItem=function(e){return new Be(p.bind(function(t,r){var n;try{n=this.storage.getItem(e)}catch(i){r(i)}t(n)},this))};ti.prototype.removeItem=function(e){return new Be(p.bind(function(t,r){try{this.storage.removeItem(e)}catch(n){r(n)}t()},this))};var Wa=ei("batch"),rr=function(e,t){t=t||{},this.storageKey=e,this.usePersistence=t.usePersistence,this.usePersistence&&(this.queueStorage=t.queueStorage||new ti,this.lock=new Wc(e,{storage:t.sharedLockStorage||window.localStorage}),this.queueStorage.init()),this.reportError=t.errorReporter||p.bind(Wa.error,Wa),this.pid=t.pid||null,this.memQueue=[],this.initialized=!1};rr.prototype.ensureInit=function(){return this.initialized?Be.resolve():this.queueStorage.init().then(p.bind(function(){this.initialized=!0},this)).catch(p.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};rr.prototype.enqueue=function(e,t){var r={id:Fo(),flushAfter:new Date().getTime()+t*2,payload:e};if(this.usePersistence){var n=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(i){return i.push(r),this.saveToStorage(i)},this)).then(p.bind(function(i){return i&&this.memQueue.push(r),i},this)).catch(p.bind(function(i){return this.reportError("Error enqueueing item",i,e),!1},this))},this);return this.lock.withLock(n,this.pid).catch(p.bind(function(i){return this.reportError("Error acquiring storage lock",i),!1},this))}else return this.memQueue.push(r),Be.resolve(!0)};rr.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);return this.usePersistence&&t.length<e?this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(r){if(r.length){var n={};p.each(t,function(o){n[o.id]=!0});for(var i=0;i<r.length;i++){var s=r[i];if(new Date().getTime()>s.flushAfter&&!n[s.id]&&(s.orphaned=!0,t.push(s),t.length>=e))break}}return t},this)):Be.resolve(t)};var ja=function(e,t){var r=[];return p.each(e,function(n){n.id&&!t[n.id]&&r.push(n)}),r};rr.prototype.removeItemsByID=function(e){var t={};if(p.each(e,function(n){t[n]=!0}),this.memQueue=ja(this.memQueue,t),this.usePersistence){var r=p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(n){return n=ja(n,t),this.saveToStorage(n)},this)).then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(n){for(var i=0;i<n.length;i++){var s=n[i];if(s.id&&t[s.id])throw new Error("Item not removed from storage")}return!0},this)).catch(p.bind(function(n){return this.reportError("Error removing items",n,e),!1},this))},this);return this.lock.withLock(r,this.pid).catch(p.bind(function(n){return this.reportError("Error acquiring storage lock",n),Ni(this.queueStorage.storage,!0)?!1:r().then(p.bind(function(i){return i||this.queueStorage.removeItem(this.storageKey).then(function(){return i})},this)).catch(p.bind(function(i){return this.reportError("Error clearing queue",i),!1},this))},this))}else return Be.resolve(!0)};var qa=function(e,t){var r=[];return p.each(e,function(n){var i=n.id;if(i in t){var s=t[i];s!==null&&(n.payload=s,r.push(n))}else r.push(n)}),r};rr.prototype.updatePayloads=function(e){return this.memQueue=qa(this.memQueue,e),this.usePersistence?this.lock.withLock(p.bind(function(){return this.ensureInit().then(p.bind(function(){return this.readFromStorage()},this)).then(p.bind(function(r){return r=qa(r,e),this.saveToStorage(r)},this)).catch(p.bind(function(r){return this.reportError("Error updating items",e,r),!1},this))},this),this.pid).catch(p.bind(function(t){return this.reportError("Error acquiring storage lock",t),!1},this)):Be.resolve(!0)};rr.prototype.readFromStorage=function(){return this.ensureInit().then(p.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(p.bind(function(e){return e&&(e=Fi(e),p.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(p.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};rr.prototype.saveToStorage=function(e){try{var t=$i(e)}catch(r){return this.reportError("Error serializing queue",r),Be.resolve(!1)}return this.ensureInit().then(p.bind(function(){return this.queueStorage.setItem(this.storageKey,t)},this)).then(function(){return!0}).catch(p.bind(function(r){return this.reportError("Error saving queue",r),!1},this))};rr.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(p.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):Be.resolve()};var Ih=10*60*1e3,Tn=ei("batch"),xt=function(e,t){this.errorReporter=t.errorReporter,this.queue=new rr(e,{errorReporter:p.bind(this.reportError,this),queueStorage:t.queueStorage,sharedLockStorage:t.sharedLockStorage,usePersistence:t.usePersistence}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1};xt.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};xt.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};xt.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};xt.prototype.clear=function(){return this.queue.clear()};xt.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};xt.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};xt.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(p.bind(function(){this.stopped||this.flush()},this),this.flushInterval))};xt.prototype.sendRequestPromise=function(e,t){return new Be(p.bind(function(r){this.sendRequest(e,t,r)},this))};xt.prototype.flush=function(e){if(this.requestInProgress)return Tn.log("Flush: Request already in progress"),Be.resolve();this.requestInProgress=!0,e=e||{};var t=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),n=this.batchSize;return this.queue.fillBatch(n).then(p.bind(function(i){var s=i.length===n,o=[],a={};if(p.each(i,function(d){var f=d.payload;if(this.beforeSendHook&&!d.orphaned&&(f=this.beforeSendHook(f)),f){f.event&&f.properties&&(f.properties=p.extend({},f.properties,{mp_sent_by_lib_version:Ut.LIB_VERSION}));var h=!0,g=d.id;g?(this.itemIdsSentSuccessfully[g]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:d,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[g]}),h=!1):this.reportError("[dupe] found item with no ID",{item:d}),h&&o.push(f)}a[d.id]=f},this),o.length<1)return this.requestInProgress=!1,this.resetFlush(),Be.resolve();var l=p.bind(function(){return this.queue.removeItemsByID(p.map(i,function(d){return d.id})).then(p.bind(function(d){return p.each(i,p.bind(function(f){var h=f.id;h?(this.itemIdsSentSuccessfully[h]=this.itemIdsSentSuccessfully[h]||0,this.itemIdsSentSuccessfully[h]++,this.itemIdsSentSuccessfully[h]>5&&this.reportError("[dupe] item ID sent too many times",{item:f,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[h]})):this.reportError("[dupe] found item with no ID while removing",{item:f})},this)),d?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!s?(this.resetFlush(),Be.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),Be.resolve())},this))},this),u=p.bind(function(d){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(p.isObject(d)&&d.error==="timeout"&&new Date().getTime()-r>=t)return this.reportError("Network timeout; retrying"),this.flush();if(p.isObject(d)&&(d.httpStatusCode>=500||d.httpStatusCode===429||d.httpStatusCode<=0&&!bh()||d.error==="timeout")){var f=this.flushInterval*2;return d.retryAfter&&(f=parseInt(d.retryAfter,10)*1e3||f),f=Math.min(Ih,f),this.reportError("Error; retry in "+f+" ms"),this.scheduleFlush(f),Be.resolve()}else if(p.isObject(d)&&d.httpStatusCode===413)if(i.length>1){var h=Math.max(1,Math.floor(n/2));return this.batchSize=Math.min(this.batchSize,h,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),Be.resolve()}else return this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),l();else return l()}catch(g){this.reportError("Error handling API response",g),this.resetFlush()}},this),c={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};return e.unloading&&(c.transport="sendBeacon"),Tn.log("MIXPANEL REQUEST:",o),this.sendRequestPromise(o,c).then(u)},this)).catch(p.bind(function(i){this.reportError("Error flushing request queue",i),this.resetFlush()},this))};xt.prototype.reportError=function(e,t){if(Tn.error.apply(Tn.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(r){Tn.error(r)}};var Kr=ei("recorder"),Va=K.CompressionStream,Th={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},Ah=new Set([Nt.MouseMove,Nt.MouseInteraction,Nt.Scroll,Nt.ViewportResize,Nt.Input,Nt.TouchMove,Nt.MediaInteraction,Nt.Drag,Nt.Selection]);function Oh(e){return e.type===Rc.IncrementalSnapshot&&Ah.has(e.data.source)}var Dt=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout,this._onMaxLengthReached=e.onMaxLengthReached,this._rrwebRecord=e.rrwebRecord,this.replayId=e.replayId,this._stopRecording=null,this.seqNo=0,this.replayStartTime=null,this.replayStartUrl=null,this.batchStartUrl=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=In,this.recordMinMs=0;var t="__mprec_"+this.getConfig("token")+"_"+this.replayId;this.batcher=new xt(t,{errorReporter:p.bind(this.reportError,this),flushOnlyOnInterval:!0,libConfig:Th,sendRequestFunc:p.bind(this.flushEventsWithOptOut,this),usePersistence:!1})};Dt.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};Dt.prototype.get_config=function(e){return this.getConfig(e)};Dt.prototype.startRecording=function(e){if(this._stopRecording!==null){Kr.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>In&&(this.recordMaxMs=In,Kr.critical("record_max_ms cannot be greater than "+In+"ms. Capping value.")),this.recordMinMs=this.getConfig("record_min_ms"),this.recordMinMs>Ms&&(this.recordMinMs=Ms,Kr.critical("record_min_ms cannot be greater than "+Ms+"ms. Capping value.")),this.replayStartTime=new Date().getTime(),this.batchStartUrl=p.info.currentUrl(),this.replayStartUrl=p.info.currentUrl(),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=p.bind(function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(this._onIdleTimeout,this.getConfig("record_idle_timeout_ms"))},this),r=this.getConfig("record_block_selector");if((r===""||r===null)&&(r=void 0),this._stopRecording=this._rrwebRecord({emit:p.bind(function(n){this.batcher.enqueue(n),Oh(n)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t())},this),blockClass:this.getConfig("record_block_class"),blockSelector:r,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15}}),typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}t(),this.maxTimeoutId=setTimeout(p.bind(this._onMaxLengthReached,this),this.recordMaxMs)};Dt.prototype.stopRecording=function(){if(!this.isRrwebStopped()){try{this._stopRecording()}catch(e){this.reportError("Error with rrweb stopRecording",e)}this._stopRecording=null}this.batcher.stopped?this.batcher.clear():(this.batcher.flush(),this.batcher.stop()),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)};Dt.prototype.isRrwebStopped=function(){return this._stopRecording===null};Dt.prototype.flushEventsWithOptOut=function(e,t,r){this._flushEvents(e,t,r,p.bind(this._onOptOut,this))};Dt.prototype._onOptOut=function(e){e===0&&this.stopRecording()};Dt.prototype._sendRequest=function(e,t,r,n){var i=p.bind(function(s,o){s.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=p.info.currentUrl()),n({status:0,httpStatusCode:s.status,responseBody:o,retryAfter:s.headers.get("Retry-After")})},this);K.fetch(this.getConfig("api_host")+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:r}).then(function(s){s.json().then(function(o){i(s,o)}).catch(function(o){n({error:o})})}).catch(function(s){n({error:s,httpStatusCode:0})})};Dt.prototype._flushEvents=br(function(e,t,r){const n=e.length;if(n>0){var i=this.replayId,s=e[0].timestamp;(this.seqNo===0||!this.replayStartTime)&&(this.seqNo!==0&&this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=s);var o=e[n-1].timestamp-this.replayStartTime,a={$current_url:this.batchStartUrl,$lib_version:Ut.LIB_VERSION,batch_start_time:s/1e3,distinct_id:String(this._mixpanel.get_distinct_id()),mp_lib:"web",replay_id:i,replay_length_ms:o,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},l=p.JSONEncode(e),u=this._mixpanel.get_property("$device_id");u&&(a.$device_id=u);var c=this._mixpanel.get_property("$user_id");if(c&&(a.$user_id=c),Va){var d=new Blob([l],{type:"application/json"}).stream(),f=d.pipeThrough(new Va("gzip"));new Response(f).blob().then(p.bind(function(h){a.format="gzip",this._sendRequest(i,a,h,r)},this))}else a.format="body",this._sendRequest(i,a,l,r)}});Dt.prototype.reportError=function(e,t){Kr.error.apply(Kr.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,t)}catch(r){Kr.error(r)}};var As=ei("recorder"),pn=function(e){this._mixpanel=e,this.activeRecording=null};pn.prototype.startRecording=function(e){if(this.activeRecording&&!this.activeRecording.isRrwebStopped()){As.log("Recording already in progress, skipping startRecording.");return}var t=p.bind(function(){As.log("Idle timeout reached, restarting recording."),this.resetRecording()},this),r=p.bind(function(){As.log("Max recording length reached, stopping recording."),this.resetRecording()},this);this.activeRecording=new Dt({mixpanelInstance:this._mixpanel,onIdleTimeout:t,onMaxLengthReached:r,replayId:p.UUID(),rrwebRecord:Xn}),this.activeRecording.startRecording(e)};pn.prototype.stopRecording=function(){this.activeRecording&&(this.activeRecording.stopRecording(),this.activeRecording=null)};pn.prototype.resetRecording=function(){this.stopRecording(),this.startRecording(!0)};pn.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(pn.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});K.__mp_recorder=pn;var nr=function(){};nr.prototype.create_properties=function(){};nr.prototype.event_handler=function(){};nr.prototype.after_track_handler=function(){};nr.prototype.init=function(e){return this.mp=e,this};nr.prototype.track=function(e,t,r,n){var i=this,s=p.dom_query(e);if(s.length===0){_e.error("The DOM query ("+e+") returned 0 elements");return}return p.each(s,function(o){p.register_event(o,this.override_event,function(a){var l={},u=i.create_properties(r,this),c=i.mp.get_config("track_links_timeout");i.event_handler(a,this,l),window.setTimeout(i.track_callback(n,u,l,!0),c),i.mp.track(t,u,i.track_callback(n,u,l))})},this),!0};nr.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,!(e&&e(n,t)===!1)&&i.after_track_handler(t,r,n))}};nr.prototype.create_properties=function(e,t){var r;return typeof e=="function"?r=e(t):r=p.extend({},e),r};var an=function(){this.override_event="click"};p.inherit(an,nr);an.prototype.create_properties=function(e,t){var r=an.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r};an.prototype.event_handler=function(e,t,r){r.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",r.href=t.href,r.new_tab||e.preventDefault()};an.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var ss=function(){this.override_event="submit"};p.inherit(ss,nr);ss.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()};ss.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var mr="$set",ln="$set_once",It="$unset",Pr="$add",Ht="$append",Lr="$union",Zt="$remove",Rh="$delete",jc={set_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[mr]=n,r},unset_action:function(e){var t={},r=[];return p.isArray(e)||(e=[e]),p.each(e,function(n){this._is_reserved_property(n)||r.push(n)},this),t[It]=r,t},set_once_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[ln]=n,r},union_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=p.isArray(i)?i:[i])},this):n[e]=p.isArray(t)?t:[t],r[Lr]=n,r},append_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[Ht]=n,r},remove_action:function(e,t){var r={},n={};return p.isObject(e)?p.each(e,function(i,s){this._is_reserved_property(s)||(n[s]=i)},this):n[e]=t,r[Zt]=n,r},delete_action:function(){var e={};return e[Rh]="",e}},Pe=function(){};p.extend(Pe.prototype,jc);Pe.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r};Pe.prototype.set=hn(function(e,t,r){var n=this.set_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.set_once=hn(function(e,t,r){var n=this.set_once_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});Pe.prototype.unset=hn(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});Pe.prototype.union=hn(function(e,t,r){p.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});Pe.prototype.delete=hn(function(e){var t=this.delete_action();return this._send_request(t,e)});Pe.prototype.remove=hn(function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)});Pe.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=p.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)};Pe.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Pe.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Pe.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Pe.prototype.remove=Pe.prototype.remove;Pe.prototype.set=Pe.prototype.set;Pe.prototype.set_once=Pe.prototype.set_once;Pe.prototype.union=Pe.prototype.union;Pe.prototype.unset=Pe.prototype.unset;Pe.prototype.toString=Pe.prototype.toString;var re=function(){};p.extend(re.prototype,jc);re.prototype._init=function(e){this._mixpanel=e};re.prototype.set=kr(function(e,t,r){var n=this.set_action(e,t);return p.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[mr]=p.extend({},p.info.people_properties(),n[mr]),this._send_request(n,r)});re.prototype.set_once=kr(function(e,t,r){var n=this.set_once_action(e,t);return p.isObject(e)&&(r=t),this._send_request(n,r)});re.prototype.unset=kr(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});re.prototype.increment=kr(function(e,t,r){var n={},i={};return p.isObject(e)?(p.each(e,function(s,o){if(!this._is_reserved_property(o))if(isNaN(parseFloat(s))){_e.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[o]=s},this),r=t):(p.isUndefined(t)&&(t=1),i[e]=t),n[Pr]=i,this._send_request(n,r)});re.prototype.append=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)});re.prototype.remove=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)});re.prototype.union=kr(function(e,t,r){p.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});re.prototype.track_charge=kr(function(e,t,r){if(!p.isNumber(e)&&(e=parseFloat(e),isNaN(e))){_e.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",p.extend({$amount:e},t),r)});re.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};re.prototype.delete_user=function(){if(!this._identify_called()){_e.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};re.prototype.toString=function(){return this._mixpanel.toString()+".people"};re.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),i&&(e.$had_persisted_distinct_id=i);var s=p.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),p.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),p.truncate(s,255))};re.prototype._get_config=function(e){return this._mixpanel.get_config(e)};re.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};re.prototype._enqueue=function(e){mr in e?this._mixpanel.persistence._add_to_people_queue(mr,e):ln in e?this._mixpanel.persistence._add_to_people_queue(ln,e):It in e?this._mixpanel.persistence._add_to_people_queue(It,e):Pr in e?this._mixpanel.persistence._add_to_people_queue(Pr,e):Ht in e?this._mixpanel.persistence._add_to_people_queue(Ht,e):Zt in e?this._mixpanel.persistence._add_to_people_queue(Zt,e):Lr in e?this._mixpanel.persistence._add_to_people_queue(Lr,e):_e.error("Invalid call to _enqueue():",e)};re.prototype._flush_one_queue=function(e,t,r,n){var i=this,s=p.extend({},this._mixpanel.persistence.load_queue(e)),o=s;!p.isUndefined(s)&&p.isObject(s)&&!p.isEmptyObject(s)&&(i._mixpanel.persistence._pop_from_people_queue(e,s),i._mixpanel.persistence.save(),n&&(o=n(s)),t.call(i,o,function(a,l){a===0&&i._mixpanel.persistence._add_to_people_queue(e,s),p.isUndefined(r)||r(a,l)}))};re.prototype._flush=function(e,t,r,n,i,s,o){var a=this;this._flush_one_queue(mr,this.set,e),this._flush_one_queue(ln,this.set_once,n),this._flush_one_queue(It,this.unset,s,function(b){return p.keys(b)}),this._flush_one_queue(Pr,this.increment,t),this._flush_one_queue(Lr,this.union,i);var l=this._mixpanel.persistence.load_queue(Ht);if(!p.isUndefined(l)&&p.isArray(l)&&l.length)for(var u,c=function(b,S){b===0&&a._mixpanel.persistence._add_to_people_queue(Ht,u),p.isUndefined(r)||r(b,S)},d=l.length-1;d>=0;d--)l=this._mixpanel.persistence.load_queue(Ht),u=l.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(u)||a.append(u,c);var f=this._mixpanel.persistence.load_queue(Zt);if(!p.isUndefined(f)&&p.isArray(f)&&f.length)for(var h,g=function(b,S){b===0&&a._mixpanel.persistence._add_to_people_queue(Zt,h),p.isUndefined(o)||o(b,S)},m=f.length-1;m>=0;m--)f=this._mixpanel.persistence.load_queue(Zt),h=f.pop(),a._mixpanel.persistence.save(),p.isEmptyObject(h)||a.remove(h,g)};re.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};re.prototype.set=re.prototype.set;re.prototype.set_once=re.prototype.set_once;re.prototype.unset=re.prototype.unset;re.prototype.increment=re.prototype.increment;re.prototype.append=re.prototype.append;re.prototype.remove=re.prototype.remove;re.prototype.union=re.prototype.union;re.prototype.track_charge=re.prototype.track_charge;re.prototype.clear_charges=re.prototype.clear_charges;re.prototype.delete_user=re.prototype.delete_user;re.prototype.toString=re.prototype.toString;var Wo="__mps",jo="__mpso",qo="__mpus",Vo="__mpa",zo="__mpap",Go="__mpr",Ko="__mpu",qc="$people_distinct_id",Bi="__alias",Bn="__timers",Dh=[Wo,jo,qo,Vo,zo,Go,Ko,qc,Bi,Bn],le=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(_e.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&p.localStorage.is_supported()?this.storage=p.localStorage:this.storage=p.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};le.prototype.properties=function(){var e={};return this.load(),p.each(this.props,function(t,r){p.include(Dh,r)||(e[r]=t)}),e};le.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=p.extend({},e))}};le.prototype.upgrade=function(){var e,t;this.storage===p.localStorage?(e=p.cookie.parse(this.name),p.cookie.remove(this.name),p.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===p.cookie&&(t=p.localStorage.parse(this.name),p.localStorage.remove(this.name),t&&this.register_once(t))};le.prototype.save=function(){this.disabled||this.storage.set(this.name,p.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};le.prototype.load_prop=function(e){return this.load(),this.props[e]};le.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};le.prototype.clear=function(){this.remove(),this.props={}};le.prototype.register_once=function(e,t,r){return p.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,this.load(),p.each(e,function(n,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=n)},this),this.save(),!0):!1};le.prototype.register=function(e,t){return p.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,this.load(),p.extend(this.props,e),this.save(),!0):!1};le.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};le.prototype.update_search_keyword=function(e){this.register(p.info.searchInfo(e))};le.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:p.info.referringDomain(e)||"$direct"},"")};le.prototype.get_referrer_info=function(){return p.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};le.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};le.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};le.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};le.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};le.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};le.prototype.get_cross_subdomain=function(){return this.cross_subdomain};le.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};le.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(mr),s=this._get_or_create_queue(ln),o=this._get_or_create_queue(It),a=this._get_or_create_queue(Pr),l=this._get_or_create_queue(Lr),u=this._get_or_create_queue(Zt,[]),c=this._get_or_create_queue(Ht,[]);r===Wo?(p.extend(i,n),this._pop_from_people_queue(Pr,n),this._pop_from_people_queue(Lr,n),this._pop_from_people_queue(It,n)):r===jo?(p.each(n,function(d,f){f in s||(s[f]=d)}),this._pop_from_people_queue(It,n)):r===qo?p.each(n,function(d){p.each([i,s,a,l],function(f){d in f&&delete f[d]}),p.each(c,function(f){d in f&&delete f[d]}),o[d]=!0}):r===Vo?(p.each(n,function(d,f){f in i?i[f]+=d:(f in a||(a[f]=0),a[f]+=d)},this),this._pop_from_people_queue(It,n)):r===Ko?(p.each(n,function(d,f){p.isArray(d)&&(f in l||(l[f]=[]),l[f]=l[f].concat(d))}),this._pop_from_people_queue(It,n)):r===Go?(u.push(n),this._pop_from_people_queue(Ht,n)):r===zo&&(c.push(n),this._pop_from_people_queue(It,n)),_e.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),_e.log(t),this.save()};le.prototype._pop_from_people_queue=function(e,t){var r=this.props[this._get_queue_key(e)];p.isUndefined(r)||p.each(t,function(n,i){e===Ht||e===Zt?p.each(r,function(s){s[i]===n&&delete s[i]}):delete r[i]},this)};le.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};le.prototype._get_queue_key=function(e){if(e===mr)return Wo;if(e===ln)return jo;if(e===It)return qo;if(e===Pr)return Vo;if(e===Ht)return zo;if(e===Zt)return Go;if(e===Lr)return Ko;_e.error("Invalid queue:",e)};le.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=p.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)};le.prototype.set_event_timer=function(e,t){var r=this.load_prop(Bn)||{};r[e]=t,this.props[Bn]=r,this.save()};le.prototype.remove_event_timer=function(e){var t=this.load_prop(Bn)||{},r=t[e];return p.isUndefined(r)||(delete this.props[Bn][e],this.save()),r};var Yo,Vc=function(e,t){throw new Error(e+" not available in this build.")},et,zc=0,Ph=1,Lh=function(e){return e},Un=function(){},kt="mixpanel",Gc="base64",Nh="json",Jo="$device:",Yr=K.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Kc=!Yr&&Ft.indexOf("MSIE")===-1&&Ft.indexOf("Mozilla")===-1,Ui=null;fr.sendBeacon&&(Ui=function(){return fr.sendBeacon.apply(fr,arguments)});var Yc={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},za={api_host:"https://api-js.mixpanel.com",api_routes:Yc,api_method:"POST",api_transport:"XHR",api_payload_format:Gc,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Un,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Un,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_canvas:!1,record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:In,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},Jc=!1,M=function(){},oo=function(e,t,r){var n,i=r===kt?et:et[r];if(i&&Yo===zc)n=i;else{if(i&&!p.isArray(i)){_e.error("You have already initialized "+r);return}n=new M}if(n._cached_groups={},n._init(e,t,r),n.people=new re,n.people._init(n),!n.get_config("skip_first_touch_marketing")){var s=p.info.campaignParams(null),o={},a=!1;p.each(s,function(l,u){o["initial_"+u]=l,l&&(a=!0)}),a&&n.people.set_once(o)}return Ut.DEBUG=Ut.DEBUG||n.get_config("debug"),!p.isUndefined(i)&&p.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};M.prototype.init=function(e,t,r){if(p.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===kt){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var n=oo(e,t,r);return et[r]=n,n._loaded(),n};M.prototype._init=function(e,t,r){t=t||{},this.__loaded=!0,this.config={};var n={};if(!("api_payload_format"in t)){var i=t.api_host||za.api_host;i.match(/\.mixpanel\.com/)&&(n.api_payload_format=Nh)}if(this.set_config(p.extend({},za,n,t,{name:r,token:e,callback_fn:(r===kt?r:kt+"."+r)+"._jsc"})),this._jsc=Un,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!p.localStorage.is_supported(!0)||!Yr)this._batch_requests=!1,_e.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),p.each(this.get_batcher_configs(),function(l){_e.log("Clearing batch queue "+l.queue_key),p.localStorage.remove(l.queue_key)});else if(this.init_batchers(),Ui&&K.addEventListener){var s=p.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);K.addEventListener("pagehide",function(l){l.persisted&&s()}),K.addEventListener("visibilitychange",function(){Ie.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new le(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=p.UUID();this.get_distinct_id()||this.register_once({distinct_id:Jo+o,$device_id:o},"");var a=this.get_config("track_pageview");a&&this._init_url_change_tracking(a),this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent")&&this.start_session_recording()};M.prototype.start_session_recording=br(function(){if(!K.MutationObserver){_e.critical("Browser does not support MutationObserver; skipping session recording");return}var e=p.bind(function(){this._recorder=this._recorder||new K.__mp_recorder(this),this._recorder.startRecording()},this);p.isUndefined(K.__mp_recorder)?Vc(this.get_config("recorder_src"),e):e()});M.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():_e.critical("Session recorder module not loaded")};M.prototype.get_session_recording_properties=function(){var e={},t=this._get_session_replay_id();return t&&(e.$mp_replay_id=t),e};M.prototype.get_session_replay_url=function(){var e=null,t=this._get_session_replay_id();if(t){var r=p.HTTPBuildQuery({replay_id:t,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+r}return e};M.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};M.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=p.info.campaignParams(null);p.each(e,(function(t,r){this.unregister(r)}).bind(this))}};M.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(Ie.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(p.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(Ie.referrer)};M.prototype._dom_loaded=function(){p.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||p.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};M.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Jc)return this.__dom_loaded_queue.push([e,t]),!1;var r=new e().init(this);return r.track.apply(r,t)};M.prototype._init_url_change_tracking=function(e){var t="",r=this.track_pageview();if(r&&(t=p.info.currentUrl()),p.include(["full-url","url-with-path-and-query-string","url-with-path"],e)){K.addEventListener("popstate",function(){K.dispatchEvent(new Event("mp_locationchange"))}),K.addEventListener("hashchange",function(){K.dispatchEvent(new Event("mp_locationchange"))});var n=K.history.pushState;typeof n=="function"&&(K.history.pushState=function(s,o,a){n.call(K.history,s,o,a),K.dispatchEvent(new Event("mp_locationchange"))});var i=K.history.replaceState;typeof i=="function"&&(K.history.replaceState=function(s,o,a){i.call(K.history,s,o,a),K.dispatchEvent(new Event("mp_locationchange"))}),K.addEventListener("mp_locationchange",(function(){var s=p.info.currentUrl(),o=!1;if(e==="full-url"?o=s!==t:e==="url-with-path-and-query-string"?o=s.split("#")[0]!==t.split("#")[0]:e==="url-with-path"&&(o=s.split("#")[0].split("?")[0]!==t.split("#")[0].split("?")[0]),o){var a=this.track_pageview();a&&(t=s)}}).bind(this))}};M.prototype._prepare_callback=function(e,t){if(p.isUndefined(e))return null;if(Yr){var r=function(o){e(o,t)};return r}else{var n=this._jsc,i=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(o){delete n[i],e(o,t)},s}};M.prototype._send_request=function(e,t,r,n){var i=!0;if(Kc)return this.__request_queue.push(arguments),i;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;!n&&(p.isFunction(r)||typeof r=="string")&&(n=r,r=null),r=p.extend(s,r||{}),Yr||(r.method="GET");var a=r.method==="POST",l=Ui&&a&&r.transport.toLowerCase()==="sendbeacon",u=r.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),Yr||(n?t.callback=n:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),a&&(o="data="+encodeURIComponent(t.data),delete t.data),e+="?"+p.HTTPBuildQuery(t);var c=this;if("img"in t){var d=Ie.createElement("img");d.src=e,Ie.body.appendChild(d)}else if(l){try{i=Ui(e,o)}catch(S){c.report_error(S),i=!1}try{n&&n(i?1:0)}catch(S){c.report_error(S)}}else if(Yr)try{var f=new XMLHttpRequest;f.open(r.method,e,!0);var h=this.get_config("xhr_headers");if(a&&(h["Content-Type"]="application/x-www-form-urlencoded"),p.each(h,function(S,k){f.setRequestHeader(k,S)}),r.timeout_ms&&typeof f.timeout<"u"){f.timeout=r.timeout_ms;var g=new Date().getTime()}f.withCredentials=!0,f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){if(n)if(u){var S;try{S=p.JSONDecode(f.responseText)}catch(x){if(c.report_error(x),r.ignore_json_errors)S=f.responseText;else return}n(S)}else n(Number(f.responseText))}else{var k;if(f.timeout&&!f.status&&new Date().getTime()-g>=f.timeout?k="timeout":k="Bad HTTP status: "+f.status+" "+f.statusText,c.report_error(k),n)if(u){var _=f.responseHeaders||{};n({status:0,httpStatusCode:f.status,error:k,retryAfter:_["Retry-After"]})}else n(0)}},f.send(o)}catch(S){c.report_error(S),i=!1}else{var m=Ie.createElement("script");m.type="text/javascript",m.async=!0,m.defer=!0,m.src=e;var b=Ie.getElementsByTagName("script")[0];b.parentNode.insertBefore(m,b)}return i};M.prototype._execute_array=function(e){var t,r=[],n=[],i=[];p.each(e,function(o){o&&(t=o[0],p.isArray(t)?i.push(o):typeof o=="function"?o.call(this):p.isArray(o)&&t==="alias"?r.push(o):p.isArray(o)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(o):n.push(o))},this);var s=function(o,a){p.each(o,function(l){if(p.isArray(l[0])){var u=a;p.each(l,function(c){u=u[c[0]].apply(u,c.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};s(r,this),s(n,this),s(i,this)};M.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};M.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs};M.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=p.bind(function(r){return new xt(r.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:p.bind(function(n,i,s){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(n),i,this._prepare_callback(s,n))},this),beforeSendHook:p.bind(function(n){return this._run_hook("before_send_"+r.type,n)},this),stopAllBatchingFunc:p.bind(this.stop_batch_senders,this),usePersistence:!0})},this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};M.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,p.each(this.request_batchers,function(e){e.start()}))};M.prototype.stop_batch_senders=function(){this._batch_requests=!1,p.each(this.request_batchers,function(e){e.stop(),e.clear()})};M.prototype.push=function(e){this._execute_array([e])};M.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};M.prototype._encode_data_for_request=function(e){var t=p.JSONEncode(e);return this.get_config("api_payload_format")===Gc&&(t=p.base64Encode(t)),{data:t}};M.prototype._track_or_batch=function(e,t){var r=p.truncate(e.data,255),n=e.endpoint,i=e.batcher,s=e.should_send_immediately,o=e.send_request_options||{};t=t||Un;var a=!0,l=p.bind(function(){return o.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(_e.log("MIXPANEL REQUEST:"),_e.log(r),this._send_request(n,this._encode_data_for_request(r),o,this._prepare_callback(t,r))):null},this);return this._batch_requests&&!s?i.enqueue(r).then(function(u){u?t(1,r):l()}):a=l(),a&&r};M.prototype.track=br(function(e,t,r,n){!n&&typeof r=="function"&&(n=r,r=null),r=r||{};var i=r.transport;i&&(r.transport=i);var s=r.send_immediately;if(typeof n!="function"&&(n=Un),p.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){n(0);return}t=p.extend({},t),t.token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!p.isUndefined(o)){var a=new Date().getTime()-o;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?p.info.marketingParams():{};t=p.extend({},p.info.properties({mp_loader:this.get_config("mp_loader")}),l,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var u=this.get_config("property_blacklist");p.isArray(u)?p.each(u,function(f){delete t[f]}):this.report_error("Invalid value for property_blacklist config: "+u);var c={event:e,properties:t},d=this._track_or_batch({type:"events",data:c,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:r},n);return d});M.prototype.set_group=br(function(e,t,r){p.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)});M.prototype.add_group=br(function(e,t,r){var n=this.get_property(e),i={};return n===void 0?(i[e]=[t],this.register(i)):n.indexOf(t)===-1&&(n.push(t),i[e]=n,this.register(i)),this.people.union(e,t,r)});M.prototype.remove_group=br(function(e,t,r){var n=this.get_property(e);if(n!==void 0){var i=n.indexOf(t);i>-1&&(n.splice(i,1),this.register({group_key:n})),n.length===0&&this.unregister(e)}return this.people.remove(e,t,r)});M.prototype.track_with_groups=br(function(e,t,r,n){var i=p.extend({},t||{});return p.each(r,function(s,o){s!=null&&(i[o]=s)}),this.track(e,i,n)});M.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};M.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};M.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return(n===void 0||n._group_key!==e||n._group_id!==t)&&(n=new Pe,n._init(this,e,t),this._cached_groups[r]=n),n};M.prototype.track_pageview=br(function(e,t){typeof e!="object"&&(e={}),t=t||{};var r=t.event_name||"$mp_web_page_view",n=p.extend(p.info.mpPageViewProperties(),p.info.campaignParams(),p.info.clickParams()),i=p.extend({},n,e);return this.track(r,i)});M.prototype.track_links=function(){return this._track_dom.call(this,an,arguments)};M.prototype.track_forms=function(){return this._track_dom.call(this,ss,arguments)};M.prototype.time_event=function(e){if(p.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var $h={persistent:!0},Qo=function(e){var t;return p.isObject(e)?t=e:p.isUndefined(e)?t={}:t={days:e},p.extend({},$h,t)};M.prototype.register=function(e,t){var r=Qo(t);r.persistent?this.persistence.register(e,r.days):p.extend(this.unpersisted_superprops,e)};M.prototype.register_once=function(e,t,r){var n=Qo(r);n.persistent?this.persistence.register_once(e,t,n.days):(typeof t>"u"&&(t="None"),p.each(e,function(i,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===t)&&(this.unpersisted_superprops[s]=i)},this))};M.prototype.unregister=function(e,t){t=Qo(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};M.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)};M.prototype.identify=function(e,t,r,n,i,s,o,a){var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(Jo)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==l&&e!==this.get_property(Bi)&&(this.unregister(Bi),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,i,s,o,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0})};M.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=p.UUID();this.register_once({distinct_id:Jo+e,$device_id:e},"")};M.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};M.prototype.alias=function(e,t){if(e===this.get_property(qc))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return p.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Bi,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){r.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};M.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};M.prototype.set_config=function(e){if(p.isObject(e)){p.extend(this.config,e);var t=e.batch_size;t&&p.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Ut.DEBUG=Ut.DEBUG||this.get_config("debug")}};M.prototype.get_config=function(e){return this.config[e]};M.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Lh).apply(this,dr.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};M.prototype.get_property=function(e){return this.persistence.load_prop([e])};M.prototype.toString=function(){var e=this.get_config("name");return e!==kt&&(e=kt+"."+e),e};M.prototype._event_is_disabled=function(e){return p.isBlockedUA(Ft)||this._flags.disable_all_events||p.include(this.__disabled_events,e)};M.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&p.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||p.cookie.get("mp_optout"))&&(p.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};M.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()};M.prototype._gdpr_call_func=function(e,t){return t=p.extend({track:p.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),p.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};M.prototype.opt_in_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(wh,e),this._gdpr_update_persistence(e)};M.prototype.opt_out_tracking=function(e){e=p.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Sh,e),this._gdpr_update_persistence(e)};M.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(xh,e)};M.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(Bc,e)};M.prototype.clear_opt_in_out_tracking=function(e){e=p.extend({enable_persistence:!0},e),this._gdpr_call_func(Ch,e),this._gdpr_update_persistence(e)};M.prototype.report_error=function(e,t){_e.error.apply(_e.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(r){_e.error(r)}};M.prototype.init=M.prototype.init;M.prototype.reset=M.prototype.reset;M.prototype.disable=M.prototype.disable;M.prototype.time_event=M.prototype.time_event;M.prototype.track=M.prototype.track;M.prototype.track_links=M.prototype.track_links;M.prototype.track_forms=M.prototype.track_forms;M.prototype.track_pageview=M.prototype.track_pageview;M.prototype.register=M.prototype.register;M.prototype.register_once=M.prototype.register_once;M.prototype.unregister=M.prototype.unregister;M.prototype.identify=M.prototype.identify;M.prototype.alias=M.prototype.alias;M.prototype.name_tag=M.prototype.name_tag;M.prototype.set_config=M.prototype.set_config;M.prototype.get_config=M.prototype.get_config;M.prototype.get_property=M.prototype.get_property;M.prototype.get_distinct_id=M.prototype.get_distinct_id;M.prototype.toString=M.prototype.toString;M.prototype.opt_out_tracking=M.prototype.opt_out_tracking;M.prototype.opt_in_tracking=M.prototype.opt_in_tracking;M.prototype.has_opted_out_tracking=M.prototype.has_opted_out_tracking;M.prototype.has_opted_in_tracking=M.prototype.has_opted_in_tracking;M.prototype.clear_opt_in_out_tracking=M.prototype.clear_opt_in_out_tracking;M.prototype.get_group=M.prototype.get_group;M.prototype.set_group=M.prototype.set_group;M.prototype.add_group=M.prototype.add_group;M.prototype.remove_group=M.prototype.remove_group;M.prototype.track_with_groups=M.prototype.track_with_groups;M.prototype.start_batch_senders=M.prototype.start_batch_senders;M.prototype.stop_batch_senders=M.prototype.stop_batch_senders;M.prototype.start_session_recording=M.prototype.start_session_recording;M.prototype.stop_session_recording=M.prototype.stop_session_recording;M.prototype.get_session_recording_properties=M.prototype.get_session_recording_properties;M.prototype.get_session_replay_url=M.prototype.get_session_replay_url;M.prototype.DEFAULT_API_ROUTES=Yc;le.prototype.properties=le.prototype.properties;le.prototype.update_search_keyword=le.prototype.update_search_keyword;le.prototype.update_referrer_info=le.prototype.update_referrer_info;le.prototype.get_cross_subdomain=le.prototype.get_cross_subdomain;le.prototype.clear=le.prototype.clear;var Gr={},Fh=function(){p.each(Gr,function(e,t){t!==kt&&(et[t]=e)}),et._=p},Bh=function(){et.init=function(e,t,r){if(r)return et[r]||(et[r]=Gr[r]=oo(e,t,r),et[r]._loaded()),et[r];var n=et;Gr[kt]?n=Gr[kt]:e&&(n=oo(e,t,kt),n._loaded(),Gr[kt]=n),et=n,Yo===Ph&&(K[kt]=et),Fh()}},Uh=function(){function e(){e.done||(e.done=!0,Jc=!0,Kc=!1,p.each(Gr,function(n){n._dom_loaded()}))}function t(){try{Ie.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(Ie.addEventListener)Ie.readyState==="complete"?e():Ie.addEventListener("DOMContentLoaded",e,!1);else if(Ie.attachEvent){Ie.attachEvent("onreadystatechange",e);var r=!1;try{r=K.frameElement===null}catch{}Ie.documentElement.doScroll&&r&&t()}p.register_event(K,"load",e,!0)};function Hh(e){return Vc=e,Yo=zc,et=new M,Bh(),et.init(),Uh(),et}function Wh(e,t){t()}var Qc=Hh(Wh);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Xo(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ee={},Jr=[],Wt=()=>{},jh=()=>!1,os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zo=e=>e.startsWith("onUpdate:"),Je=Object.assign,ea=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},qh=Object.prototype.hasOwnProperty,we=(e,t)=>qh.call(e,t),J=Array.isArray,Qr=e=>ri(e)==="[object Map]",as=e=>ri(e)==="[object Set]",Ga=e=>ri(e)==="[object Date]",te=e=>typeof e=="function",He=e=>typeof e=="string",Ot=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",Xc=e=>(Re(e)||te(e))&&te(e.then)&&te(e.catch),Zc=Object.prototype.toString,ri=e=>Zc.call(e),Vh=e=>ri(e).slice(8,-1),eu=e=>ri(e)==="[object Object]",ta=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,An=Xo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ls=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},zh=/-(\w)/g,St=ls(e=>e.replace(zh,(t,r)=>r?r.toUpperCase():"")),Gh=/\B([A-Z])/g,$r=ls(e=>e.replace(Gh,"-$1").toLowerCase()),cs=ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=ls(e=>e?`on${cs(e)}`:""),hr=(e,t)=>!Object.is(e,t),ki=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},tu=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},ao=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ka;const us=()=>Ka||(Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jt(e){if(J(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=He(n)?Qh(n):jt(n);if(i)for(const s in i)t[s]=i[s]}return t}else if(He(e)||Re(e))return e}const Kh=/;(?![^(]*\))/g,Yh=/:([^]+)/,Jh=/\/\*[^]*?\*\//g;function Qh(e){const t={};return e.replace(Jh,"").split(Kh).forEach(r=>{if(r){const n=r.split(Yh);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Fe(e){let t="";if(He(e))t=e;else if(J(e))for(let r=0;r<e.length;r++){const n=Fe(e[r]);n&&(t+=n+" ")}else if(Re(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Xh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zh=Xo(Xh);function ru(e){return!!e||e===""}function ep(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=ds(e[n],t[n]);return r}function ds(e,t){if(e===t)return!0;let r=Ga(e),n=Ga(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Ot(e),n=Ot(t),r||n)return e===t;if(r=J(e),n=J(t),r||n)return r&&n?ep(e,t):!1;if(r=Re(e),n=Re(t),r||n){if(!r||!n)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ds(e[o],t[o]))return!1}}return String(e)===String(t)}function nu(e,t){return e.findIndex(r=>ds(r,t))}const iu=e=>!!(e&&e.__v_isRef===!0),ie=e=>He(e)?e:e==null?"":J(e)||Re(e)&&(e.toString===Zc||!te(e.toString))?iu(e)?ie(e.value):JSON.stringify(e,su,2):String(e),su=(e,t)=>iu(t)?su(e,t.value):Qr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],s)=>(r[Rs(n,s)+" =>"]=i,r),{})}:as(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Rs(r))}:Ot(t)?Rs(t):Re(t)&&!J(t)&&!eu(t)?String(t):t,Rs=(e,t="")=>{var r;return Ot(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class tp{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vt,!t&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=vt;try{return vt=this,t()}finally{vt=r}}}on(){vt=this}off(){vt=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function rp(){return vt}let Oe;const Ds=new WeakSet;class ou{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vt&&vt.active&&vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ds.has(this)&&(Ds.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ya(this),cu(this);const t=Oe,r=At;Oe=this,At=!0;try{return this.fn()}finally{uu(this),Oe=t,At=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ia(t);this.deps=this.depsTail=void 0,Ya(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ds.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let au=0,On,Rn;function lu(e,t=!1){if(e.flags|=8,t){e.next=Rn,Rn=e;return}e.next=On,On=e}function ra(){au++}function na(){if(--au>0)return;if(Rn){let t=Rn;for(Rn=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;On;){let t=On;for(On=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function cu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function uu(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),ia(n),np(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function lo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(du(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function du(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hn))return;e.globalVersion=Hn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!lo(e)){e.flags&=-3;return}const r=Oe,n=At;Oe=e,At=!0;try{cu(e);const i=e.fn(e._value);(t.version===0||hr(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Oe=r,At=n,uu(e),e.flags&=-3}}function ia(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)ia(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function np(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let At=!0;const fu=[];function wr(){fu.push(At),At=!1}function Sr(){const e=fu.pop();At=e===void 0?!0:e}function Ya(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Oe;Oe=void 0;try{t()}finally{Oe=r}}}let Hn=0;class ip{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Oe||!At||Oe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Oe)r=this.activeLink=new ip(Oe,this),Oe.deps?(r.prevDep=Oe.depsTail,Oe.depsTail.nextDep=r,Oe.depsTail=r):Oe.deps=Oe.depsTail=r,hu(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Oe.depsTail,r.nextDep=void 0,Oe.depsTail.nextDep=r,Oe.depsTail=r,Oe.deps===r&&(Oe.deps=n)}return r}trigger(t){this.version++,Hn++,this.notify(t)}notify(t){ra();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{na()}}}function hu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)hu(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const co=new WeakMap,Rr=Symbol(""),uo=Symbol(""),Wn=Symbol("");function tt(e,t,r){if(At&&Oe){let n=co.get(e);n||co.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new sa),i.map=n,i.key=r),i.track()}}function Jt(e,t,r,n,i,s){const o=co.get(e);if(!o){Hn++;return}const a=l=>{l&&l.trigger()};if(ra(),t==="clear")o.forEach(a);else{const l=J(e),u=l&&ta(r);if(l&&r==="length"){const c=Number(n);o.forEach((d,f)=>{(f==="length"||f===Wn||!Ot(f)&&f>=c)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(Wn)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Rr)),Qr(e)&&a(o.get(uo)));break;case"delete":l||(a(o.get(Rr)),Qr(e)&&a(o.get(uo)));break;case"set":Qr(e)&&a(o.get(Rr));break}}na()}function Br(e){const t=ke(e);return t===e?t:(tt(t,"iterate",Wn),wt(e)?t:t.map(rt))}function fs(e){return tt(e=ke(e),"iterate",Wn),e}const sp={__proto__:null,[Symbol.iterator](){return Ps(this,Symbol.iterator,rt)},concat(...e){return Br(this).concat(...e.map(t=>J(t)?Br(t):t))},entries(){return Ps(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return zt(this,"every",e,t,void 0,arguments)},filter(e,t){return zt(this,"filter",e,t,r=>r.map(rt),arguments)},find(e,t){return zt(this,"find",e,t,rt,arguments)},findIndex(e,t){return zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ls(this,"includes",e)},indexOf(...e){return Ls(this,"indexOf",e)},join(e){return Br(this).join(e)},lastIndexOf(...e){return Ls(this,"lastIndexOf",e)},map(e,t){return zt(this,"map",e,t,void 0,arguments)},pop(){return mn(this,"pop")},push(...e){return mn(this,"push",e)},reduce(e,...t){return Ja(this,"reduce",e,t)},reduceRight(e,...t){return Ja(this,"reduceRight",e,t)},shift(){return mn(this,"shift")},some(e,t){return zt(this,"some",e,t,void 0,arguments)},splice(...e){return mn(this,"splice",e)},toReversed(){return Br(this).toReversed()},toSorted(e){return Br(this).toSorted(e)},toSpliced(...e){return Br(this).toSpliced(...e)},unshift(...e){return mn(this,"unshift",e)},values(){return Ps(this,"values",rt)}};function Ps(e,t,r){const n=fs(e),i=n[t]();return n!==e&&!wt(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=r(s.value)),s}),i}const op=Array.prototype;function zt(e,t,r,n,i,s){const o=fs(e),a=o!==e&&!wt(e),l=o[t];if(l!==op[t]){const d=l.apply(e,s);return a?rt(d):d}let u=r;o!==e&&(a?u=function(d,f){return r.call(this,rt(d),f,e)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,e)}));const c=l.call(o,u,n);return a&&i?i(c):c}function Ja(e,t,r,n){const i=fs(e);let s=r;return i!==e&&(wt(e)?r.length>3&&(s=function(o,a,l){return r.call(this,o,a,l,e)}):s=function(o,a,l){return r.call(this,o,rt(a),l,e)}),i[t](s,...n)}function Ls(e,t,r){const n=ke(e);tt(n,"iterate",Wn);const i=n[t](...r);return(i===-1||i===!1)&&la(r[0])?(r[0]=ke(r[0]),n[t](...r)):i}function mn(e,t,r=[]){wr(),ra();const n=ke(e)[t].apply(e,r);return na(),Sr(),n}const ap=Xo("__proto__,__v_isRef,__isVue"),pu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ot));function lp(e){Ot(e)||(e=String(e));const t=ke(this);return tt(t,"has",e),t.hasOwnProperty(e)}class gu{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?_p:vu:s?_u:yu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=J(t);if(!i){let l;if(o&&(l=sp[r]))return l;if(r==="hasOwnProperty")return lp}const a=Reflect.get(t,r,it(t)?t:n);return(Ot(r)?pu.has(r):ap(r))||(i||tt(t,"get",r),s)?a:it(a)?o&&ta(r)?a:a.value:Re(a)?i?ku(a):hs(a):a}}class mu extends gu{constructor(t=!1){super(!1,t)}set(t,r,n,i){let s=t[r];if(!this._isShallow){const l=Nr(s);if(!wt(n)&&!Nr(n)&&(s=ke(s),n=ke(n)),!J(t)&&it(s)&&!it(n))return l?!1:(s.value=n,!0)}const o=J(t)&&ta(r)?Number(r)<t.length:we(t,r),a=Reflect.set(t,r,n,it(t)?t:i);return t===ke(i)&&(o?hr(n,s)&&Jt(t,"set",r,n):Jt(t,"add",r,n)),a}deleteProperty(t,r){const n=we(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Jt(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Ot(r)||!pu.has(r))&&tt(t,"has",r),n}ownKeys(t){return tt(t,"iterate",J(t)?"length":Rr),Reflect.ownKeys(t)}}class cp extends gu{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const up=new mu,dp=new cp,fp=new mu(!0);const fo=e=>e,fi=e=>Reflect.getPrototypeOf(e);function hp(e,t,r){return function(...n){const i=this.__v_raw,s=ke(i),o=Qr(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=r?fo:t?ho:rt;return!t&&tt(s,"iterate",l?uo:Rr),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function hi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pp(e,t){const r={get(i){const s=this.__v_raw,o=ke(s),a=ke(i);e||(hr(i,a)&&tt(o,"get",i),tt(o,"get",a));const{has:l}=fi(o),u=t?fo:e?ho:rt;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&tt(ke(i),"iterate",Rr),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=ke(s),a=ke(i);return e||(hr(i,a)&&tt(o,"has",i),tt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=ke(a),u=t?fo:e?ho:rt;return!e&&tt(l,"iterate",Rr),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Je(r,e?{add:hi("add"),set:hi("set"),delete:hi("delete"),clear:hi("clear")}:{add(i){!t&&!wt(i)&&!Nr(i)&&(i=ke(i));const s=ke(this);return fi(s).has.call(s,i)||(s.add(i),Jt(s,"add",i,i)),this},set(i,s){!t&&!wt(s)&&!Nr(s)&&(s=ke(s));const o=ke(this),{has:a,get:l}=fi(o);let u=a.call(o,i);u||(i=ke(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?hr(s,c)&&Jt(o,"set",i,s):Jt(o,"add",i,s),this},delete(i){const s=ke(this),{has:o,get:a}=fi(s);let l=o.call(s,i);l||(i=ke(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&Jt(s,"delete",i,void 0),u},clear(){const i=ke(this),s=i.size!==0,o=i.clear();return s&&Jt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=hp(i,e,t)}),r}function oa(e,t){const r=pp(e,t);return(n,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(we(r,i)&&i in n?r:n,i,s)}const gp={get:oa(!1,!1)},mp={get:oa(!1,!0)},yp={get:oa(!0,!1)};const yu=new WeakMap,_u=new WeakMap,vu=new WeakMap,_p=new WeakMap;function vp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bp(e){return e.__v_skip||!Object.isExtensible(e)?0:vp(Vh(e))}function hs(e){return Nr(e)?e:aa(e,!1,up,gp,yu)}function bu(e){return aa(e,!1,fp,mp,_u)}function ku(e){return aa(e,!0,dp,yp,vu)}function aa(e,t,r,n,i){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=bp(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return i.set(e,a),a}function Xr(e){return Nr(e)?Xr(e.__v_raw):!!(e&&e.__v_isReactive)}function Nr(e){return!!(e&&e.__v_isReadonly)}function wt(e){return!!(e&&e.__v_isShallow)}function la(e){return e?!!e.__v_raw:!1}function ke(e){const t=e&&e.__v_raw;return t?ke(t):e}function kp(e){return!we(e,"__v_skip")&&Object.isExtensible(e)&&tu(e,"__v_skip",!0),e}const rt=e=>Re(e)?hs(e):e,ho=e=>Re(e)?ku(e):e;function it(e){return e?e.__v_isRef===!0:!1}function Ve(e){return wu(e,!1)}function po(e){return wu(e,!0)}function wu(e,t){return it(e)?e:new wp(e,t)}class wp{constructor(t,r){this.dep=new sa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:ke(t),this._value=r?t:rt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||wt(t)||Nr(t);t=n?t:ke(t),hr(t,r)&&(this._rawValue=t,this._value=n?t:rt(t),this.dep.trigger())}}function Ge(e){return it(e)?e.value:e}const Sp={get:(e,t,r)=>t==="__v_raw"?e:Ge(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return it(i)&&!it(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Su(e){return Xr(e)?e:new Proxy(e,Sp)}class xp{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new sa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return lu(this,!0),!0}get value(){const t=this.dep.track();return du(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Cp(e,t,r=!1){let n,i;return te(e)?n=e:(n=e.get,i=e.set),new xp(n,i,r)}const pi={},Hi=new WeakMap;let Ir;function Mp(e,t=!1,r=Ir){if(r){let n=Hi.get(r);n||Hi.set(r,n=[]),n.push(e)}}function Ep(e,t,r=Ee){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=r,u=x=>i?x:wt(x)||i===!1||i===0?Qt(x,1):Qt(x);let c,d,f,h,g=!1,m=!1;if(it(e)?(d=()=>e.value,g=wt(e)):Xr(e)?(d=()=>u(e),g=!0):J(e)?(m=!0,g=e.some(x=>Xr(x)||wt(x)),d=()=>e.map(x=>{if(it(x))return x.value;if(Xr(x))return u(x);if(te(x))return l?l(x,2):x()})):te(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){wr();try{f()}finally{Sr()}}const x=Ir;Ir=c;try{return l?l(e,3,[h]):e(h)}finally{Ir=x}}:d=Wt,t&&i){const x=d,A=i===!0?1/0:i;d=()=>Qt(x(),A)}const b=rp(),S=()=>{c.stop(),b&&b.active&&ea(b.effects,c)};if(s&&t){const x=t;t=(...A)=>{x(...A),S()}}let k=m?new Array(e.length).fill(pi):pi;const _=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const A=c.run();if(i||g||(m?A.some((W,q)=>hr(W,k[q])):hr(A,k))){f&&f();const W=Ir;Ir=c;try{const q=[A,k===pi?void 0:m&&k[0]===pi?[]:k,h];l?l(t,3,q):t(...q),k=A}finally{Ir=W}}}else c.run()};return a&&a(_),c=new ou(d),c.scheduler=o?()=>o(_,!1):_,h=x=>Mp(x,!1,c),f=c.onStop=()=>{const x=Hi.get(c);if(x){if(l)l(x,4);else for(const A of x)A();Hi.delete(c)}},t?n?_(!0):k=c.run():o?o(_.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Qt(e,t=1/0,r){if(t<=0||!Re(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,it(e))Qt(e.value,t,r);else if(J(e))for(let n=0;n<e.length;n++)Qt(e[n],t,r);else if(as(e)||Qr(e))e.forEach(n=>{Qt(n,t,r)});else if(eu(e)){for(const n in e)Qt(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Qt(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(e,t,r,n){try{return n?e(...n):e()}catch(i){ps(i,t,r)}}function qt(e,t,r,n){if(te(e)){const i=ni(e,t,r,n);return i&&Xc(i)&&i.catch(s=>{ps(s,t,r)}),i}if(J(e)){const i=[];for(let s=0;s<e.length;s++)i.push(qt(e[s],t,r,n));return i}}function ps(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Ee;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){wr(),ni(s,null,10,[e,l,u]),Sr();return}}Ip(e,r,i,n,o)}function Ip(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const ot=[];let $t=-1;const Zr=[];let lr=null,Wr=0;const xu=Promise.resolve();let Wi=null;function Cu(e){const t=Wi||xu;return e?t.then(this?e.bind(this):e):t}function Tp(e){let t=$t+1,r=ot.length;for(;t<r;){const n=t+r>>>1,i=ot[n],s=jn(i);s<e||s===e&&i.flags&2?t=n+1:r=n}return t}function ca(e){if(!(e.flags&1)){const t=jn(e),r=ot[ot.length-1];!r||!(e.flags&2)&&t>=jn(r)?ot.push(e):ot.splice(Tp(t),0,e),e.flags|=1,Mu()}}function Mu(){Wi||(Wi=xu.then(Iu))}function Ap(e){J(e)?Zr.push(...e):lr&&e.id===-1?lr.splice(Wr+1,0,e):e.flags&1||(Zr.push(e),e.flags|=1),Mu()}function Qa(e,t,r=$t+1){for(;r<ot.length;r++){const n=ot[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ot.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Eu(e){if(Zr.length){const t=[...new Set(Zr)].sort((r,n)=>jn(r)-jn(n));if(Zr.length=0,lr){lr.push(...t);return}for(lr=t,Wr=0;Wr<lr.length;Wr++){const r=lr[Wr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}lr=null,Wr=0}}const jn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Iu(e){try{for($t=0;$t<ot.length;$t++){const t=ot[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ni(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<ot.length;$t++){const t=ot[$t];t&&(t.flags&=-2)}$t=-1,ot.length=0,Eu(),Wi=null,(ot.length||Zr.length)&&Iu()}}let Xe=null,Tu=null;function ji(e){const t=Xe;return Xe=e,Tu=e&&e.type.__scopeId||null,t}function De(e,t=Xe,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&ol(-1);const s=ji(t);let o;try{o=e(...i)}finally{ji(s),n._d&&ol(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function pr(e,t){if(Xe===null)return e;const r=_s(Xe),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=Ee]=t[i];s&&(te(s)&&(s={mounted:s,updated:s}),s.deep&&Qt(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Cr(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(wr(),qt(l,r,8,[e.el,a,e,t]),Sr())}}const Op=Symbol("_vte"),Rp=e=>e.__isTeleport;function ua(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ua(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ve(e,t){return te(e)?Je({name:e.name},t,{setup:e}):e}function Au(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qi(e,t,r,n,i=!1){if(J(e)){e.forEach((g,m)=>qi(g,t&&(J(t)?t[m]:t),r,n,i));return}if(en(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&qi(e,t,r,n.component.subTree);return}const s=n.shapeFlag&4?_s(n.component):n.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ee?a.refs={}:a.refs,d=a.setupState,f=ke(d),h=d===Ee?()=>!1:g=>we(f,g);if(u!=null&&u!==l&&(He(u)?(c[u]=null,h(u)&&(d[u]=null)):it(u)&&(u.value=null)),te(l))ni(l,a,12,[o,c]);else{const g=He(l),m=it(l);if(g||m){const b=()=>{if(e.f){const S=g?h(l)?d[l]:c[l]:l.value;i?J(S)&&ea(S,s):J(S)?S.includes(s)||S.push(s):g?(c[l]=[s],h(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else g?(c[l]=o,h(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(c[e.k]=o))};o?(b.id=-1,_t(b,r)):b()}}}us().requestIdleCallback;us().cancelIdleCallback;const en=e=>!!e.type.__asyncLoader,Ou=e=>e.type.__isKeepAlive;function Dp(e,t){Ru(e,"a",t)}function Pp(e,t){Ru(e,"da",t)}function Ru(e,t,r=nt){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(gs(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Ou(i.parent.vnode)&&Lp(n,t,r,i),i=i.parent}}function Lp(e,t,r,n){const i=gs(t,e,n,!0);Du(()=>{ea(n[t],i)},r)}function gs(e,t,r=nt,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...o)=>{wr();const a=ii(r),l=qt(t,r,e,o);return a(),Sr(),l});return n?i.unshift(s):i.push(s),s}}const ir=e=>(t,r=nt)=>{(!zn||e==="sp")&&gs(e,(...n)=>t(...n),r)},Np=ir("bm"),da=ir("m"),$p=ir("bu"),Fp=ir("u"),Bp=ir("bum"),Du=ir("um"),Up=ir("sp"),Hp=ir("rtg"),Wp=ir("rtc");function jp(e,t=nt){gs("ec",e,t)}const Pu="components";function qp(e,t){return $u(Pu,e,!0,t)||e}const Lu=Symbol.for("v-ndc");function Nu(e){return He(e)?$u(Pu,e,!1)||e:e||Lu}function $u(e,t,r=!0,n=!1){const i=Xe||nt;if(i){const s=i.type;{const a=Tg(s,!1);if(a&&(a===t||a===St(t)||a===cs(St(t))))return s}const o=Xa(i[e]||s[e],t)||Xa(i.appContext[e],t);return!o&&n?s:o}}function Xa(e,t){return e&&(e[t]||e[St(t)]||e[cs(St(t))])}function Ke(e,t,r,n){let i;const s=r,o=J(e);if(o||He(e)){const a=o&&Xr(e);let l=!1;a&&(l=!wt(e),e=fs(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?rt(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(Re(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,s)}}else i=[];return i}function Vi(e,t,r={},n,i){if(Xe.ce||Xe.parent&&en(Xe.parent)&&Xe.parent.ce)return t!=="default"&&(r.name=t),O(),ze(se,null,[me("slot",r,n)],64);let s=e[t];s&&s._c&&(s._d=!1),O();const o=s&&Fu(s(r)),a=r.key||o&&o.key,l=ze(se,{key:(a&&!Ot(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return s&&s._c&&(s._d=!0),l}function Fu(e){return e.some(t=>Vn(t)?!(t.type===yr||t.type===se&&!Fu(t.children)):!0)?e:null}const go=e=>e?sd(e)?_s(e):go(e.parent):null,Dn=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>go(e.parent),$root:e=>go(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fa(e),$forceUpdate:e=>e.f||(e.f=()=>{ca(e.update)}),$nextTick:e=>e.n||(e.n=Cu.bind(e.proxy)),$watch:e=>dg.bind(e)}),Ns=(e,t)=>e!==Ee&&!e.__isScriptSetup&&we(e,t),Vp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(Ns(n,t))return o[t]=1,n[t];if(i!==Ee&&we(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&we(u,t))return o[t]=3,s[t];if(r!==Ee&&we(r,t))return o[t]=4,r[t];mo&&(o[t]=0)}}const c=Dn[t];let d,f;if(c)return t==="$attrs"&&tt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==Ee&&we(r,t))return o[t]=4,r[t];if(f=l.config.globalProperties,we(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return Ns(i,t)?(i[t]=r,!0):n!==Ee&&we(n,t)?(n[t]=r,!0):we(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||e!==Ee&&we(e,o)||Ns(t,o)||(a=s[0])&&we(a,o)||we(n,o)||we(Dn,o)||we(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:we(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Za(e){return J(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let mo=!0;function zp(e){const t=fa(e),r=e.proxy,n=e.ctx;mo=!1,t.beforeCreate&&el(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:m,deactivated:b,beforeDestroy:S,beforeUnmount:k,destroyed:_,unmounted:x,render:A,renderTracked:W,renderTriggered:q,errorCaptured:z,serverPrefetch:ne,expose:ce,inheritAttrs:ye,components:Q,directives:fe,filters:Z}=t;if(u&&Gp(u,n,null),o)for(const ee in o){const ae=o[ee];te(ae)&&(n[ee]=ae.bind(r))}if(i){const ee=i.call(r,r);Re(ee)&&(e.data=hs(ee))}if(mo=!0,s)for(const ee in s){const ae=s[ee],Ye=te(ae)?ae.bind(r,r):te(ae.get)?ae.get.bind(r,r):Wt,Ne=!te(ae)&&te(ae.set)?ae.set.bind(r):Wt,ut=Ce({get:Ye,set:Ne});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>ut.value,set:Qe=>ut.value=Qe})}if(a)for(const ee in a)Bu(a[ee],n,r,ee);if(l){const ee=te(l)?l.call(r):l;Reflect.ownKeys(ee).forEach(ae=>{wi(ae,ee[ae])})}c&&el(c,e,"c");function oe(ee,ae){J(ae)?ae.forEach(Ye=>ee(Ye.bind(r))):ae&&ee(ae.bind(r))}if(oe(Np,d),oe(da,f),oe($p,h),oe(Fp,g),oe(Dp,m),oe(Pp,b),oe(jp,z),oe(Wp,W),oe(Hp,q),oe(Bp,k),oe(Du,x),oe(Up,ne),J(ce))if(ce.length){const ee=e.exposed||(e.exposed={});ce.forEach(ae=>{Object.defineProperty(ee,ae,{get:()=>r[ae],set:Ye=>r[ae]=Ye})})}else e.exposed||(e.exposed={});A&&e.render===Wt&&(e.render=A),ye!=null&&(e.inheritAttrs=ye),Q&&(e.components=Q),fe&&(e.directives=fe),ne&&Au(e)}function Gp(e,t,r=Wt){J(e)&&(e=yo(e));for(const n in e){const i=e[n];let s;Re(i)?"default"in i?s=er(i.from||n,i.default,!0):s=er(i.from||n):s=er(i),it(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function el(e,t,r){qt(J(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Bu(e,t,r,n){let i=n.includes(".")?Zu(r,n):()=>r[n];if(He(e)){const s=t[e];te(s)&&rn(i,s)}else if(te(e))rn(i,e.bind(r));else if(Re(e))if(J(e))e.forEach(s=>Bu(s,t,r,n));else{const s=te(e.handler)?e.handler.bind(r):t[e.handler];te(s)&&rn(i,s,e)}}function fa(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>zi(l,u,o,!0)),zi(l,t,o)),Re(t)&&s.set(t,l),l}function zi(e,t,r,n=!1){const{mixins:i,extends:s}=t;s&&zi(e,s,r,!0),i&&i.forEach(o=>zi(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=Kp[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Kp={data:tl,props:rl,emits:rl,methods:wn,computed:wn,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:wn,directives:wn,watch:Jp,provide:tl,inject:Yp};function tl(e,t){return t?e?function(){return Je(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function Yp(e,t){return wn(yo(e),yo(t))}function yo(e){if(J(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function wn(e,t){return e?Je(Object.create(null),e,t):t}function rl(e,t){return e?J(e)&&J(t)?[...new Set([...e,...t])]:Je(Object.create(null),Za(e),Za(t??{})):t}function Jp(e,t){if(!e)return t;if(!t)return e;const r=Je(Object.create(null),e);for(const n in t)r[n]=st(e[n],t[n]);return r}function Uu(){return{app:null,config:{isNativeTag:jh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qp=0;function Xp(e,t){return function(n,i=null){te(n)||(n=Je({},n)),i!=null&&!Re(i)&&(i=null);const s=Uu(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:Qp++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Og,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(u,...d)):te(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||me(n,i);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,_s(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(qt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=tn;tn=u;try{return c()}finally{tn=d}}};return u}}let tn=null;function wi(e,t){if(nt){let r=nt.provides;const n=nt.parent&&nt.parent.provides;n===r&&(r=nt.provides=Object.create(n)),r[e]=t}}function er(e,t,r=!1){const n=nt||Xe;if(n||tn){const i=tn?tn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&te(t)?t.call(n&&n.proxy):t}}const Hu={},Wu=()=>Object.create(Hu),ju=e=>Object.getPrototypeOf(e)===Hu;function Zp(e,t,r,n=!1){const i={},s=Wu();e.propsDefaults=Object.create(null),qu(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:bu(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function eg(e,t,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=ke(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ms(e.emitsOptions,f))continue;const h=t[f];if(l)if(we(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const g=St(f);i[g]=_o(l,a,g,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{qu(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!we(t,d)&&((c=$r(d))===d||!we(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(i[d]=_o(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!we(t,d))&&(delete s[d],u=!0)}u&&Jt(e.attrs,"set","")}function qu(e,t,r,n){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(An(l))continue;const u=t[l];let c;i&&we(i,c=St(l))?!s||!s.includes(c)?r[c]=u:(a||(a={}))[c]=u:ms(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(s){const l=ke(r),u=a||Ee;for(let c=0;c<s.length;c++){const d=s[c];r[d]=_o(i,l,d,u[d],e,!we(u,d))}}return o}function _o(e,t,r,n,i,s){const o=e[r];if(o!=null){const a=we(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=ii(i);n=u[r]=l.call(null,t),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===$r(r))&&(n=!0))}return n}const tg=new WeakMap;function Vu(e,t,r=!1){const n=r?tg:t.propsCache,i=n.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!te(e)){const c=d=>{l=!0;const[f,h]=Vu(d,t,!0);Je(o,f),h&&a.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Re(e)&&n.set(e,Jr),Jr;if(J(s))for(let c=0;c<s.length;c++){const d=St(s[c]);nl(d)&&(o[d]=Ee)}else if(s)for(const c in s){const d=St(c);if(nl(d)){const f=s[c],h=o[d]=J(f)||te(f)?{type:f}:Je({},f),g=h.type;let m=!1,b=!0;if(J(g))for(let S=0;S<g.length;++S){const k=g[S],_=te(k)&&k.name;if(_==="Boolean"){m=!0;break}else _==="String"&&(b=!1)}else m=te(g)&&g.name==="Boolean";h[0]=m,h[1]=b,(m||we(h,"default"))&&a.push(d)}}const u=[o,a];return Re(e)&&n.set(e,u),u}function nl(e){return e[0]!=="$"&&!An(e)}const zu=e=>e[0]==="_"||e==="$stable",ha=e=>J(e)?e.map(Bt):[Bt(e)],rg=(e,t,r)=>{if(t._n)return t;const n=De((...i)=>ha(t(...i)),r);return n._c=!1,n},Gu=(e,t,r)=>{const n=e._ctx;for(const i in e){if(zu(i))continue;const s=e[i];if(te(s))t[i]=rg(i,s,n);else if(s!=null){const o=ha(s);t[i]=()=>o}}},Ku=(e,t)=>{const r=ha(t);e.slots.default=()=>r},Yu=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},ng=(e,t,r)=>{const n=e.slots=Wu();if(e.vnode.shapeFlag&32){const i=t._;i?(Yu(n,t,r),r&&tu(n,"_",i,!0)):Gu(t,n)}else t&&Ku(e,t)},ig=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,o=Ee;if(n.shapeFlag&32){const a=t._;a?r&&a===1?s=!1:Yu(i,t,r):(s=!t.$stable,Gu(t,i)),o=t}else t&&(Ku(e,t),o={default:1});if(s)for(const a in i)!zu(a)&&o[a]==null&&delete i[a]},_t=_g;function sg(e){return og(e)}function og(e,t){const r=us();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Wt,insertStaticContent:g}=e,m=(y,v,C,E=null,T=null,R=null,B=void 0,N=null,P=!!v.dynamicChildren)=>{if(y===v)return;y&&!yn(y,v)&&(E=I(y),Qe(y,T,R,!0),y=null),v.patchFlag===-2&&(P=!1,v.dynamicChildren=null);const{type:D,ref:G,shapeFlag:H}=v;switch(D){case ys:b(y,v,C,E);break;case yr:S(y,v,C,E);break;case Bs:y==null&&k(v,C,E,B);break;case se:Q(y,v,C,E,T,R,B,N,P);break;default:H&1?A(y,v,C,E,T,R,B,N,P):H&6?fe(y,v,C,E,T,R,B,N,P):(H&64||H&128)&&D.process(y,v,C,E,T,R,B,N,P,j)}G!=null&&T&&qi(G,y&&y.ref,R,v||y,!v)},b=(y,v,C,E)=>{if(y==null)n(v.el=a(v.children),C,E);else{const T=v.el=y.el;v.children!==y.children&&u(T,v.children)}},S=(y,v,C,E)=>{y==null?n(v.el=l(v.children||""),C,E):v.el=y.el},k=(y,v,C,E)=>{[y.el,y.anchor]=g(y.children,v,C,E,y.el,y.anchor)},_=({el:y,anchor:v},C,E)=>{let T;for(;y&&y!==v;)T=f(y),n(y,C,E),y=T;n(v,C,E)},x=({el:y,anchor:v})=>{let C;for(;y&&y!==v;)C=f(y),i(y),y=C;i(v)},A=(y,v,C,E,T,R,B,N,P)=>{v.type==="svg"?B="svg":v.type==="math"&&(B="mathml"),y==null?W(v,C,E,T,R,B,N,P):ne(y,v,T,R,B,N,P)},W=(y,v,C,E,T,R,B,N)=>{let P,D;const{props:G,shapeFlag:H,transition:V,dirs:X}=y;if(P=y.el=o(y.type,R,G&&G.is,G),H&8?c(P,y.children):H&16&&z(y.children,P,null,E,T,$s(y,R),B,N),X&&Cr(y,null,E,"created"),q(P,y,y.scopeId,B,E),G){for(const Te in G)Te!=="value"&&!An(Te)&&s(P,Te,null,G[Te],R,E);"value"in G&&s(P,"value",null,G.value,R),(D=G.onVnodeBeforeMount)&&Lt(D,E,y)}X&&Cr(y,null,E,"beforeMount");const he=ag(T,V);he&&V.beforeEnter(P),n(P,v,C),((D=G&&G.onVnodeMounted)||he||X)&&_t(()=>{D&&Lt(D,E,y),he&&V.enter(P),X&&Cr(y,null,E,"mounted")},T)},q=(y,v,C,E,T)=>{if(C&&h(y,C),E)for(let R=0;R<E.length;R++)h(y,E[R]);if(T){let R=T.subTree;if(v===R||td(R.type)&&(R.ssContent===v||R.ssFallback===v)){const B=T.vnode;q(y,B,B.scopeId,B.slotScopeIds,T.parent)}}},z=(y,v,C,E,T,R,B,N,P=0)=>{for(let D=P;D<y.length;D++){const G=y[D]=N?cr(y[D]):Bt(y[D]);m(null,G,v,C,E,T,R,B,N)}},ne=(y,v,C,E,T,R,B)=>{const N=v.el=y.el;let{patchFlag:P,dynamicChildren:D,dirs:G}=v;P|=y.patchFlag&16;const H=y.props||Ee,V=v.props||Ee;let X;if(C&&Mr(C,!1),(X=V.onVnodeBeforeUpdate)&&Lt(X,C,v,y),G&&Cr(v,y,C,"beforeUpdate"),C&&Mr(C,!0),(H.innerHTML&&V.innerHTML==null||H.textContent&&V.textContent==null)&&c(N,""),D?ce(y.dynamicChildren,D,N,C,E,$s(v,T),R):B||ae(y,v,N,null,C,E,$s(v,T),R,!1),P>0){if(P&16)ye(N,H,V,C,T);else if(P&2&&H.class!==V.class&&s(N,"class",null,V.class,T),P&4&&s(N,"style",H.style,V.style,T),P&8){const he=v.dynamicProps;for(let Te=0;Te<he.length;Te++){const xe=he[Te],pt=H[xe],Ze=V[xe];(Ze!==pt||xe==="value")&&s(N,xe,pt,Ze,T,C)}}P&1&&y.children!==v.children&&c(N,v.children)}else!B&&D==null&&ye(N,H,V,C,T);((X=V.onVnodeUpdated)||G)&&_t(()=>{X&&Lt(X,C,v,y),G&&Cr(v,y,C,"updated")},E)},ce=(y,v,C,E,T,R,B)=>{for(let N=0;N<v.length;N++){const P=y[N],D=v[N],G=P.el&&(P.type===se||!yn(P,D)||P.shapeFlag&70)?d(P.el):C;m(P,D,G,null,E,T,R,B,!0)}},ye=(y,v,C,E,T)=>{if(v!==C){if(v!==Ee)for(const R in v)!An(R)&&!(R in C)&&s(y,R,v[R],null,T,E);for(const R in C){if(An(R))continue;const B=C[R],N=v[R];B!==N&&R!=="value"&&s(y,R,N,B,T,E)}"value"in C&&s(y,"value",v.value,C.value,T)}},Q=(y,v,C,E,T,R,B,N,P)=>{const D=v.el=y?y.el:a(""),G=v.anchor=y?y.anchor:a("");let{patchFlag:H,dynamicChildren:V,slotScopeIds:X}=v;X&&(N=N?N.concat(X):X),y==null?(n(D,C,E),n(G,C,E),z(v.children||[],C,G,T,R,B,N,P)):H>0&&H&64&&V&&y.dynamicChildren?(ce(y.dynamicChildren,V,C,T,R,B,N),(v.key!=null||T&&v===T.subTree)&&Ju(y,v,!0)):ae(y,v,C,G,T,R,B,N,P)},fe=(y,v,C,E,T,R,B,N,P)=>{v.slotScopeIds=N,y==null?v.shapeFlag&512?T.ctx.activate(v,C,E,B,P):Z(v,C,E,T,R,B,P):Se(y,v,P)},Z=(y,v,C,E,T,R,B)=>{const N=y.component=xg(y,E,T);if(Ou(y)&&(N.ctx.renderer=j),Cg(N,!1,B),N.asyncDep){if(T&&T.registerDep(N,oe,B),!y.el){const P=N.subTree=me(yr);S(null,P,v,C)}}else oe(N,y,v,C,T,R,B)},Se=(y,v,C)=>{const E=v.component=y.component;if(mg(y,v,C))if(E.asyncDep&&!E.asyncResolved){ee(E,v,C);return}else E.next=v,E.update();else v.el=y.el,E.vnode=v},oe=(y,v,C,E,T,R,B)=>{const N=()=>{if(y.isMounted){let{next:H,bu:V,u:X,parent:he,vnode:Te}=y;{const gt=Qu(y);if(gt){H&&(H.el=Te.el,ee(y,H,B)),gt.asyncDep.then(()=>{y.isUnmounted||N()});return}}let xe=H,pt;Mr(y,!1),H?(H.el=Te.el,ee(y,H,B)):H=Te,V&&ki(V),(pt=H.props&&H.props.onVnodeBeforeUpdate)&&Lt(pt,he,H,Te),Mr(y,!0);const Ze=Fs(y),Mt=y.subTree;y.subTree=Ze,m(Mt,Ze,d(Mt.el),I(Mt),y,T,R),H.el=Ze.el,xe===null&&yg(y,Ze.el),X&&_t(X,T),(pt=H.props&&H.props.onVnodeUpdated)&&_t(()=>Lt(pt,he,H,Te),T)}else{let H;const{el:V,props:X}=v,{bm:he,m:Te,parent:xe,root:pt,type:Ze}=y,Mt=en(v);if(Mr(y,!1),he&&ki(he),!Mt&&(H=X&&X.onVnodeBeforeMount)&&Lt(H,xe,v),Mr(y,!0),V&&ue){const gt=()=>{y.subTree=Fs(y),ue(V,y.subTree,y,T,null)};Mt&&Ze.__asyncHydrate?Ze.__asyncHydrate(V,y,gt):gt()}else{pt.ce&&pt.ce._injectChildStyle(Ze);const gt=y.subTree=Fs(y);m(null,gt,C,E,y,T,R),v.el=gt.el}if(Te&&_t(Te,T),!Mt&&(H=X&&X.onVnodeMounted)){const gt=v;_t(()=>Lt(H,xe,gt),T)}(v.shapeFlag&256||xe&&en(xe.vnode)&&xe.vnode.shapeFlag&256)&&y.a&&_t(y.a,T),y.isMounted=!0,v=C=E=null}};y.scope.on();const P=y.effect=new ou(N);y.scope.off();const D=y.update=P.run.bind(P),G=y.job=P.runIfDirty.bind(P);G.i=y,G.id=y.uid,P.scheduler=()=>ca(G),Mr(y,!0),D()},ee=(y,v,C)=>{v.component=y;const E=y.vnode.props;y.vnode=v,y.next=null,eg(y,v.props,E,C),ig(y,v.children,C),wr(),Qa(y),Sr()},ae=(y,v,C,E,T,R,B,N,P=!1)=>{const D=y&&y.children,G=y?y.shapeFlag:0,H=v.children,{patchFlag:V,shapeFlag:X}=v;if(V>0){if(V&128){Ne(D,H,C,E,T,R,B,N,P);return}else if(V&256){Ye(D,H,C,E,T,R,B,N,P);return}}X&8?(G&16&&dt(D,T,R),H!==D&&c(C,H)):G&16?X&16?Ne(D,H,C,E,T,R,B,N,P):dt(D,T,R,!0):(G&8&&c(C,""),X&16&&z(H,C,E,T,R,B,N,P))},Ye=(y,v,C,E,T,R,B,N,P)=>{y=y||Jr,v=v||Jr;const D=y.length,G=v.length,H=Math.min(D,G);let V;for(V=0;V<H;V++){const X=v[V]=P?cr(v[V]):Bt(v[V]);m(y[V],X,C,null,T,R,B,N,P)}D>G?dt(y,T,R,!0,!1,H):z(v,C,E,T,R,B,N,P,H)},Ne=(y,v,C,E,T,R,B,N,P)=>{let D=0;const G=v.length;let H=y.length-1,V=G-1;for(;D<=H&&D<=V;){const X=y[D],he=v[D]=P?cr(v[D]):Bt(v[D]);if(yn(X,he))m(X,he,C,null,T,R,B,N,P);else break;D++}for(;D<=H&&D<=V;){const X=y[H],he=v[V]=P?cr(v[V]):Bt(v[V]);if(yn(X,he))m(X,he,C,null,T,R,B,N,P);else break;H--,V--}if(D>H){if(D<=V){const X=V+1,he=X<G?v[X].el:E;for(;D<=V;)m(null,v[D]=P?cr(v[D]):Bt(v[D]),C,he,T,R,B,N,P),D++}}else if(D>V)for(;D<=H;)Qe(y[D],T,R,!0),D++;else{const X=D,he=D,Te=new Map;for(D=he;D<=V;D++){const mt=v[D]=P?cr(v[D]):Bt(v[D]);mt.key!=null&&Te.set(mt.key,D)}let xe,pt=0;const Ze=V-he+1;let Mt=!1,gt=0;const gn=new Array(Ze);for(D=0;D<Ze;D++)gn[D]=0;for(D=X;D<=H;D++){const mt=y[D];if(pt>=Ze){Qe(mt,T,R,!0);continue}let Pt;if(mt.key!=null)Pt=Te.get(mt.key);else for(xe=he;xe<=V;xe++)if(gn[xe-he]===0&&yn(mt,v[xe])){Pt=xe;break}Pt===void 0?Qe(mt,T,R,!0):(gn[Pt-he]=D+1,Pt>=gt?gt=Pt:Mt=!0,m(mt,v[Pt],C,null,T,R,B,N,P),pt++)}const ba=Mt?lg(gn):Jr;for(xe=ba.length-1,D=Ze-1;D>=0;D--){const mt=he+D,Pt=v[mt],ka=mt+1<G?v[mt+1].el:E;gn[D]===0?m(null,Pt,C,ka,T,R,B,N,P):Mt&&(xe<0||D!==ba[xe]?ut(Pt,C,ka,2):xe--)}}},ut=(y,v,C,E,T=null)=>{const{el:R,type:B,transition:N,children:P,shapeFlag:D}=y;if(D&6){ut(y.component.subTree,v,C,E);return}if(D&128){y.suspense.move(v,C,E);return}if(D&64){B.move(y,v,C,j);return}if(B===se){n(R,v,C);for(let H=0;H<P.length;H++)ut(P[H],v,C,E);n(y.anchor,v,C);return}if(B===Bs){_(y,v,C);return}if(E!==2&&D&1&&N)if(E===0)N.beforeEnter(R),n(R,v,C),_t(()=>N.enter(R),T);else{const{leave:H,delayLeave:V,afterLeave:X}=N,he=()=>n(R,v,C),Te=()=>{H(R,()=>{he(),X&&X()})};V?V(R,he,Te):Te()}else n(R,v,C)},Qe=(y,v,C,E=!1,T=!1)=>{const{type:R,props:B,ref:N,children:P,dynamicChildren:D,shapeFlag:G,patchFlag:H,dirs:V,cacheIndex:X}=y;if(H===-2&&(T=!1),N!=null&&qi(N,null,C,y,!0),X!=null&&(v.renderCache[X]=void 0),G&256){v.ctx.deactivate(y);return}const he=G&1&&V,Te=!en(y);let xe;if(Te&&(xe=B&&B.onVnodeBeforeUnmount)&&Lt(xe,v,y),G&6)xr(y.component,C,E);else{if(G&128){y.suspense.unmount(C,E);return}he&&Cr(y,null,v,"beforeUnmount"),G&64?y.type.remove(y,v,C,j,E):D&&!D.hasOnce&&(R!==se||H>0&&H&64)?dt(D,v,C,!1,!0):(R===se&&H&384||!T&&G&16)&&dt(P,v,C),E&&Ct(y)}(Te&&(xe=B&&B.onVnodeUnmounted)||he)&&_t(()=>{xe&&Lt(xe,v,y),he&&Cr(y,null,v,"unmounted")},C)},Ct=y=>{const{type:v,el:C,anchor:E,transition:T}=y;if(v===se){Vt(C,E);return}if(v===Bs){x(y);return}const R=()=>{i(C),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(y.shapeFlag&1&&T&&!T.persisted){const{leave:B,delayLeave:N}=T,P=()=>B(C,R);N?N(y.el,R,P):P()}else R()},Vt=(y,v)=>{let C;for(;y!==v;)C=f(y),i(y),y=C;i(v)},xr=(y,v,C)=>{const{bum:E,scope:T,job:R,subTree:B,um:N,m:P,a:D}=y;il(P),il(D),E&&ki(E),T.stop(),R&&(R.flags|=8,Qe(B,y,v,C)),N&&_t(N,v),_t(()=>{y.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},dt=(y,v,C,E=!1,T=!1,R=0)=>{for(let B=R;B<y.length;B++)Qe(y[B],v,C,E,T)},I=y=>{if(y.shapeFlag&6)return I(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const v=f(y.anchor||y.el),C=v&&v[Op];return C?f(C):v};let F=!1;const $=(y,v,C)=>{y==null?v._vnode&&Qe(v._vnode,null,null,!0):m(v._vnode||null,y,v,null,null,null,C),v._vnode=y,F||(F=!0,Qa(),Eu(),F=!1)},j={p:m,um:Qe,m:ut,r:Ct,mt:Z,mc:z,pc:ae,pbc:ce,n:I,o:e};let U,ue;return{render:$,hydrate:U,createApp:Xp($,U)}}function $s({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Mr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ag(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ju(e,t,r=!1){const n=e.children,i=t.children;if(J(n)&&J(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=cr(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&Ju(o,a)),a.type===ys&&(a.el=o.el)}}function lg(e){const t=e.slice(),r=[0];let n,i,s,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,e[r[a]]<u?s=a+1:o=a;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=t[o];return r}function Qu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qu(t)}function il(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cg=Symbol.for("v-scx"),ug=()=>er(cg);function rn(e,t,r){return Xu(e,t,r)}function Xu(e,t,r=Ee){const{immediate:n,deep:i,flush:s,once:o}=r,a=Je({},r),l=t&&n||!t&&s!=="post";let u;if(zn){if(s==="sync"){const h=ug();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Wt,h.resume=Wt,h.pause=Wt,h}}const c=nt;a.call=(h,g,m)=>qt(h,c,g,m);let d=!1;s==="post"?a.scheduler=h=>{_t(h,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(h,g)=>{g?h():ca(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Ep(e,t,a);return zn&&(u?u.push(f):l&&f()),f}function dg(e,t,r){const n=this.proxy,i=He(e)?e.includes(".")?Zu(n,e):()=>n[e]:e.bind(n,n);let s;te(t)?s=t:(s=t.handler,r=t);const o=ii(this),a=Xu(i,s.bind(n),r);return o(),a}function Zu(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const fg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${St(t)}Modifiers`]||e[`${$r(t)}Modifiers`];function hg(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Ee;let i=r;const s=t.startsWith("update:"),o=s&&fg(n,t.slice(7));o&&(o.trim&&(i=r.map(c=>He(c)?c.trim():c)),o.number&&(i=r.map(ao)));let a,l=n[a=Os(t)]||n[a=Os(St(t))];!l&&s&&(l=n[a=Os($r(t))]),l&&qt(l,e,6,i);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qt(u,e,6,i)}}function ed(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!te(e)){const l=u=>{const c=ed(u,t,!0);c&&(a=!0,Je(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Re(e)&&n.set(e,null),null):(J(s)?s.forEach(l=>o[l]=null):Je(o,s),Re(e)&&n.set(e,o),o)}function ms(e,t){return!e||!os(t)?!1:(t=t.slice(2).replace(/Once$/,""),we(e,t[0].toLowerCase()+t.slice(1))||we(e,$r(t))||we(e,t))}function Fs(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:g,inheritAttrs:m}=e,b=ji(e);let S,k;try{if(r.shapeFlag&4){const x=i||n,A=x;S=Bt(u.call(A,x,c,d,h,f,g)),k=a}else{const x=t;S=Bt(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),k=t.props?a:pg(a)}}catch(x){Pn.length=0,ps(x,e,1),S=me(yr)}let _=S;if(k&&m!==!1){const x=Object.keys(k),{shapeFlag:A}=_;x.length&&A&7&&(s&&x.some(Zo)&&(k=gg(k,s)),_=cn(_,k,!1,!0))}return r.dirs&&(_=cn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&ua(_,r.transition),S=_,ji(b),S}const pg=e=>{let t;for(const r in e)(r==="class"||r==="style"||os(r))&&((t||(t={}))[r]=e[r]);return t},gg=(e,t)=>{const r={};for(const n in e)(!Zo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function mg(e,t,r){const{props:n,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?sl(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==n[f]&&!ms(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?sl(n,o,u):!0:!!o;return!1}function sl(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==e[s]&&!ms(r,s))return!0}return!1}function yg({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const td=e=>e.__isSuspense;function _g(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):Ap(e)}const se=Symbol.for("v-fgt"),ys=Symbol.for("v-txt"),yr=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),Pn=[];let bt=null;function O(e=!1){Pn.push(bt=e?null:[])}function vg(){Pn.pop(),bt=Pn[Pn.length-1]||null}let qn=1;function ol(e,t=!1){qn+=e,e<0&&bt&&t&&(bt.hasOnce=!0)}function rd(e){return e.dynamicChildren=qn>0?bt||Jr:null,vg(),qn>0&&bt&&bt.push(e),e}function L(e,t,r,n,i,s){return rd(w(e,t,r,n,i,s,!0))}function ze(e,t,r,n,i){return rd(me(e,t,r,n,i,!0))}function Vn(e){return e?e.__v_isVNode===!0:!1}function yn(e,t){return e.type===t.type&&e.key===t.key}const nd=({key:e})=>e??null,Si=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||it(e)||te(e)?{i:Xe,r:e,k:t,f:!!r}:e:null);function w(e,t=null,r=null,n=0,i=null,s=e===se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nd(t),ref:t&&Si(t),scopeId:Tu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xe};return a?(pa(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=He(r)?8:16),qn>0&&!o&&bt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&bt.push(l),l}const me=bg;function bg(e,t=null,r=null,n=0,i=null,s=!1){if((!e||e===Lu)&&(e=yr),Vn(e)){const a=cn(e,t,!0);return r&&pa(a,r),qn>0&&!s&&bt&&(a.shapeFlag&6?bt[bt.indexOf(e)]=a:bt.push(a)),a.patchFlag=-2,a}if(Ag(e)&&(e=e.__vccOpts),t){t=kg(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=Fe(a)),Re(l)&&(la(l)&&!J(l)&&(l=Je({},l)),t.style=jt(l))}const o=He(e)?1:td(e)?128:Rp(e)?64:Re(e)?4:te(e)?2:0;return w(e,t,r,n,i,o,s,!0)}function kg(e){return e?la(e)||ju(e)?Je({},e):e:null}function cn(e,t,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?id(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&nd(u),ref:t&&t.ref?r&&s?J(s)?s.concat(Si(t)):[s,Si(t)]:Si(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cn(e.ssContent),ssFallback:e.ssFallback&&cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ua(c,l.clone(c)),c}function Le(e=" ",t=0){return me(ys,null,e,t)}function Ue(e="",t=!1){return t?(O(),ze(yr,null,e)):me(yr,null,e)}function Bt(e){return e==null||typeof e=="boolean"?me(yr):J(e)?me(se,null,e.slice()):Vn(e)?cr(e):me(ys,null,String(e))}function cr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cn(e)}function pa(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(J(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),pa(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!ju(t)?t._ctx=Xe:i===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:Xe},r=32):(t=String(t),n&64?(r=16,t=[Le(t)]):r=8);e.children=t,e.shapeFlag|=r}function id(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Fe([t.class,n.class]));else if(i==="style")t.style=jt([t.style,n.style]);else if(os(i)){const s=t[i],o=n[i];o&&s!==o&&!(J(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=n[i])}return t}function Lt(e,t,r,n=null){qt(e,t,7,[r,n])}const wg=Uu();let Sg=0;function xg(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||wg,s={uid:Sg++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vu(n,i),emitsOptions:ed(n,i),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:n.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=hg.bind(null,s),e.ce&&e.ce(s),s}let nt=null,Gi,vo;{const e=us(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Gi=t("__VUE_INSTANCE_SETTERS__",r=>nt=r),vo=t("__VUE_SSR_SETTERS__",r=>zn=r)}const ii=e=>{const t=nt;return Gi(e),e.scope.on(),()=>{e.scope.off(),Gi(t)}},al=()=>{nt&&nt.scope.off(),Gi(null)};function sd(e){return e.vnode.shapeFlag&4}let zn=!1;function Cg(e,t=!1,r=!1){t&&vo(t);const{props:n,children:i}=e.vnode,s=sd(e);Zp(e,n,s,t),ng(e,i,r);const o=s?Mg(e,t):void 0;return t&&vo(!1),o}function Mg(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vp);const{setup:n}=r;if(n){wr();const i=e.setupContext=n.length>1?Ig(e):null,s=ii(e),o=ni(n,e,0,[e.props,i]),a=Xc(o);if(Sr(),s(),(a||e.sp)&&!en(e)&&Au(e),a){if(o.then(al,al),t)return o.then(l=>{ll(e,l,t)}).catch(l=>{ps(l,e,0)});e.asyncDep=o}else ll(e,o,t)}else od(e,t)}function ll(e,t,r){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=Su(t)),od(e,r)}let cl;function od(e,t,r){const n=e.type;if(!e.render){if(!t&&cl&&!n.render){const i=n.template||fa(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,u=Je(Je({isCustomElement:s,delimiters:a},o),l);n.render=cl(i,u)}}e.render=n.render||Wt}{const i=ii(e);wr();try{zp(e)}finally{Sr(),i()}}}const Eg={get(e,t){return tt(e,"get",""),e[t]}};function Ig(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Eg),slots:e.slots,emit:e.emit,expose:t}}function _s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Su(kp(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Dn)return Dn[r](e)},has(t,r){return r in t||r in Dn}})):e.proxy}function Tg(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function Ag(e){return te(e)&&"__vccOpts"in e}const Ce=(e,t)=>Cp(e,t,zn);function ad(e,t,r){const n=arguments.length;return n===2?Re(t)&&!J(t)?Vn(t)?me(e,null,[t]):me(e,t):me(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vn(r)&&(r=[r]),me(e,t,r))}const Og="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bo;const ul=typeof window<"u"&&window.trustedTypes;if(ul)try{bo=ul.createPolicy("vue",{createHTML:e=>e})}catch{}const ld=bo?e=>bo.createHTML(e):e=>e,Rg="http://www.w3.org/2000/svg",Dg="http://www.w3.org/1998/Math/MathML",Yt=typeof document<"u"?document:null,dl=Yt&&Yt.createElement("template"),Pg={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?Yt.createElementNS(Rg,e):t==="mathml"?Yt.createElementNS(Dg,e):r?Yt.createElement(e,{is:r}):Yt.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,s){const o=r?r.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{dl.innerHTML=ld(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=dl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Lg=Symbol("_vtc");function Ng(e,t,r){const n=e[Lg];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const fl=Symbol("_vod"),$g=Symbol("_vsh"),Fg=Symbol(""),Bg=/(^|;)\s*display\s*:/;function Ug(e,t,r){const n=e.style,i=He(r);let s=!1;if(r&&!i){if(t)if(He(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&xi(n,a,"")}else for(const o in t)r[o]==null&&xi(n,o,"");for(const o in r)o==="display"&&(s=!0),xi(n,o,r[o])}else if(i){if(t!==r){const o=n[Fg];o&&(r+=";"+o),n.cssText=r,s=Bg.test(r)}}else t&&e.removeAttribute("style");fl in e&&(e[fl]=s?n.display:"",e[$g]&&(n.display="none"))}const hl=/\s*!important$/;function xi(e,t,r){if(J(r))r.forEach(n=>xi(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Hg(e,t);hl.test(r)?e.setProperty($r(n),r.replace(hl,""),"important"):e[n]=r}}const pl=["Webkit","Moz","ms"],Us={};function Hg(e,t){const r=Us[t];if(r)return r;let n=St(t);if(n!=="filter"&&n in e)return Us[t]=n;n=cs(n);for(let i=0;i<pl.length;i++){const s=pl[i]+n;if(s in e)return Us[t]=s}return t}const gl="http://www.w3.org/1999/xlink";function ml(e,t,r,n,i,s=Zh(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(gl,t.slice(6,t.length)):e.setAttributeNS(gl,t,r):r==null||s&&!ru(r)?e.removeAttribute(t):e.setAttribute(t,s?"":Ot(r)?String(r):r)}function yl(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ld(r):r);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=ru(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(i||t)}function Ar(e,t,r,n){e.addEventListener(t,r,n)}function Wg(e,t,r,n){e.removeEventListener(t,r,n)}const _l=Symbol("_vei");function jg(e,t,r,n,i=null){const s=e[_l]||(e[_l]={}),o=s[t];if(n&&o)o.value=n;else{const[a,l]=qg(t);if(n){const u=s[t]=Gg(n,i);Ar(e,a,u,l)}else o&&(Wg(e,a,o,l),s[t]=void 0)}}const vl=/(?:Once|Passive|Capture)$/;function qg(e){let t;if(vl.test(e)){t={};let n;for(;n=e.match(vl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$r(e.slice(2)),t]}let Hs=0;const Vg=Promise.resolve(),zg=()=>Hs||(Vg.then(()=>Hs=0),Hs=Date.now());function Gg(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;qt(Kg(n,r.value),t,5,[n])};return r.value=e,r.attached=zg(),r}function Kg(e,t){if(J(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const bl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Yg=(e,t,r,n,i,s)=>{const o=i==="svg";t==="class"?Ng(e,n,o):t==="style"?Ug(e,r,n):os(t)?Zo(t)||jg(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jg(e,t,n,o))?(yl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ml(e,t,n,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!He(n))?yl(e,St(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ml(e,t,n,o))};function Jg(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&bl(t)&&te(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return bl(t)&&He(r)?!1:t in e}const Ki=e=>{const t=e.props["onUpdate:modelValue"]||!1;return J(t)?r=>ki(t,r):t};function Qg(e){e.target.composing=!0}function kl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nn=Symbol("_assign"),sn={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[nn]=Ki(i);const s=n||i.props&&i.props.type==="number";Ar(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),s&&(a=ao(a)),e[nn](a)}),r&&Ar(e,"change",()=>{e.value=e.value.trim()}),t||(Ar(e,"compositionstart",Qg),Ar(e,"compositionend",kl),Ar(e,"change",kl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},o){if(e[nn]=Ki(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?ao(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},wl={deep:!0,created(e,t,r){e[nn]=Ki(r),Ar(e,"change",()=>{const n=e._modelValue,i=Xg(e),s=e.checked,o=e[nn];if(J(n)){const a=nu(n,i),l=a!==-1;if(s&&!l)o(n.concat(i));else if(!s&&l){const u=[...n];u.splice(a,1),o(u)}}else if(as(n)){const a=new Set(n);s?a.add(i):a.delete(i),o(a)}else o(cd(e,s))})},mounted:Sl,beforeUpdate(e,t,r){e[nn]=Ki(r),Sl(e,t,r)}};function Sl(e,{value:t,oldValue:r},n){e._modelValue=t;let i;if(J(t))i=nu(t,n.props.value)>-1;else if(as(t))i=t.has(n.props.value);else{if(t===r)return;i=ds(t,cd(e,!0))}e.checked!==i&&(e.checked=i)}function Xg(e){return"_value"in e?e._value:e.value}function cd(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Zg=Je({patchProp:Yg},Pg);let xl;function em(){return xl||(xl=sg(Zg))}const tm=(...e)=>{const t=em().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=nm(n);if(!i)return;const s=t._component;!te(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,rm(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function rm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nm(e){return He(e)?document.querySelector(e):e}var ko=function(e,t){return ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ko(e,t)};function vs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ko(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function wo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function So(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function xo(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function tr(e){return typeof e=="function"}function ud(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ws=ud(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Co(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var bs=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=wo(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){t={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var c=this.initialTeardown;if(tr(c))try{c()}catch(m){s=m instanceof Ws?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=wo(d),h=f.next();!h.done;h=f.next()){var g=h.value;try{Cl(g)}catch(m){s=s??[],m instanceof Ws?s=xo(xo([],So(s)),So(m.errors)):s.push(m)}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(s)throw new Ws(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Cl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Co(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Co(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),dd=bs.EMPTY;function fd(e){return e instanceof bs||e&&"closed"in e&&tr(e.remove)&&tr(e.add)&&tr(e.unsubscribe)}function Cl(e){tr(e)?e():e.unsubscribe()}var hd={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},im={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,xo([e,t],So(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function sm(e){im.setTimeout(function(){throw e})}function Ml(){}function Ci(e){e()}var pd=function(e){vs(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,fd(r)&&r.add(n)):n.destination=cm,n}return t.create=function(r,n,i){return new Mo(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(bs),om=Function.prototype.bind;function js(e,t){return om.call(e,t)}var am=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){gi(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){gi(n)}else gi(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){gi(r)}},e}(),Mo=function(e){vs(t,e);function t(r,n,i){var s=e.call(this)||this,o;if(tr(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&hd.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&js(r.next,a),error:r.error&&js(r.error,a),complete:r.complete&&js(r.complete,a)}):o=r}return s.destination=new am(o),s}return t}(pd);function gi(e){sm(e)}function lm(e){throw e}var cm={closed:!0,next:Ml,error:lm,complete:Ml},um=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function dm(e){return e}function fm(e){return e.length===0?dm:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var El=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,s=pm(t)?t:new Mo(t,r,n);return Ci(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Il(r),new r(function(i,s){var o=new Mo({next:function(a){try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[um]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fm(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Il(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function Il(e){var t;return(t=e??hd.Promise)!==null&&t!==void 0?t:Promise}function hm(e){return e&&tr(e.next)&&tr(e.error)&&tr(e.complete)}function pm(e){return e&&e instanceof pd||hm(e)&&fd(e)}var gm=ud(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gd=function(e){vs(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Tl(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new gm},t.prototype.next=function(r){var n=this;Ci(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=wo(n.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(r)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;Ci(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;Ci(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?dd:(this.currentObservers=null,a.push(r),new bs(function(){n.currentObservers=null,Co(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},t.prototype.asObservable=function(){var r=new El;return r.source=this,r},t.create=function(r,n){return new Tl(r,n)},t}(El),Tl=function(e){vs(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:dd},t}(gd);class ct{constructor(){Ss(this,"subject",new gd)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,r){this.getInstance().dispatch({modal:t,modalConfig:r})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}Ss(ct,"instance",null);const mm=ve({__name:"the-modal-container",setup(e){const t=Ve(),r=po(null),n=po(null),i=Ve();function s(){var o;(o=n.value)!=null&&o.closeOnClick&&ct.close()}return ct.getInstance().addEventListener(({modal:o,modalConfig:a})=>{var l;if((l=document.activeElement)==null||l.blur(),!o)return r.value=null;r.value={...o},n.value={...a},requestAnimationFrame(()=>{var g,m;i.value&&clearInterval(i.value);const u=(g=t.value)==null?void 0:g.$el;if(!u)return;const c=u.querySelector(".modal__header")?[u.querySelector(".modal__header")]:[],d=Array.from(((m=u.querySelector(".modal__content > div"))==null?void 0:m.children)||[]),f=[...c,...d];window.modalChildren=f;const h=u.querySelector("input:not(.disabled):not(.ignore-initial-focus)");h&&h.focus(),f.forEach(b=>b.classList.add("hidden")),i.value=setInterval(()=>{if(!f.length)clearInterval(i.value);else{const b=f.shift();b==null||b.classList.remove("hidden")}},30)})}),(o,a)=>(O(),L("div",{class:Fe(["modal-container",{active:!!r.value}])},[w("div",{class:"modal-container__background",onClick:a[0]||(a[0]=l=>s())}),(O(),ze(Nu(r.value),id(n.value,{ref_key:"modalRef",ref:t}),null,16))],2))}}),Me=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},ym=Me(mm,[["__scopeId","data-v-d79adf29"]]),_m={class:"app-layout"},vm=ve({__name:"App",setup(e){return(t,r)=>{const n=qp("router-view");return O(),L("div",_m,[r[0]||(r[0]=w("div",{class:"pattern"},null,-1)),me(n,{name:"page"}),me(ym)])}}}),bm={},km={class:"modal"},wm={class:"modal__content"};function Sm(e,t){return O(),L("div",km,[Vi(e.$slots,"header",{},void 0),w("div",wm,[Vi(e.$slots,"content",{},void 0)]),t[0]||(t[0]=w("div",{class:"modal__background"},null,-1))])}const si=Me(bm,[["render",Sm],["__scopeId","data-v-95b1d375"]]),xm="/assets/icons/close.png",Cm={class:"modal__header"},Mm=ve({__name:"modal-header",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function r(){t.closeButtonAction?t.closeButtonAction():ct.close()}return(n,i)=>(O(),L("div",Cm,[Vi(n.$slots,"default",{},void 0),e.closeButton?(O(),L("button",{key:0,class:"btn btn--icon close",onClick:r},i[0]||(i[0]=[w("img",{src:xm,alt:"Close"},null,-1)]))):Ue("",!0)]))}}),oi=Me(Mm,[["__scopeId","data-v-3bc86a5b"]]),Em={class:"info"},Im=["innerHTML"],Tm={class:"row wrap center"},Am=ve({__name:"error-modal",props:{title:{},message:{},onConfirm:{type:Function},confirmText:{}},setup(e){const t=e;return(r,n)=>(O(),ze(si,null,{header:De(()=>[me(oi,null,{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",Em,[w("p",{innerHTML:t.message},null,8,Im),w("div",Tm,[w("button",{class:"btn",onClick:n[0]||(n[0]=(...i)=>t.onConfirm&&t.onConfirm(...i))},[w("span",null,ie(t.confirmText||"Ok"),1)])])])]),_:1}))}}),md=Me(Am,[["__scopeId","data-v-7494a38f"]]),Om={class:"info"},Rm=["innerHTML"],Dm={class:"row wrap center"},Pm=ve({__name:"info-modal",props:{title:{},message:{},onConfirm:{type:Function},confirmText:{}},setup(e){const t=e;return(r,n)=>(O(),ze(si,null,{header:De(()=>[me(oi,null,{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",Om,[w("p",{innerHTML:t.message},null,8,Rm),w("div",Dm,[w("button",{class:"btn",onClick:n[0]||(n[0]=i=>t.onConfirm||Ge(ct).close())},[w("span",null,ie(t.confirmText||"Ok"),1)])])])]),_:1}))}}),Lm=Me(Pm,[["__scopeId","data-v-c45e5027"]]);function yd(e){const t=e.id;localStorage.setItem(`scoundrel-${t}`,JSON.stringify(e));const r=localStorage.getItem("save-index")||"[]",n=JSON.parse(r),i={id:t,lastUpdated:new Date().getTime()},s=n.filter(o=>o.id!==t);s.push(i),s.sort((o,a)=>a.lastUpdated-o.lastUpdated),localStorage.setItem("save-index",JSON.stringify(s))}function _d(e){const t=localStorage.getItem(`scoundrel-${e}`);return t?JSON.parse(t):null}function Nm(){try{const e=localStorage.getItem("save-index")||"[]";return JSON.parse(e).map(r=>_d(r.id))}catch(e){return console.error(e),[]}}function $m(){try{const e=localStorage.getItem("save-index")||"[]";return JSON.parse(e)}catch(e){return console.error(e),[]}}function Fm(e){localStorage.removeItem(`scoundrel-${e}`);const t=localStorage.getItem("save-index")||"[]",n=JSON.parse(t).filter(i=>i.id!==e);localStorage.setItem("save-index",JSON.stringify(n))}const vd=[{id:"cutter",label:"Cutter",tagline:"A dangerous and intimidating fighter",description:"",actions:{skirmish:2,command:1}},{id:"hound",label:"Hound",tagline:"A deadly sharpshooter and tracker",description:"",actions:{hunt:2,survey:1}},{id:"leech",label:"Leech",tagline:"A saboteur and technician",description:"",actions:{tinker:2,wreck:1}},{id:"lurk",label:"Lurk",tagline:"A stealthy infiltrator and burglar",description:"",actions:{finesse:1,prowl:2}},{id:"slide",label:"Slide",tagline:"A subtle manipulator and spy",description:"",actions:{consort:1,sway:2}},{id:"spider",label:"Spider",tagline:"A devious mastermind",description:"",actions:{study:1,consort:2}},{id:"whisper",label:"Whisper",tagline:"An arcane adept and channeler",description:"",actions:{study:1,attune:2}}],bd=[{id:"attune",attribute:"resolve",label:"Attune",description:"Attune to spirits and the ghost field; channel electroplasmic energy; perceive and communicate with ghosts; understand spectrology."},{id:"command",attribute:"resolve",label:"Command",description:"Command obedience with your force of personality; intimidate or threaten; lead an action with one of the crew's gangs."},{id:"consort",attribute:"resolve",label:"Consort",description:"Consort with connections from your heritage, background, friends, or rivals to gain access to resources, information, people, or places."},{id:"finesse",attribute:"prowess",label:"Finesse",description:"Finesse an item from someone's pocket; employ subtle misdirection or sleight-of-hand; handle a vehicle or a mount."},{id:"hunt",attribute:"insight",label:"Hunt",description:"Hunt a target; gather information about its location and movements; attack with precision shooting from a distance."},{id:"prowl",attribute:"prowess",label:"Prowl",description:"Prowl about unseen and traverse obstacles; climb, swim, run, jump, and tumble. Ambush with close violence—a backstab, throat cutting, black-jack, etc."},{id:"skirmish",attribute:"prowess",label:"Skirmish",description:"Skirmish with an opponent in close combat; assault or hold a position; brawl and wrestle."},{id:"study",attribute:"insight",label:"Study",description:"Study a person, document, or item with close scrutiny to gather information and apply knowledge; gain a deeper understanding; do research."},{id:"survey",attribute:"insight",label:"Survey",description:"Survey a location or situation to understand what's going on; sense trouble before it happens; gather information about opportunities or exploits."},{id:"sway",attribute:"resolve",label:"Sway",description:"Sway someone with charm, logic, deception, disguise, or bluff; change attitudes or behavior with manipulation or seduction."},{id:"tinker",attribute:"insight",label:"Tinker",description:"Tinker with mechanisms to create, modify, disable, or repair; disable a trap, pick a lock, or crack a safe. Use electroplasmic devices."},{id:"wreck",attribute:"prowess",label:"Wreck",description:"Wreck a place, item, or obstacle with savage force or carefully applied sabotage; breach defenses with force; create distractions and chaos."}],Al={insight:"#1fa87f",prowess:"#f03e3e",resolve:"#7950f2"};function Yi(e){return e in Al?Al[e]:(console.error(`Attribute ${e} not found in colors.`),"#000000")}function Ji(e){return bd.find(t=>t.id===e)}function Sn(e,t){if(!e)return 0;const r=e[t];return Object.values(r).reduce((n,i)=>n+i,0)}const Bm="0123456789abcdefghijklmnopqrstuvwxyz";function kd(e=2){const t=Bm.split("");let r="";for(let n=0;n<e;n++){for(let i=0;i<4;i++)r+=t[Math.floor(Math.random()*t.length)];n<e-1&&(r+="-")}return r}function wd(e){if(e.name)return e.name;if(!e.playbook)return"Unnamed Scoundrel";const t=vd.find(r=>r.id===e.playbook);return t?`Unnamed ${t.label}`:"Unnamed Scoundrel"}function Um(e){({...e},kd());const t=JSON.stringify(e);return btoa(new TextEncoder().encode(t).reduce((i,s)=>i+String.fromCharCode(s),"")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Hm(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=new TextDecoder().decode(Uint8Array.from(atob(t),n=>n.charCodeAt(0)));return JSON.parse(r)}const Wm={class:"page page--import"},jm=ve({__name:"the-import-page",setup(e){const t=Ve(null),{params:r}=Tt.currentRoute.value;t.value=r.scoundrelData;let n=null;try{t.value&&(n=Hm(t.value))}catch{}return n?(yd(n),Tt.replace({name:Xt.EDIT,params:{scoundrelId:n.id}}),ct.open(Lm,{title:"Success",message:"Character sheet imported successfully!"})):ct.open(md,{title:"Error",message:"Failed to import character sheet."}),(i,s)=>(O(),L("div",Wm,[s[0]||(s[0]=w("p",null,"Importing character sheet...",-1)),w("pre",null,ie(t.value),1)]))}}),qm=Me(jm,[["__scopeId","data-v-d5932b3c"]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const jr=typeof document<"u";function Sd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Sd(e.default)}const be=Object.assign;function qs(e,t){const r={};for(const n in t){const i=t[n];r[n]=Rt(i)?i.map(e):e(i)}return r}const Ln=()=>{},Rt=Array.isArray,xd=/#/g,zm=/&/g,Gm=/\//g,Km=/=/g,Ym=/\?/g,Cd=/\+/g,Jm=/%5B/g,Qm=/%5D/g,Md=/%5E/g,Xm=/%60/g,Ed=/%7B/g,Zm=/%7C/g,Id=/%7D/g,ey=/%20/g;function ga(e){return encodeURI(""+e).replace(Zm,"|").replace(Jm,"[").replace(Qm,"]")}function ty(e){return ga(e).replace(Ed,"{").replace(Id,"}").replace(Md,"^")}function Eo(e){return ga(e).replace(Cd,"%2B").replace(ey,"+").replace(xd,"%23").replace(zm,"%26").replace(Xm,"`").replace(Ed,"{").replace(Id,"}").replace(Md,"^")}function ry(e){return Eo(e).replace(Km,"%3D")}function ny(e){return ga(e).replace(xd,"%23").replace(Ym,"%3F")}function iy(e){return e==null?"":ny(e).replace(Gm,"%2F")}function Gn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const sy=/\/$/,oy=e=>e.replace(sy,"");function Vs(e,t,r="/"){let n,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=uy(n??t,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:Gn(o)}}function ay(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Ol(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ly(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&un(t.matched[n],r.matched[i])&&Td(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function un(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Td(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!cy(e[r],t[r]))return!1;return!0}function cy(e,t){return Rt(e)?Rl(e,t):Rt(t)?Rl(t,e):e===t}function Rl(e,t){return Rt(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function uy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Kn;(function(e){e.pop="pop",e.push="push"})(Kn||(Kn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function dy(e){if(!e)if(jr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),oy(e)}const fy=/^[^#]+#/;function hy(e,t){return e.replace(fy,"#")+t}function py(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const ks=()=>({left:window.scrollX,top:window.scrollY});function gy(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=py(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Dl(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function my(e,t){Io.set(e,t)}function yy(e){const t=Io.get(e);return Io.delete(e),t}let _y=()=>location.protocol+"//"+location.host;function Ad(e,t){const{pathname:r,search:n,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ol(l,"")}return Ol(r,e)+n+i}function vy(e,t,r,n){let i=[],s=[],o=null;const a=({state:f})=>{const h=Ad(e,location),g=r.value,m=t.value;let b=0;if(f){if(r.value=h,t.value=f,o&&o===g){o=null;return}b=m?f.position-m.position:0}else n(h);i.forEach(S=>{S(r.value,g,{delta:b,type:Kn.pop,direction:b?b>0?Nn.forward:Nn.back:Nn.unknown})})};function l(){o=r.value}function u(f){i.push(f);const h=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(be({},f.state,{scroll:ks()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Pl(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?ks():null}}function by(e){const{history:t,location:r}=window,n={value:Ad(e,r)},i={value:t.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:_y()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),r[c?"replace":"assign"](f)}}function o(l,u){const c=be({},t.state,Pl(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),n.value=l}function a(l,u){const c=be({},i.value,t.state,{forward:l,scroll:ks()});s(c.current,c,!0);const d=be({},Pl(n.value,l,null),{position:c.position+1},u);s(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function ky(e){e=dy(e);const t=by(e),r=vy(e,t.state,t.location,t.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=be({location:"",base:e,go:n,createHref:hy.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function wy(e){return typeof e=="string"||e&&typeof e=="object"}function Od(e){return typeof e=="string"||typeof e=="symbol"}const Rd=Symbol("");var Ll;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ll||(Ll={}));function dn(e,t){return be(new Error,{type:e,[Rd]:!0},t)}function Gt(e,t){return e instanceof Error&&Rd in e&&(t==null||!!(e.type&t))}const Nl="[^/]+?",Sy={sensitive:!1,strict:!1,start:!0,end:!0},xy=/[.+*?^${}()[\]/\\]/g;function Cy(e,t){const r=be({},Sy,t),n=[];let i=r.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(r.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(xy,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:m,optional:b,regexp:S}=f;s.push({name:g,repeatable:m,optional:b});const k=S||Nl;if(k!==Nl){h+=10;try{new RegExp(`(${k})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${k}): `+x.message)}}let _=m?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(_=b&&u.length<2?`(?:/${_})`:"/"+_),b&&(_+="?"),i+=_,h+=20,b&&(h+=-8),m&&(h+=-20),k===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",g=s[f-1];d[g.name]=h&&g.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:g,repeatable:m,optional:b}=h,S=g in u?u[g]:"";if(Rt(S)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const k=Rt(S)?S.join("/"):S;if(!k)if(b)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=k}}return c||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function My(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Dd(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const s=My(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if($l(n))return 1;if($l(i))return-1}return i.length-n.length}function $l(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ey={type:0,value:""},Iy=/[a-zA-Z0-9_]/;function Ty(e){if(!e)return[[]];if(e==="/")return[[Ey]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),r=1):f();break;case 4:f(),r=n;break;case 1:l==="("?r=2:Iy.test(l)?f():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Ay(e,t,r){const n=Cy(Ty(e.path),r),i=be(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Oy(e,t){const r=[],n=new Map;t=Hl({strict:!1,end:!0,sensitive:!1},t);function i(d){return n.get(d)}function s(d,f,h){const g=!h,m=Bl(d);m.aliasOf=h&&h.record;const b=Hl(t,d),S=[m];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of x)S.push(Bl(be({},m,{components:h?h.record.components:m.components,path:A,aliasOf:h?h.record:m})))}let k,_;for(const x of S){const{path:A}=x;if(f&&A[0]!=="/"){const W=f.record.path,q=W[W.length-1]==="/"?"":"/";x.path=f.record.path+(A&&q+A)}if(k=Ay(x,f,b),h?h.alias.push(k):(_=_||k,_!==k&&_.alias.push(k),g&&d.name&&!Ul(k)&&o(d.name)),Pd(k)&&l(k),m.children){const W=m.children;for(let q=0;q<W.length;q++)s(W[q],k,h&&h.children[q])}h=h||k}return _?()=>{o(_)}:Ln}function o(d){if(Od(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){const f=Py(d,r);r.splice(f,0,d),d.record.name&&!Ul(d)&&n.set(d.record.name,d)}function u(d,f){let h,g={},m,b;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw dn(1,{location:d});b=h.record.name,g=be(Fl(f.params,h.keys.filter(_=>!_.optional).concat(h.parent?h.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&Fl(d.params,h.keys.map(_=>_.name))),m=h.stringify(g)}else if(d.path!=null)m=d.path,h=r.find(_=>_.re.test(m)),h&&(g=h.parse(m),b=h.record.name);else{if(h=f.name?n.get(f.name):r.find(_=>_.re.test(f.path)),!h)throw dn(1,{location:d,currentLocation:f});b=h.record.name,g=be({},f.params,d.params),m=h.stringify(g)}const S=[];let k=h;for(;k;)S.unshift(k.record),k=k.parent;return{name:b,path:m,params:g,matched:S,meta:Dy(S)}}e.forEach(d=>s(d));function c(){r.length=0,n.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function Fl(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function Bl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ry(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ry(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function Ul(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Dy(e){return e.reduce((t,r)=>be(t,r.meta),{})}function Hl(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Py(e,t){let r=0,n=t.length;for(;r!==n;){const s=r+n>>1;Dd(e,t[s])<0?n=s:r=s+1}const i=Ly(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Ly(e){let t=e;for(;t=t.parent;)if(Pd(t)&&Dd(e,t)===0)return t}function Pd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ny(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(Cd," "),o=s.indexOf("="),a=Gn(o<0?s:s.slice(0,o)),l=o<0?null:Gn(s.slice(o+1));if(a in t){let u=t[a];Rt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Wl(e){let t="";for(let r in e){const n=e[r];if(r=ry(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Rt(n)?n.map(s=>s&&Eo(s)):[n&&Eo(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function $y(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Rt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Fy=Symbol(""),jl=Symbol(""),ma=Symbol(""),Ld=Symbol(""),To=Symbol("");function _n(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function ur(e,t,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(dn(4,{from:r,to:t})):f instanceof Error?l(f):wy(f)?l(dn(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>e.call(n&&n.instances[i],t,r,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function zs(e,t,r,n,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Sd(l)){const c=(l.__vccOpts||l)[t];c&&s.push(ur(c,r,n,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Vm(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&ur(h,r,n,o,a,i)()}))}}return s}function ql(e){const t=er(ma),r=er(Ld),n=Ce(()=>{const l=Ge(e.to);return t.resolve(l)}),i=Ce(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const f=d.findIndex(un.bind(null,c));if(f>-1)return f;const h=Vl(l[u-2]);return u>1&&Vl(c)===h&&d[d.length-1].path!==h?d.findIndex(un.bind(null,l[u-2])):f}),s=Ce(()=>i.value>-1&&jy(r.params,n.value.params)),o=Ce(()=>i.value>-1&&i.value===r.matched.length-1&&Td(r.params,n.value.params));function a(l={}){if(Wy(l)){const u=t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(Ln);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ce(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function By(e){return e.length===1?e[0]:e}const Uy=ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ql,setup(e,{slots:t}){const r=hs(ql(e)),{options:n}=er(ma),i=Ce(()=>({[zl(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[zl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=t.default&&By(t.default(r));return e.custom?s:ad("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),Hy=Uy;function Wy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jy(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Rt(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function Vl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const zl=(e,t,r)=>e??t??r,qy=ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=er(To),i=Ce(()=>e.route||n.value),s=er(jl,0),o=Ce(()=>{let u=Ge(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Ce(()=>i.value.matched[o.value]);wi(jl,Ce(()=>o.value+1)),wi(Fy,a),wi(To,i);const l=Ve();return rn(()=>[l.value,a.value,e.name],([u,c,d],[f,h,g])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!un(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return Gl(r.default,{Component:f,route:u});const h=d.props[c],g=h?h===!0?u.params:typeof h=="function"?h(u):h:null,b=ad(f,be({},g,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Gl(r.default,{Component:b,route:u})||b}}});function Gl(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Vy=qy;function zy(e){const t=Oy(e.routes,e),r=e.parseQuery||Ny,n=e.stringifyQuery||Wl,i=e.history,s=_n(),o=_n(),a=_n(),l=po(or);let u=or;jr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=qs.bind(null,I=>""+I),d=qs.bind(null,iy),f=qs.bind(null,Gn);function h(I,F){let $,j;return Od(I)?($=t.getRecordMatcher(I),j=F):j=I,t.addRoute(j,$)}function g(I){const F=t.getRecordMatcher(I);F&&t.removeRoute(F)}function m(){return t.getRoutes().map(I=>I.record)}function b(I){return!!t.getRecordMatcher(I)}function S(I,F){if(F=be({},F||l.value),typeof I=="string"){const v=Vs(r,I,F.path),C=t.resolve({path:v.path},F),E=i.createHref(v.fullPath);return be(v,C,{params:f(C.params),hash:Gn(v.hash),redirectedFrom:void 0,href:E})}let $;if(I.path!=null)$=be({},I,{path:Vs(r,I.path,F.path).path});else{const v=be({},I.params);for(const C in v)v[C]==null&&delete v[C];$=be({},I,{params:d(v)}),F.params=d(F.params)}const j=t.resolve($,F),U=I.hash||"";j.params=c(f(j.params));const ue=ay(n,be({},I,{hash:ty(U),path:j.path})),y=i.createHref(ue);return be({fullPath:ue,hash:U,query:n===Wl?$y(I.query):I.query||{}},j,{redirectedFrom:void 0,href:y})}function k(I){return typeof I=="string"?Vs(r,I,l.value.path):be({},I)}function _(I,F){if(u!==I)return dn(8,{from:F,to:I})}function x(I){return q(I)}function A(I){return x(be(k(I),{replace:!0}))}function W(I){const F=I.matched[I.matched.length-1];if(F&&F.redirect){const{redirect:$}=F;let j=typeof $=="function"?$(I):$;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=k(j):{path:j},j.params={}),be({query:I.query,hash:I.hash,params:j.path!=null?{}:I.params},j)}}function q(I,F){const $=u=S(I),j=l.value,U=I.state,ue=I.force,y=I.replace===!0,v=W($);if(v)return q(be(k(v),{state:typeof v=="object"?be({},U,v.state):U,force:ue,replace:y}),F||$);const C=$;C.redirectedFrom=F;let E;return!ue&&ly(n,j,$)&&(E=dn(16,{to:C,from:j}),ut(j,j,!0,!1)),(E?Promise.resolve(E):ce(C,j)).catch(T=>Gt(T)?Gt(T,2)?T:Ne(T):ae(T,C,j)).then(T=>{if(T){if(Gt(T,2))return q(be({replace:y},k(T.to),{state:typeof T.to=="object"?be({},U,T.to.state):U,force:ue}),F||C)}else T=Q(C,j,!0,y,U);return ye(C,j,T),T})}function z(I,F){const $=_(I,F);return $?Promise.reject($):Promise.resolve()}function ne(I){const F=Vt.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(I):I()}function ce(I,F){let $;const[j,U,ue]=Gy(I,F);$=zs(j.reverse(),"beforeRouteLeave",I,F);for(const v of j)v.leaveGuards.forEach(C=>{$.push(ur(C,I,F))});const y=z.bind(null,I,F);return $.push(y),dt($).then(()=>{$=[];for(const v of s.list())$.push(ur(v,I,F));return $.push(y),dt($)}).then(()=>{$=zs(U,"beforeRouteUpdate",I,F);for(const v of U)v.updateGuards.forEach(C=>{$.push(ur(C,I,F))});return $.push(y),dt($)}).then(()=>{$=[];for(const v of ue)if(v.beforeEnter)if(Rt(v.beforeEnter))for(const C of v.beforeEnter)$.push(ur(C,I,F));else $.push(ur(v.beforeEnter,I,F));return $.push(y),dt($)}).then(()=>(I.matched.forEach(v=>v.enterCallbacks={}),$=zs(ue,"beforeRouteEnter",I,F,ne),$.push(y),dt($))).then(()=>{$=[];for(const v of o.list())$.push(ur(v,I,F));return $.push(y),dt($)}).catch(v=>Gt(v,8)?v:Promise.reject(v))}function ye(I,F,$){a.list().forEach(j=>ne(()=>j(I,F,$)))}function Q(I,F,$,j,U){const ue=_(I,F);if(ue)return ue;const y=F===or,v=jr?history.state:{};$&&(j||y?i.replace(I.fullPath,be({scroll:y&&v&&v.scroll},U)):i.push(I.fullPath,U)),l.value=I,ut(I,F,$,y),Ne()}let fe;function Z(){fe||(fe=i.listen((I,F,$)=>{if(!xr.listening)return;const j=S(I),U=W(j);if(U){q(be(U,{replace:!0,force:!0}),j).catch(Ln);return}u=j;const ue=l.value;jr&&my(Dl(ue.fullPath,$.delta),ks()),ce(j,ue).catch(y=>Gt(y,12)?y:Gt(y,2)?(q(be(k(y.to),{force:!0}),j).then(v=>{Gt(v,20)&&!$.delta&&$.type===Kn.pop&&i.go(-1,!1)}).catch(Ln),Promise.reject()):($.delta&&i.go(-$.delta,!1),ae(y,j,ue))).then(y=>{y=y||Q(j,ue,!1),y&&($.delta&&!Gt(y,8)?i.go(-$.delta,!1):$.type===Kn.pop&&Gt(y,20)&&i.go(-1,!1)),ye(j,ue,y)}).catch(Ln)}))}let Se=_n(),oe=_n(),ee;function ae(I,F,$){Ne(I);const j=oe.list();return j.length?j.forEach(U=>U(I,F,$)):console.error(I),Promise.reject(I)}function Ye(){return ee&&l.value!==or?Promise.resolve():new Promise((I,F)=>{Se.add([I,F])})}function Ne(I){return ee||(ee=!I,Z(),Se.list().forEach(([F,$])=>I?$(I):F()),Se.reset()),I}function ut(I,F,$,j){const{scrollBehavior:U}=e;if(!jr||!U)return Promise.resolve();const ue=!$&&yy(Dl(I.fullPath,0))||(j||!$)&&history.state&&history.state.scroll||null;return Cu().then(()=>U(I,F,ue)).then(y=>y&&gy(y)).catch(y=>ae(y,I,F))}const Qe=I=>i.go(I);let Ct;const Vt=new Set,xr={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:m,resolve:S,options:e,push:x,replace:A,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:Ye,install(I){const F=this;I.component("RouterLink",Hy),I.component("RouterView",Vy),I.config.globalProperties.$router=F,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(l)}),jr&&!Ct&&l.value===or&&(Ct=!0,x(i.location).catch(U=>{}));const $={};for(const U in or)Object.defineProperty($,U,{get:()=>l.value[U],enumerable:!0});I.provide(ma,F),I.provide(Ld,bu($)),I.provide(To,l);const j=I.unmount;Vt.add(I),I.unmount=function(){Vt.delete(I),Vt.size<1&&(u=or,fe&&fe(),fe=null,l.value=or,Ct=!1,ee=!1),j()}}};function dt(I){return I.reduce((F,$)=>F.then(()=>ne($)),Promise.resolve())}return xr}function Gy(e,t){const r=[],n=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>un(u,a))?n.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(u=>un(u,l))||i.push(l))}return[r,n,i]}const Nd="/assets/icons/loading.png",Ky={class:"news"},Yy={key:0},Jy={class:"news-item__title"},Qy=["innerHTML"],Xy={key:1,class:"preview-container"},Zy={ref:"sheetPreview",class:"preview"},e_=ve({__name:"news-modal",setup(e){const t=Ve([]);return fetch("/assets/news.json?_t="+Date.now()).then(r=>r.json()).then(r=>{t.value=r,localStorage.setItem("lastNewsIdSeen",r[0].id)}),(r,n)=>(O(),ze(si,null,{header:De(()=>[me(oi,{"close-button":""},{default:De(()=>n[0]||(n[0]=[w("h3",null,"News & Updates",-1)])),_:1})]),content:De(()=>[w("section",Ky,[t.value.length?(O(),L("ul",Yy,[(O(!0),L(se,null,Ke(t.value,i=>(O(),L("li",{class:"news-item",key:i.id},[w("div",Jy,[w("h2",null,ie(i==null?void 0:i.title),1),w("h2",null,ie(i==null?void 0:i.date),1)]),w("div",{class:"news-item__content",innerHTML:i==null?void 0:i.content},null,8,Qy)]))),128))])):(O(),L("div",Xy,[n[1]||(n[1]=w("img",{class:"spinner",src:Nd,alt:"Loading"},null,-1)),w("img",Zy,null,512)]))])]),_:1}))}}),Kl=Me(e_,[["__scopeId","data-v-d6cc3db3"]]),t_={class:"scoundrel-card"},r_=["src"],n_={key:1},i_=ve({__name:"scoundrel-card",props:{scoundrel:{},lastUpdated:{}},setup(e){const t=e,r=Ce(()=>wd(t.scoundrel));return(n,i)=>(O(),L("div",t_,[t.scoundrel.portrait?(O(),L("img",{key:0,class:"portrait",src:`/assets/${t.scoundrel.portrait}`},null,8,r_)):Ue("",!0),w("p",null,ie(r.value),1),t.lastUpdated?(O(),L("label",n_,"Updated "+ie(t.lastUpdated.toLocaleDateString()),1)):Ue("",!0)]))}}),s_=Me(i_,[["__scopeId","data-v-6ba1c352"]]),o_={class:"page-content"},a_={key:0,class:"saved-scoundrels-list"},l_={class:"footer-container"},c_={class:"logo-and-olin"},u_={class:"version"},d_={class:"muted"},f_=ve({__name:"the-home-page",setup(e){const t=Ve(null),r=Ve([]);r.value=Nm().filter(a=>!!a);const n=Ve($m());da(()=>{fetch("/assets/news.json?_t="+Date.now()).then(a=>a.json()).then(a=>{const l=localStorage.getItem("lastNewsIdSeen");a.map(d=>d.id)[0].toString()!==l&&ct.open(Kl)})});async function i(){var a,l;(a=t.value)==null||a.classList.remove("page-in"),(l=t.value)==null||l.classList.add("page-out"),await new Promise(u=>setTimeout(u,500)),Tt.push({name:Xt.MAKE})}function s(a){Tt.replace({name:Xt.EDIT,params:{scoundrelId:a.id}})}function o(a){const l=n.value.find(u=>u.id===a);return l?new Date(l==null?void 0:l.lastUpdated):null}return(a,l)=>(O(),L("div",{class:"page page--home page-in",ref_key:"page",ref:t},[w("div",o_,[l[2]||(l[2]=w("h1",null,"Scoundry",-1)),l[3]||(l[3]=w("p",null,[Le(" A character keeper for "),w("a",{href:"https://bladesinthedark.com/",target:"_blank"},"Blades in the Dark")],-1)),w("div",{class:"row"},[w("button",{class:"btn",onClick:i},l[1]||(l[1]=[w("span",null,"Make a new Scoundrel",-1)]))]),r.value.length?(O(),L("ul",a_,[(O(!0),L(se,null,Ke(r.value,u=>(O(),ze(s_,{key:u.id,scoundrel:u,lastUpdated:o(u.id),onClick:c=>s(u)},null,8,["scoundrel","lastUpdated","onClick"]))),128))])):Ue("",!0),l[4]||(l[4]=w("label",{class:"scroll-note"},"Scroll down to see attribution",-1))]),w("div",l_,[w("footer",null,[w("div",c_,[w("h2",null,[l[5]||(l[5]=Le(" www.scoundry.com ")),w("span",u_,"v"+ie(Ge(Vd)),1)]),l[6]||(l[6]=w("p",null,[Le(" Code & design by "),w("a",{href:"https://olinkirk.land",target:"_blank"},"Olin Kirkland")],-1)),w("p",null,[w("a",{onClick:l[0]||(l[0]=u=>Ge(ct).open(Kl))},"News & Updates")]),w("p",d_," Copyright © "+ie(new Date().getFullYear())+" Olin Kirkland ",1)]),l[7]||(l[7]=w("div",null,[w("p",null,[Le(" This work is based on "),w("a",{href:"http://www.bladesinthedark.com/",target:"_blank"},"Blades in the Dark"),Le(" — a product of One Seven Design, developed and authored by John Harper, and licensed for our use under the "),w("a",{href:"http://creativecommons.org/licenses/by/3.0",target:"_blank"},"Creative Commons Attribution 3.0 license")])],-1)),l[8]||(l[8]=w("div",null,[w("p",null,[Le(" Portrait images are from "),w("a",{href:"https://guides.loc.gov/p-and-p-rights-and-restrictions/risk-assessment",target:"_blank"},"The Library of Congress"),Le(" with no known restrictions their use. ")]),w("p",null,[Le(" Icons are from "),w("a",{href:"https://icons8.com",target:"_blank"},"Icons8.com")])],-1))])])],512))}}),h_=Me(f_,[["__scopeId","data-v-74f796ff"]]),p_={class:"page page--lost"},g_=ve({__name:"the-lost-page",setup(e){function t(){Tt.push({name:Xt.HOME})}return(r,n)=>(O(),L("div",p_,[n[1]||(n[1]=w("h1",null,"404",-1)),n[2]||(n[2]=w("p",null,"This page does not exist.",-1)),w("button",{class:"btn btn--alt",onClick:n[0]||(n[0]=i=>t())}," Return to Home Page ")]))}}),m_=Me(g_,[["__scopeId","data-v-629e908b"]]),y_={class:"confirm"},__=["innerHTML"],v_={class:"choices"},b_=ve({__name:"confirm-modal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{}},setup(e){const t=e;function r(){t.onCancel?t.onCancel():ct.close()}return(n,i)=>(O(),ze(si,null,{header:De(()=>[me(oi,{closeButton:"",closeButtonAction:r},{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",y_,[w("p",{innerHTML:t.message},null,8,__),w("div",v_,[w("button",{class:"btn btn--alt",onClick:i[0]||(i[0]=(...s)=>t.onConfirm&&t.onConfirm(...s))},[w("span",null,ie(t.confirmText||"Yes"),1)]),w("button",{class:"btn",onClick:r},[w("span",null,ie(t.cancelText||"No, I changed my mind"),1)])])])]),_:1}))}}),k_=Me(b_,[["__scopeId","data-v-72ad8132"]]),w_=ve({__name:"step-block",props:{stepLabel:{},stepNumber:{},active:{type:Boolean},completed:{type:Boolean}},setup(e){const t=e,r=Ve();return(n,i)=>(O(),L("div",{ref_key:"step",ref:r,class:Fe(["step",{active:t.active,completed:t.completed}])},[w("p",null,ie(t.stepLabel),1)],2))}}),S_=Me(w_,[["__scopeId","data-v-cb1f6949"]]),x_=JSON.parse(`[{"id":"battleborn","label":"Battleborn","description":"You may expend your special armor to reduce harm from an attack in combat or to push yourself during a fight.","category":"cutter"},{"id":"bodyguard","label":"Bodyguard","description":"When you protect a teammate, take +1d to your resistance roll. When you gather info to anticipate possible threats in the current situation, you get +1 effect.","category":"cutter"},{"id":"ghost-fighter","label":"Ghost Fighter","description":"You may imbue your hands, melee weapons, or tools with spirit energy. You gain potency in combat vs. the supernatural. You may grapple with spirits to restrain and capture them.","category":"cutter"},{"id":"leader","label":"Leader","description":"When you Command a cohort in combat, they continue to fight when they would otherwise break (they're not taken out when they suffer level 3 harm). They gain +1 effect and 1 armor.","category":"cutter"},{"id":"mule","label":"Mule","description":"Your load limits are higher. Light: 5. Normal: 7. Heavy: 8.","category":"cutter"},{"id":"not-to-be-trifled-with","label":"Not to be Trifled With","description":"You can push yourself to do one of the following: perform a feat of physical force that verges on the superhuman—engage a small gang on equal footing in close combat.","category":"cutter"},{"id":"savage","label":"Savage","description":"When you unleash physical violence, it's especially frightening. When you Command a frightened target, take +1d.","category":"cutter"},{"id":"vigorous","label":"Vigorous","description":"You recover from harm faster. Permanently fill in one of your healing clock segments. Take +1d to healing treatment rolls.","category":"cutter"},{"id":"sharpshooter","label":"Sharpshooter","description":"You can push yourself to do one of the following: make a ranged attack at extreme distance beyond what’s normal for the weapon—unleash a barrage of rapid fire to suppress the enemy.","category":"hound"},{"id":"focused","label":"Focused","description":"You may expend your special armor to resist a consequence of surprise or mental harm (fear, confusion, losing track of someone) or to push yourself for ranged combat or tracking.","category":"hound"},{"id":"ghost-hunter","label":"Ghost Hunter","description":"Your hunting pet is imbued with spirit energy. It gains potency when tracking or fighting the supernatural, and gains one arcane ability: ghost-form, mind-link, or arrow-swift.","category":"hound"},{"id":"ghost-hunter-2","label":"Ghost Hunter +","description":"Ghost Hunter is required to take this ability. Choose an additional arcane ability for your pet.","category":"hound"},{"id":"scout","label":"Scout","description":"When you gather info to locate a target, you get +1 effect. When you hide in a prepared position or use camouflage, you get +1d to rolls to avoid detection.","category":"hound"},{"id":"survivor","label":"Survivor","description":"From hard-won experience or occult ritual, you are immune to the poisonous miasma of the deathlands and are able to subsist on the strange flora and fauna there. You get +1 stress box.","category":"hound"},{"id":"tough-as-nails","label":"Tough as Nails","description":"Penalties from harm are one level less severe (though level 4 harm is still fatal).","category":"hound"},{"id":"vengeful","label":"Vengeful","description":"You gain an additional xp trigger: You got payback against someone who harmed you or someone you care about. If your crew helped you get payback, also mark crew xp.","category":"hound"},{"id":"alchemist","label":"Alchemist","description":"When you invent or craft a creation with alchemical features, take +1 result level to your roll. You begin with one special formula already known.","category":"leech"},{"id":"analyst","label":"Analyst","description":"During downtime, you get two ticks to distribute among any long-term project clocks that involve investigation or learning a new formula or design plan.","category":"leech"},{"id":"artificer","label":"Artificer","description":"When you invent or craft a creation with spark-craft features, take +1 result level to your roll. You begin with one special design already known.","category":"leech"},{"id":"fortitude","label":"Fortitude","description":"You may expend your special armor to resist a consequence of fatigue, weakness, or chemical effects, or to push yourself when working with technical skill or handling alchemicals.","category":"leech"},{"id":"ghost-ward","label":"Ghost Ward","description":"You know how to Wreck an area with arcane substances and methods so it is either anathema or enticing to spirits (your choice).","category":"leech"},{"id":"physicker","label":"Physicker","description":"You can Tinker with bones, blood, and bodily humours to treat wounds or stabilize the dying. You may study a malady or corpse. Everyone in your crew gets +1d to their healing treatment rolls.","category":"leech"},{"id":"saboteur","label":"Saboteur","description":"When you Wreck, the work is much quieter than it should be and the damage is hidden from casual inspection.","category":"leech"},{"id":"venomous","label":"Venomous","description":"Choose a drug or poison (from your bandolier stock) to which you have become immune. You can push yourself to secrete it through your skin or saliva or exhale it as a vapor.","category":"leech"},{"id":"infiltrator","label":"Infiltrator","description":"You are not affected by quality or Tier when you bypass security measures.","category":"lurk"},{"id":"ambush","label":"Ambush","description":"When you attack from hiding or spring a trap, you get +1d.","category":"lurk"},{"id":"daredevil","label":"Daredevil","description":"When you roll a desperate action, you get +1d to your roll if you also take -1d to any resistance rolls against consequences from your action.","category":"lurk"},{"id":"the-devils-footsteps","label":"The Devil's Footsteps","description":"When you push yourself, choose one of the following additional benefits: perform a feat of athletics that verges on the superhuman—maneuver to confuse your enemies so they mistakenly attack each other.","category":"lurk"},{"id":"expertise","label":"Expertise","description":"Choose one of your action ratings. When you lead a group action using that action, you can suffer only 1 stress at most regardless of the number of failed rolls.","category":"lurk"},{"id":"ghost-veil","label":"Ghost Veil","description":"You may shift partially into the ghost field, becoming shadowy and insubstantial for a few moments. Take 2 stress when you shift, plus 1 stress for each extra feature: It lasts for a few minutes rather than moments—you are invisible rather than shadowy—you may float through the air like a ghost.","category":"lurk"},{"id":"reflexes","label":"Reflexes","description":"When there's a question about who acts first, the answer is you (two characters with Reflexes act simultaneously).","category":"lurk"},{"id":"shadow","label":"Shadow","description":"You may expend your special armor to resist a consequence from detection or security measures, or to push yourself for a feat of athletics or stealth.","category":"lurk"},{"id":"rooks-gambit","label":"Rook's Gambit","description":"Take 2 stress to roll your best action rating while performing a different action. Say how you adapt your skill to this use.","category":"slide"},{"id":"cloak-and-dagger","label":"Cloak & Dagger","description":"When you use a disguise or other form of covert misdirection, you get +1d to rolls to confuse or deflect suspicion. When you throw off your disguise, the resulting surprise gives you the initiative in the situation.","category":"slide"},{"id":"ghost-voice","label":"Ghost Voice","description":"You know the secret method to interact with a ghost or demon as if it was a normal human, regardless of how wild or feral it appears. You gain potency when communicating with the supernatural.","category":"slide"},{"id":"like-looking-into-a-mirror","label":"Like Looking into a Mirror","description":"You can always tell when someone is lying to you.","category":"slide"},{"id":"a-little-something-on-the-side","label":"A Little Something on the Side","description":"At the end of each downtime phase, you earn +2 stash.","category":"slide"},{"id":"mesmerism","label":"Mesmerism","description":"When you Sway someone, you may cause them to forget that it's happened until they next interact with you.","category":"slide"},{"id":"subterfuge","label":"Subterfuge","description":"You may expend your special armor to resist a consequence from suspicion or persuasion, or to push yourself for subterfuge.","category":"slide"},{"id":"trust-in-me","label":"Trust in Me","description":"You get +1d vs. a target with whom you have an intimate relationship.","category":"slide"},{"id":"foresight","label":"Foresight","description":"Two times per score you can assist a teammate without paying stress. Tell us how you prepared for this.","category":"spider"},{"id":"calculating","label":"Calculating","description":"Due to your careful planning, during downtime, you may give yourself or another crew member +1 downtime action.","category":"spider"},{"id":"connected","label":"Connected","description":"During downtime, you get +1 result level when you acquire an asset or reduce heat.","category":"spider"},{"id":"functioning-vice","label":"Functioning Vice","description":"When you indulge your vice, you may adjust the dice outcome by 1 or 2 (up or down). An ally who joins in your vice may do the same.","category":"spider"},{"id":"ghost-contract","label":"Ghost Contract","description":"When you shake on a deal, you and your partner—human or otherwise—both bear a mark of your oath. If either breaks the contract, they take level 3 harm, 'Cursed'.","category":"spider"},{"id":"jail-bird","label":"Jail Bird","description":"When incarcerated, your wanted level counts as 1 less, your Tier as 1 more, and you gain +1 faction status with a faction you help on the inside (in addition to your incarceration roll).","category":"spider"},{"id":"mastermind","label":"Mastermind","description":"You may expend your special armor to protect a teammate, or to push yourself when you gather information or work on a long-term project.","category":"spider"},{"id":"weaving-the-web","label":"Weaving the Web","description":"You gain +1d to Consort when you gather information on a target for a score. You get +1d to the engagement roll for that operation.","category":"spider"},{"id":"compel","label":"Compel","description":"You can Attune to the ghost field to force a nearby ghost to appear and obey a command you give it. You are not supernaturally terrified by a ghost you summon or compel (though your allies may be).","category":"whisper"},{"id":"ghost-mind","label":"Ghost Mind","description":"You’re always aware of supernatural entities in your presence. Take +1d when you gather info about the supernatural.","category":"whisper"},{"id":"iron-will","label":"Iron Will","description":"You're immune to the terror that some supernatural entities inflict on sight. Take +1d to resistance rolls with Resolve.","category":"whisper"},{"id":"occultist","label":"Occultist","description":"You know the secret ways to Consort with ancient powers, forgotten gods or demons. Once you've consorted with one, you get +1d to command cultists who worship it.","category":"whisper"},{"id":"ritual","label":"Ritual","description":"You can Study an occult ritual (or create a new one) to summon a supernatural effect or being. You know the arcane methods to perform ritual sorcery. You begin with one ritual already learned.","category":"whisper"},{"id":"strange-methods","label":"Strange Methods","description":"When you invent or craft a creation with arcane features, take +1 result level to your roll. You begin with one arcane design already known.","category":"whisper"},{"id":"tempest","label":"Tempest","description":"You can push yourself to do one of the following: unleash a stroke of lightning as a weapon—summon a storm in your immediate vicinity (torrential rain, roaring winds, heavy fog, chilling frost/snow, etc.).","category":"whisper"},{"id":"warded","label":"Warded","description":"You may expend your special armor to resist a supernatural consequence, or to push yourself when you deal with arcane forces.","category":"whisper"}]`),C_={};function M_(e,t){return O(),L("header",null,[Vi(e.$slots,"default",{},void 0)])}const sr=Me(C_,[["render",M_],["__scopeId","data-v-57b3b720"]]),E_={class:"ability-card"},I_={class:"description"},T_=ve({__name:"ability-card",props:{ability:{}},setup(e){return(t,r)=>(O(),L("div",E_,[w("h2",null,ie(t.ability.label),1),w("p",I_,ie(t.ability.description),1),r[0]||(r[0]=w("div",{class:"overlay"},null,-1))]))}}),A_=Me(T_,[["__scopeId","data-v-f58ace11"]]),O_={key:0,class:"abilities-list"},R_=ve({__name:"abilities-step",props:{scoundrel:{}},setup(e){const t=Ce(()=>x_.filter(i=>i.category===r.scoundrel.playbook)),r=e;r.scoundrel.abilities||(r.scoundrel.abilities=[]);function n(i){const s=r.scoundrel.abilities.indexOf(i.id);s===-1?r.scoundrel.abilities.push(i.id):r.scoundrel.abilities.splice(s,1)}return(i,s)=>(O(),L(se,null,[me(sr,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,[Le("Choose a "),w("strong",null,"special ability")],-1),w("p",null,"What ability sets your character apart in the crew?",-1)])),_:1}),i.scoundrel.abilities?(O(),L("ul",O_,[(O(!0),L(se,null,Ke(t.value,o=>(O(),ze(A_,{key:o.id,ability:o,class:Fe({active:i.scoundrel.abilities.includes(o.id)}),onClick:a=>n(o)},null,8,["ability","class","onClick"]))),128))])):Ue("",!0),s[1]||(s[1]=w("section",{class:"veteran hidden"},[w("p",null,[Le(" You can add a special ability from another playbook by using a "),w("strong",null,"veteran advance"),Le(". ")]),w("button",{class:"btn btn--alt disabled"},"Use a Veteran Advance")],-1))],64))}}),D_=Me(R_,[["__scopeId","data-v-221cc523"]]),P_="/assets/icons/minus.png",L_="/assets/icons/plus.png",Yn=JSON.parse('[{"trait":"academic","id":"antiquarian","label":"Antiquarian","suggestedActions":["attune","study","tinker"]},{"trait":"academic","id":"criminologist","label":"Criminologist","suggestedActions":["consort","study","survey"]},{"trait":"academic","id":"demonologist","label":"Demonologist","suggestedActions":["attune","consort","study"]},{"trait":"academic","id":"electrochemist","label":"Electrochemist","suggestedActions":["attune","study","tinker"]},{"trait":"academic","id":"engineer","label":"Engineer","suggestedActions":["study","tinker","wreck"]},{"trait":"academic","id":"naturalist","label":"Naturalist","suggestedActions":["attune","hunt","study"]},{"trait":"academic","id":"psychometrist","label":"Psychometrist","suggestedActions":["consort","study","sway"]},{"trait":"academic","id":"scholar","label":"Scholar","suggestedActions":["consort","study","sway"]},{"trait":"academic","id":"spectrologist","label":"Spectrologist","suggestedActions":["attune","study","tinker"]},{"trait":"law-and-military","id":"acolyte-spirit-warden","label":"Acolyte Spirit Warden","suggestedActions":["attune","command","skirmish"]},{"trait":"law-and-military","id":"bluecoat","label":"Bluecoat","suggestedActions":["command","skirmish","wreck"]},{"trait":"law-and-military","id":"bounty-hunter","label":"Bounty Hunter","suggestedActions":["consort","hunt","skirmish"]},{"trait":"law-and-military","id":"diplomat","label":"Diplomat","suggestedActions":["study","consort","sway"]},{"trait":"law-and-military","id":"firefighter","label":"Firefighter","suggestedActions":["command","survey","wreck"]},{"trait":"law-and-military","id":"leviathan-hunter","label":"Leviathan Hunter","suggestedActions":["finesse","hunt","skirmish"]},{"trait":"law-and-military","id":"military-guardsman","label":"Military Guardsman","suggestedActions":["command","hunt","skirmish"]},{"trait":"law-and-military","id":"ministry-agent","label":"Ministry Agent","suggestedActions":["hunt","prowl","survey"]},{"trait":"law-and-military","id":"rifle-scout","label":"Rifle Scout","suggestedActions":["hunt","prowl","survey"]},{"trait":"law-and-military","id":"sparkwright","label":"Sparkwright","suggestedActions":["finesse","study","tinker"]},{"trait":"labor","id":"docker","label":"Docker","suggestedActions":["consort","skirmish","wreck"]},{"trait":"labor","id":"driver","label":"Driver","suggestedActions":["finesse","prowl","skirmish"]},{"trait":"labor","id":"factory-worker","label":"Factory Worker","suggestedActions":["command","tinker","wreck"]},{"trait":"labor","id":"farmhand","label":"Farmhand","suggestedActions":["finesse","study","tinker"]},{"trait":"labor","id":"fighter","label":"Fighter","suggestedActions":["command","prowl","skirmish"]},{"trait":"labor","id":"linewalker","label":"Linewalker","suggestedActions":["finesse","prowl","tinker"]},{"trait":"labor","id":"miner","label":"Miner","suggestedActions":["survey","tinker","wreck"]},{"trait":"labor","id":"rail-jack","label":"Rail Jack","suggestedActions":["attune","prowl","skirmish"]},{"trait":"labor","id":"sailor","label":"Sailor","suggestedActions":["command","finesse","survey"]},{"trait":"labor","id":"scavenger","label":"Scavenger","suggestedActions":["hunt","survey","tinker"]},{"trait":"labor","id":"sentry","label":"Sentry","suggestedActions":["hunt","skirmish","survey"]},{"trait":"labor","id":"servant","label":"Servant","suggestedActions":["consort","finesse","survey"]},{"trait":"noble","id":"artist","label":"Artist","suggestedActions":["consort","finesse","sway"]},{"trait":"noble","id":"captain","label":"Captain","suggestedActions":["command","finesse","survey"]},{"trait":"noble","id":"councilor","label":"Councilor","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"courtier","label":"Courtier","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"dilettante","label":"Dilettante","suggestedActions":["consort","finesse","sway"]},{"trait":"noble","id":"duelist","label":"Duelist","suggestedActions":["finesse","skirmish","study"]},{"trait":"noble","id":"envoy","label":"Envoy","suggestedActions":["consort","study","sway"]},{"trait":"noble","id":"explorer","label":"Explorer","suggestedActions":["hunt","finesse","survey"]},{"trait":"noble","id":"occultist","label":"Occultist","suggestedActions":["attune","consort","study"]},{"trait":"noble","id":"steward","label":"Steward","suggestedActions":["command","study","survey"]},{"trait":"trade","id":"artisan","label":"Artisan","suggestedActions":["finesse","study","tinker"]},{"trait":"trade","id":"courier","label":"Courier","suggestedActions":["hunt","prowl","survey"]},{"trait":"trade","id":"gondolier","label":"Gondolier","suggestedActions":["attune","finesse","hunt"]},{"trait":"trade","id":"journalist","label":"Journalist","suggestedActions":["consort","study","sway"]},{"trait":"trade","id":"mediciner","label":"Mediciner","suggestedActions":["consort","finesse","study"]},{"trait":"trade","id":"merchant","label":"Merchant","suggestedActions":["consort","study","sway"]},{"trait":"trade","id":"purveyor","label":"Purveyor","suggestedActions":["consort","study","tinker"]},{"trait":"trade","id":"secretary","label":"Secretary","suggestedActions":["consort","study","survey"]},{"trait":"trade","id":"technician","label":"Technician","suggestedActions":["study","tinker","wreck"]},{"trait":"trade","id":"taverner","label":"Taverner","suggestedActions":["consort","finesse","sway"]},{"trait":"underworld","id":"convict","label":"Convict","suggestedActions":["consort","command","skirmish"]},{"trait":"underworld","id":"cultist","label":"Cultist","suggestedActions":["attune","consort","study"]},{"trait":"underworld","id":"dealer","label":"Dealer","suggestedActions":["consort","sway","tinker"]},{"trait":"underworld","id":"fence","label":"Fence","suggestedActions":["consort","study","sway"]},{"trait":"underworld","id":"hustler","label":"Hustler","suggestedActions":["consort","study","sway"]},{"trait":"underworld","id":"informant","label":"Informant","suggestedActions":["hunt","study","survey"]},{"trait":"underworld","id":"lark","label":"Lark","suggestedActions":["consort","finesse","sway"]},{"trait":"underworld","id":"roof-runner","label":"Roof Runner","suggestedActions":["hunt","prowl","survey"]},{"trait":"underworld","id":"thief","label":"Thief","suggestedActions":["finesse","prowl","tinker"]},{"trait":"underworld","id":"thug","label":"Thug","suggestedActions":["command","skirmish","wreck"]}]'),Jn=JSON.parse(`[{"trait":null,"label":"Deathlander","id":"deathlander","suggestedActions":["attune","hunt","prowl"]},{"trait":null,"label":"Exile","id":"exile","suggestedActions":["command","consort","sway"]},{"trait":null,"label":"Nomad","id":"nomad","suggestedActions":["consort","finesse","survey"]},{"trait":null,"label":"Outlaw","id":"outlaw","suggestedActions":["consort","sway","prowl"]},{"trait":null,"label":"Refugee","id":"refugee","suggestedActions":["consort","finesse","skirmish"]},{"label":"Church of Ecstasy","id":"church-of-ecstasy","suggestedActions":["attune","command","sway"],"trait":"akoros"},{"label":"Doskvol Academy","id":"doskvol-academy","suggestedActions":["command","finesse","study"],"trait":"akoros"},{"label":"Governor's Stronghold","id":"governors-stronghold","suggestedActions":["command","consort","sway"],"trait":"akoros"},{"label":"Ironworks Labor","id":"ironworks-labor","suggestedActions":["consort","tinker","wreck"],"trait":"akoros"},{"label":"North Hook Company","id":"north-hook-company","suggestedActions":["command","finesse","sway"],"trait":"akoros"},{"label":"Radiant Energy Farmers","id":"radiant-energy-farmers","suggestedActions":["study","survey","tinker"],"trait":"akoros"},{"label":"Cloudspire Aeronauts","id":"cloudspire-aeronauts","suggestedActions":["study","tinker","wreck"],"trait":"akoros"},{"label":"Ilysian Guard","id":"ilysian-guard","suggestedActions":["command","hunt","skirmish"],"trait":"akoros"},{"label":"Imperial City Courtiers","id":"imperial-city-courtiers","suggestedActions":["command","consort","sway"],"trait":"akoros"},{"label":"South Point Traders","id":"south-point-traders","suggestedActions":["consort","finesse","sway"],"trait":"akoros"},{"label":"Whitehollow Miners","id":"whitehollow-miners","suggestedActions":["study","tinker","wreck"],"trait":"akoros"},{"label":"Wintercliff Wardens","id":"wintercliff-wardens","suggestedActions":["attune","hunt","study"],"trait":"akoros"},{"label":"Bonewalker","id":"bonewalker","suggestedActions":["attune","consort","study"],"trait":"dagger-isles"},{"label":"Lhan Lhaban","id":"lhan-lhaban","suggestedActions":["consort","finesse","skirmish"],"trait":"dagger-isles"},{"label":"Liberators","id":"liberators","suggestedActions":["prowl","skirmish","wreck"],"trait":"dagger-isles"},{"label":"Lore Keepers","id":"lore-keepers","suggestedActions":["consort","study","sway"],"trait":"dagger-isles"},{"label":"Melamatines","id":"melamatines","suggestedActions":["attune","prowl","survey"],"trait":"dagger-isles"},{"label":"Vidyad","id":"vidyad","suggestedActions":["finesse","survey","tinker"],"trait":"dagger-isles"},{"label":"Bright Harbor Fleet","id":"bright-harbor-fleet","suggestedActions":["command","study","sway"],"trait":"iruvia"},{"label":"City Guardians","id":"city-guardians","suggestedActions":["attune","hunt","skirmish"],"trait":"iruvia"},{"label":"Emissaries","id":"emissaries","suggestedActions":["command","consort","sway"],"trait":"iruvia"},{"label":"Falconers","id":"falconers","suggestedActions":["command","hunt","sway"],"trait":"iruvia"},{"label":"Lightning Couriers","id":"lightning-couriers","suggestedActions":["finesse","prowl","survey"],"trait":"iruvia"},{"label":"Water Bearers","id":"water-bearers","suggestedActions":["consort","prowl","skirmish"],"trait":"iruvia"},{"label":"Blackvale Coven","id":"blackvale-coven","suggestedActions":["attune","hunt","study"],"trait":"skovlan"},{"label":"Blood Cullers","id":"blood-cullers","suggestedActions":["attune","finesse","tinker"],"trait":"skovlan"},{"label":"Home Guard Militia","id":"home-guard-militia","suggestedActions":["hunt","skirmish","wreck"],"trait":"skovlan"},{"label":"Imperial Collaborators","id":"imperial-collaborators","suggestedActions":["prowl","skirmish","survey"],"trait":"skovlan"},{"label":"Lockport Scummer","id":"lockport-scummer","suggestedActions":["attune","tinker","wreck"],"trait":"skovlan"},{"label":"Onyx Citadel","id":"onyx-citadel","suggestedActions":["attune","consort","study"],"trait":"skovlan"},{"label":"Bastion Elders","id":"bastion-elders","suggestedActions":["command","study","sway"],"trait":"severos"},{"label":"Cullfield Observatory","id":"cullfield-observatory","suggestedActions":["study","survey","tinker"],"trait":"severos"},{"label":"Irondale Metalworks","id":"irondale-metalworks","suggestedActions":["study","tinker","wreck"],"trait":"severos"},{"label":"Spirit Hunters","id":"spirit-hunters","suggestedActions":["finesse","hunt","skirmish"],"trait":"severos"},{"label":"Thorn Devils","id":"thorn-devils","suggestedActions":["hunt","prowl","skirmish"],"trait":"severos"},{"label":"Tyrmoor Clanholder","id":"tyrmoor-clanholder","suggestedActions":["finesse","hunt","skirmish"],"trait":"severos"},{"label":"Confessors","id":"confessors","suggestedActions":["hunt","prowl","skirmish"],"trait":"tycheros"},{"label":"Demon Scholars","id":"demon-scholars","suggestedActions":["attune","consort","study"],"trait":"tycheros"},{"label":"Lunarium Players","id":"lunarium-players","suggestedActions":["consort","finesse","sway"],"trait":"tycheros"},{"label":"Seekers","id":"seekers","suggestedActions":["attune","prowl","survey"],"trait":"tycheros"},{"label":"Steelhand","id":"steelhand","suggestedActions":["prowl","survey","tinker"],"trait":"tycheros"},{"label":"Void Gate Sentries","id":"void-gate-sentries","suggestedActions":["attune","command","tinker"],"trait":"tycheros"}]`),N_={class:"circles-list"},$_={class:"label"},F_=ve({__name:"action-tag",props:{action:{},value:{}},setup(e){const t=e,r=Ce(()=>Ji(t.action)),n=Ce(()=>Yi(r.value.attribute));return(i,s)=>(O(),L("div",{class:Fe(["action-tag",{disabled:i.value==0}]),style:jt({backgroundColor:n.value,borderColor:n.value})},[w("ul",N_,[(O(!0),L(se,null,Ke(i.value,o=>(O(),L("li",{key:o,style:jt({color:n.value})},null,4))),128)),i.value==0?(O(),L("li",{key:0,class:"empty",style:jt({color:n.value})},null,4)):Ue("",!0)]),w("p",$_,ie(r.value.label),1)],6))}}),$d=Me(F_,[["__scopeId","data-v-5b6c0ae9"]]),B_={class:"actions"},U_={class:"callout options"},H_={key:0,class:"callout suggested-actions"},W_=["innerHTML"],j_={class:"action-tally"},q_={key:0},V_={class:"attributes-list"},z_={class:"action-row"},G_={class:"controls"},K_=["onClick"],Y_=["onClick"],J_=ve({__name:"actions-step",props:{scoundrel:{}},setup(e){const t=e;t.scoundrel.optionActionsCreatingCharacter===void 0&&(t.scoundrel.optionActionsCreatingCharacter=!0),!t.scoundrel.optionActionsMasteryAdvance===void 0&&(t.scoundrel.optionActionsMasteryAdvance=!1);const r=Ce(()=>t.scoundrel.optionActionsCreatingCharacter?2:t.scoundrel.optionActionsMasteryAdvance?4:3),n=[{id:"insight",label:"Insight"},{id:"prowess",label:"Prowess"},{id:"resolve",label:"Resolve"}];da(()=>{const c=document.querySelector(".action-tally");new IntersectionObserver(([f])=>{f.target.classList.toggle("pinned",f.intersectionRatio<1)},{threshold:1}).observe(c)});const i=Ce(()=>{let c=0;for(const d of Object.keys(t.scoundrel.actions))c+=Sn(t.scoundrel.actions,d);return c}),s=Ce(()=>{var g,m;const c=Jn,d=Yn,f=((g=c.find(b=>b.label===t.scoundrel.heritageDetail))==null?void 0:g.suggestedActions)||[],h=((m=d.find(b=>b.label===t.scoundrel.backgroundDetail))==null?void 0:m.suggestedActions)||[];return f.length>0||h.length>0}),o=Ce(()=>{var b,S;const c=Jn,d=Yn,f=((b=c.find(k=>k.label===t.scoundrel.heritageDetail))==null?void 0:b.suggestedActions)||[],h=((S=d.find(k=>k.label===t.scoundrel.backgroundDetail))==null?void 0:S.suggestedActions)||[],g=[];f.forEach(k=>{const _=Ji(k);g.push({actionRating:_,isImportant:!1,color:Yi(_.attribute)})}),h.forEach(k=>{const _=Ji(k),x=g.findIndex(A=>A.actionRating.id===_.id);x===-1?g.push({actionRating:_,isImportant:!1,color:Yi(_.attribute)}):g[x].isImportant=!0});const m=["insight","prowess","resolve"];return g.sort((k,_)=>{const x=m.indexOf(k.actionRating.attribute),A=m.indexOf(_.actionRating.attribute);return x<A?-1:x>A?1:0}),g.map(k=>`<span style="color: ${k.color}" class="suggestion${k.isImportant?"--important":""}">${k.actionRating.label}</span>`).join(", ")});function a(c){return bd.filter(d=>d.attribute===c)}function l(c,d){t.scoundrel.actions[c].custom||(t.scoundrel.actions[c].custom=0),d<0&&t.scoundrel.actions[c].custom--,d>0&&t.scoundrel.actions[c].custom++,t.scoundrel.actions[c].custom<=0&&delete t.scoundrel.actions[c].custom}function u(c){let d=0;return a(c).forEach(f=>{Sn(t.scoundrel.actions,f.id)>0&&d++}),d}return(c,d)=>(O(),L(se,null,[me(sr,null,{default:De(()=>d[2]||(d[2]=[w("h2",null,"What are your strongest attributes?",-1),w("p",null," Assign action dots to attributes that best represent your scoundrel. ",-1)])),_:1}),w("div",B_,[w("div",U_,[w("div",{class:Fe(["checkbox-group",{disabled:c.scoundrel.optionActionsMasteryAdvance}])},[pr(w("input",{type:"checkbox",id:"optionActionsCreatingCharacter","onUpdate:modelValue":d[0]||(d[0]=f=>c.scoundrel.optionActionsCreatingCharacter=f)},null,512),[[wl,c.scoundrel.optionActionsCreatingCharacter]]),d[3]||(d[3]=w("label",{for:"optionActionsCreatingCharacter"},"Character Creation: 7 action dots total, limit 2 dots per action",-1))],2),w("div",{class:Fe(["checkbox-group",{disabled:c.scoundrel.optionActionsCreatingCharacter}])},[pr(w("input",{type:"checkbox",id:"optionActionsMasteryAdvance","onUpdate:modelValue":d[1]||(d[1]=f=>c.scoundrel.optionActionsMasteryAdvance=f)},null,512),[[wl,c.scoundrel.optionActionsMasteryAdvance]]),d[4]||(d[4]=w("label",{for:"optionActionsMasteryAdvance"},"Mastery Advance: Allow actions to advance to 4",-1))],2)]),s.value?(O(),L("div",H_,[d[5]||(d[5]=Le(" Action ratings suggested by your background and heritage: ")),w("span",{innerHTML:o.value},null,8,W_)])):Ue("",!0),w("div",j_,[w("p",null,[w("strong",null,ie(i.value),1),c.scoundrel.optionActionsCreatingCharacter?(O(),L("span",q_," of 7")):Ue("",!0),d[6]||(d[6]=Le(" action dots assigned "))])]),w("div",V_,[(O(),L(se,null,Ke(n,f=>w("div",{class:"attribute",key:f.id},[w("label",null,ie(f.label)+" ("+ie(u(f.id))+") ",1),w("ul",{class:Fe(f.id)},[(O(!0),L(se,null,Ke(a(f.id),h=>(O(),L("li",{key:h.id},[w("div",z_,[me($d,{action:h.id,value:Ge(Sn)(c.scoundrel.actions,h.id)},null,8,["action","value"]),w("div",G_,[w("button",{class:Fe(["btn btn--mini",{disabled:!c.scoundrel.actions[h.id].custom}]),onClick:g=>l(h.id,-1)},d[7]||(d[7]=[w("img",{src:P_},null,-1)]),10,K_),w("button",{class:Fe(["btn btn--mini",{disabled:Ge(Sn)(c.scoundrel.actions,h.id)===r.value||c.scoundrel.optionActionsCreatingCharacter&&i.value>=7}]),onClick:g=>l(h.id,1)},d[8]||(d[8]=[w("img",{src:L_},null,-1)]),10,Y_)])]),w("p",null,ie(h.description),1)]))),128))],2)])),64))])])],64))}}),Q_=Me(J_,[["__scopeId","data-v-c9181c3e"]]),X_=[{label:"Underworld",id:"underworld",description:"A street urchin, gang member, young thug, or other outcast who grew up on the streets."},{label:"Academic",id:"academic",description:"A scholar, a professor or student from Doskvol Academy, a philosopher or journalist, etc."},{label:"Labor",id:"labor",description:"A servant, a factory worker, a coach driver, a docker, a sailor, a Rail Jack, etc. A stevedore for the North Hook Company."},{label:"Law",id:"law",description:"An advocate or barrister, a Bluecoat or inspector (or even Spirit Warden), a prison guard from Ironhook, etc."},{label:"Trade",id:"trade",description:"A shopkeeper, a merchant, a skilled crafts-person, a shipping agent, etc. A liaison to the Ministry of Preservation."},{label:"Noble",id:"noble",description:"A dilettante, a courtier, the scion of a fallen house, etc."},{label:"Military",id:"military",description:"An Imperial or Skovlander soldier, a mercenary, an intelligence operative, a strategist, a training instructor, etc."}],Z_=ve({__name:"trait-card",props:{trait:{},selected:{type:Boolean}},setup(e){return(t,r)=>(O(),L("div",{class:Fe(["trait-card",{selected:t.selected}])},[r[0]||(r[0]=w("div",{class:"overlay"},null,-1)),w("h2",null,ie(t.trait.label),1)],2))}}),ya=Me(Z_,[["__scopeId","data-v-73161e40"]]),ev={class:"suggested-action-tag"},tv=ve({__name:"suggested-action-tag",props:{action:{}},setup(e){const r=Ji(e.action),n=Yi(r.attribute);return(i,s)=>(O(),L("div",ev,[w("p",{style:jt({color:Ge(n)})},ie(Ge(r).label),5)]))}}),rv={class:"action-tags"},nv=ve({__name:"trait-detail-card",props:{traitDetail:{},selected:{type:Boolean}},setup(e){return(t,r)=>(O(),L("div",{class:Fe(["trait-detail-card",{selected:t.selected}])},[w("h2",null,ie(t.traitDetail.label),1),w("ul",rv,[(O(!0),L(se,null,Ke(t.traitDetail.suggestedActions,n=>(O(),ze(tv,{key:n,action:n},null,8,["action"]))),128))])],2))}}),Fd=Me(nv,[["__scopeId","data-v-b5029618"]]),iv={class:"list-container-frame"},sv={class:"list-container"},ov={class:"backgrounds-list"},av={key:0,class:"description"},lv={key:1,class:"description"},cv={key:2,class:"selected-background"},uv={class:"input-block"},dv={class:"background-details-list"},fv=ve({__name:"background-step",props:{scoundrel:{}},setup(e){const t=e,r=X_,n=Yn,i=Ce(()=>r.find(l=>l.id===t.scoundrel.background)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return["law","military"].includes(i.value.id)&&(l="law-and-military"),n.filter(u=>u.trait===l||!u.trait)});function o(l){t.scoundrel.background=l.id,t.scoundrel.backgroundDetail=""}function a(l){if(t.scoundrel.backgroundDetail===l.label){t.scoundrel.backgroundDetail="";return}t.scoundrel.backgroundDetail=l.label}return(l,u)=>(O(),L(se,null,[me(sr,null,{default:De(()=>u[1]||(u[1]=[w("h2",null,"What did you do before you joined the crew?",-1),w("p",null,"Pick a background and write a detail specific to you.",-1)])),_:1}),w("div",iv,[w("div",sv,[w("ul",ov,[(O(!0),L(se,null,Ke(Ge(r),c=>(O(),ze(ya,{key:c.id,trait:c,selected:c.id===l.scoundrel.background,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",av,ie(i.value.description),1)):(O(),L("p",lv," Select a background to see its description and suggested details. ")),l.scoundrel.background?(O(),L("section",cv,[w("div",uv,[u[2]||(u[2]=w("label",null,"A detail about your background",-1)),pr(w("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>l.scoundrel.backgroundDetail=c)},null,512),[[sn,l.scoundrel.backgroundDetail]])]),w("ul",dv,[(O(!0),L(se,null,Ke(s.value,c=>(O(),ze(Fd,{key:c.id,selected:c.label===l.scoundrel.backgroundDetail,traitDetail:c,onClick:d=>a(c)},null,8,["selected","traitDetail","onClick"]))),128))]),u[3]||(u[3]=w("p",{class:"reference"},[Le(" Full descriptions of these backgrounds can be found in the "),w("a",{href:"https://johnharper.itch.io/deep-cuts",target:"_blank"},"Deep Cuts"),Le(" Blades in the Dark expansion. ")],-1))])):Ue("",!0)],64))}}),hv=Me(fv,[["__scopeId","data-v-0ee29db5"]]),pv="/assets/icons/done.png";function Gs(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,o=Math.cos(s),a=Math.sin(s);for(const l of e){const[u,c]=l;l[0]=(u-n)*o-(c-i)*a+n,l[1]=(u-n)*a+(c-i)*o+i}}}function gv(e,t){return e[0]===t[0]&&e[1]===t[1]}function mv(e,t,r,n=1){const i=r,s=Math.max(t,.1),o=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,a=[0,0];if(i)for(const u of o)Gs(u,a,i);const l=function(u,c,d){const f=[];for(const k of u){const _=[...k];gv(_[0],_[_.length-1])||_.push([_[0][0],_[0][1]]),_.length>2&&f.push(_)}const h=[];c=Math.max(c,.1);const g=[];for(const k of f)for(let _=0;_<k.length-1;_++){const x=k[_],A=k[_+1];if(x[1]!==A[1]){const W=Math.min(x[1],A[1]);g.push({ymin:W,ymax:Math.max(x[1],A[1]),x:W===x[1]?x[0]:A[0],islope:(A[0]-x[0])/(A[1]-x[1])})}}if(g.sort((k,_)=>k.ymin<_.ymin?-1:k.ymin>_.ymin?1:k.x<_.x?-1:k.x>_.x?1:k.ymax===_.ymax?0:(k.ymax-_.ymax)/Math.abs(k.ymax-_.ymax)),!g.length)return h;let m=[],b=g[0].ymin,S=0;for(;m.length||g.length;){if(g.length){let k=-1;for(let _=0;_<g.length&&!(g[_].ymin>b);_++)k=_;g.splice(0,k+1).forEach(_=>{m.push({s:b,edge:_})})}if(m=m.filter(k=>!(k.edge.ymax<=b)),m.sort((k,_)=>k.edge.x===_.edge.x?0:(k.edge.x-_.edge.x)/Math.abs(k.edge.x-_.edge.x)),(d!==1||S%c==0)&&m.length>1)for(let k=0;k<m.length;k+=2){const _=k+1;if(_>=m.length)break;const x=m[k].edge,A=m[_].edge;h.push([[Math.round(x.x),b],[Math.round(A.x),b]])}b+=d,m.forEach(k=>{k.edge.x=k.edge.x+d*k.edge.islope}),S++}return h}(o,s,n);if(i){for(const u of o)Gs(u,a,-i);(function(u,c,d){const f=[];u.forEach(h=>f.push(...h)),Gs(f,c,d)})(l,a,-i)}return l}function ai(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),mv(e,i,n,s||1)}class _a{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=ai(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function ws(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class yv extends _a{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=ai(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,o=[],a=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[u,c]of i)ws([u,c])&&o.push([[u[0]-a,u[1]+l],[...c]],[[u[0]+a,u[1]-l],[...c]]);return{type:"fillSketch",ops:this.renderLines(o,r)}}}class _v extends _a{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class vv{constructor(t){this.helper=t}fillPolygons(t,r){const n=ai(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const o=i/4;for(const a of t){const l=ws(a),u=l/i,c=Math.ceil(u)-1,d=l-c*i,f=(a[0][0]+a[1][0])/2-i/4,h=Math.min(a[0][1],a[1][1]);for(let g=0;g<c;g++){const m=h+d+g*i,b=f-o+2*Math.random()*o,S=m-o+2*Math.random()*o,k=this.helper.ellipse(b,S,s,s,r);n.push(...k.ops)}}return{type:"fillSketch",ops:n}}}class bv{constructor(t){this.helper=t}fillPolygons(t,r){const n=ai(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(o=>{const a=ws(o),l=Math.floor(a/(n+i)),u=(a+i-l*(n+i))/2;let c=o[0],d=o[1];c[0]>d[0]&&(c=o[1],d=o[0]);const f=Math.atan((d[1]-c[1])/(d[0]-c[0]));for(let h=0;h<l;h++){const g=h*(n+i),m=g+n,b=[c[0]+g*Math.cos(f)+u*Math.cos(f),c[1]+g*Math.sin(f)+u*Math.sin(f)],S=[c[0]+m*Math.cos(f)+u*Math.cos(f),c[1]+m*Math.sin(f)+u*Math.sin(f)];s.push(...this.helper.doubleLineOps(b[0],b[1],S[0],S[1],r))}}),s}}class kv{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=ai(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const o=ws(s),a=Math.round(o/(2*r));let l=s[0],u=s[1];l[0]>u[0]&&(l=s[1],u=s[0]);const c=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<a;d++){const f=2*d*r,h=2*(d+1)*r,g=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+f*Math.cos(c),l[1]+f*Math.sin(c)],b=[l[0]+h*Math.cos(c),l[1]+h*Math.sin(c)],S=[m[0]+g*Math.cos(c+Math.PI/4),m[1]+g*Math.sin(c+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],S[0],S[1],n),...this.helper.doubleLineOps(S[0],S[1],b[0],b[1],n))}}),i}}const ft={};class wv{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Sv=0,Ks=1,Yl=2,mi={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ys(e,t){return e.type===t}function va(e){const t=[],r=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:Sv,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:Ks,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:Yl,text:""},a}(e);let n="BOD",i=0,s=r[i];for(;!Ys(s,Yl);){let o=0;const a=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return va("M0,0"+e);i++,o=mi[s.text],n=s.text}else Ys(s,Ks)?o=mi[n]:(i++,o=mi[s.text],n=s.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const u=r[l];if(!Ys(u,Ks))throw new Error("Param not a number: "+n+","+u.text);a[a.length]=+u.text}if(typeof mi[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:a};t.push(l),i+=o,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function Bd(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:o,data:a}of e)switch(o){case"M":s.push({key:"M",data:[...a]}),[t,r]=a,[n,i]=a;break;case"m":t+=a[0],r+=a[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...a]}),[t,r]=a;break;case"l":t+=a[0],r+=a[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],r=a[5];break;case"c":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],r=a[3];break;case"q":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],r=a[6];break;case"a":t+=a[5],r+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,r]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),r=a[0];break;case"v":r+=a[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],r=a[3];break;case"s":{const l=a.map((u,c)=>c%2?u+r:u+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],r=a[1];break;case"t":t+=a[0],r+=a[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function Ud(e){const t=[];let r="",n=0,i=0,s=0,o=0,a=0,l=0;for(const{key:u,data:c}of e){switch(u){case"M":t.push({key:"M",data:[...c]}),[n,i]=c,[s,o]=c;break;case"C":t.push({key:"C",data:[...c]}),n=c[4],i=c[5],a=c[2],l=c[3];break;case"L":t.push({key:"L",data:[...c]}),[n,i]=c;break;case"H":n=c[0],t.push({key:"L",data:[n,i]});break;case"V":i=c[0],t.push({key:"L",data:[n,i]});break;case"S":{let d=0,f=0;r==="C"||r==="S"?(d=n+(n-a),f=i+(i-l)):(d=n,f=i),t.push({key:"C",data:[d,f,...c]}),a=c[0],l=c[1],n=c[2],i=c[3];break}case"T":{const[d,f]=c;let h=0,g=0;r==="Q"||r==="T"?(h=n+(n-a),g=i+(i-l)):(h=n,g=i);const m=n+2*(h-n)/3,b=i+2*(g-i)/3,S=d+2*(h-d)/3,k=f+2*(g-f)/3;t.push({key:"C",data:[m,b,S,k,d,f]}),a=h,l=g,n=d,i=f;break}case"Q":{const[d,f,h,g]=c,m=n+2*(d-n)/3,b=i+2*(f-i)/3,S=h+2*(d-h)/3,k=g+2*(f-g)/3;t.push({key:"C",data:[m,b,S,k,h,g]}),a=d,l=f,n=h,i=g;break}case"A":{const d=Math.abs(c[0]),f=Math.abs(c[1]),h=c[2],g=c[3],m=c[4],b=c[5],S=c[6];d===0||f===0?(t.push({key:"C",data:[n,i,b,S,b,S]}),n=b,i=S):(n!==b||i!==S)&&(Hd(n,i,b,S,d,f,h,g,m).forEach(function(k){t.push({key:"C",data:k})}),n=b,i=S);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=o}r=u}return t}function vn(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function Hd(e,t,r,n,i,s,o,a,l,u){const c=(d=o,Math.PI*d/180);var d;let f=[],h=0,g=0,m=0,b=0;if(u)[h,g,m,b]=u;else{[e,t]=vn(e,t,-c),[r,n]=vn(r,n,-c);const fe=(e-r)/2,Z=(t-n)/2;let Se=fe*fe/(i*i)+Z*Z/(s*s);Se>1&&(Se=Math.sqrt(Se),i*=Se,s*=Se);const oe=i*i,ee=s*s,ae=oe*ee-oe*Z*Z-ee*fe*fe,Ye=oe*Z*Z+ee*fe*fe,Ne=(a===l?-1:1)*Math.sqrt(Math.abs(ae/Ye));m=Ne*i*Z/s+(e+r)/2,b=Ne*-s*fe/i+(t+n)/2,h=Math.asin(parseFloat(((t-b)/s).toFixed(9))),g=Math.asin(parseFloat(((n-b)/s).toFixed(9))),e<m&&(h=Math.PI-h),r<m&&(g=Math.PI-g),h<0&&(h=2*Math.PI+h),g<0&&(g=2*Math.PI+g),l&&h>g&&(h-=2*Math.PI),!l&&g>h&&(g-=2*Math.PI)}let S=g-h;if(Math.abs(S)>120*Math.PI/180){const fe=g,Z=r,Se=n;g=l&&g>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,f=Hd(r=m+i*Math.cos(g),n=b+s*Math.sin(g),Z,Se,i,s,o,0,l,[g,fe,m,b])}S=g-h;const k=Math.cos(h),_=Math.sin(h),x=Math.cos(g),A=Math.sin(g),W=Math.tan(S/4),q=4/3*i*W,z=4/3*s*W,ne=[e,t],ce=[e+q*_,t-z*k],ye=[r+q*A,n-z*x],Q=[r,n];if(ce[0]=2*ne[0]-ce[0],ce[1]=2*ne[1]-ce[1],u)return[ce,ye,Q].concat(f);{f=[ce,ye,Q].concat(f);const fe=[];for(let Z=0;Z<f.length;Z+=3){const Se=vn(f[Z][0],f[Z][1],c),oe=vn(f[Z+1][0],f[Z+1][1],c),ee=vn(f[Z+2][0],f[Z+2][1],c);fe.push([Se[0],Se[1],oe[0],oe[1],ee[0],ee[1]])}return fe}}const xv={randOffset:function(e,t){return Y(e,t)},randOffsetWithRange:function(e,t,r){return Qi(e,t,r)},ellipse:function(e,t,r,n,i){const s=jd(r,n,i);return Ao(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return _r(e,t,r,n,i,!0)}};function Wd(e,t,r,n,i){return{type:"path",ops:_r(e,t,r,n,i)}}function Mi(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(..._r(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(..._r(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?Wd(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Cv(e,t,r,n,i){return function(s,o){return Mi(s,!0,o)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function Jl(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=yi(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:yi(r[0],1.5*(1+.22*t.roughness),Zl(t));for(let s=1;s<r.length;s++){const o=r[s];if(o.length){const a=yi(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:yi(o,1.5*(1+.22*t.roughness),Zl(t));for(const u of a)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function jd(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let o=Math.abs(e/2),a=Math.abs(t/2);const l=1-r.curveFitting;return o+=Y(o*l,r),a+=Y(a*l,r),{increment:s,rx:o,ry:a}}function Ao(e,t,r,n){const[i,s]=ec(n.increment,e,t,n.rx,n.ry,1,n.increment*Qi(.1,Qi(.4,1,r),r),r);let o=Xi(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[a]=ec(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Xi(a,null,r);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function Ql(e,t,r,n,i,s,o,a,l){const u=e,c=t;let d=Math.abs(r/2),f=Math.abs(n/2);d+=Y(.01*d,l),f+=Y(.01*f,l);let h=i,g=s;for(;h<0;)h+=2*Math.PI,g+=2*Math.PI;g-h>2*Math.PI&&(h=0,g=2*Math.PI);const m=2*Math.PI/l.curveStepCount,b=Math.min(m/2,(g-h)/2),S=tc(b,u,c,d,f,h,g,1,l);if(!l.disableMultiStroke){const k=tc(b,u,c,d,f,h,g,1.5,l);S.push(...k)}return o&&(a?S.push(..._r(u,c,u+d*Math.cos(h),c+f*Math.sin(h),l),..._r(u,c,u+d*Math.cos(g),c+f*Math.sin(g),l)):S.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+d*Math.cos(h),c+f*Math.sin(h)]})),{type:"path",ops:S}}function Xl(e,t){const r=Ud(Bd(va(e))),n=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of r)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":n.push(..._r(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]];break;case"C":{const[l,u,c,d,f,h]=a;n.push(...Mv(l,u,c,d,f,h,s,t)),s=[f,h];break}case"Z":n.push(..._r(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function Js(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+Y(i,t),n[0][1]+Y(i,t)]});for(let o=1;o<s;o++)r.push({op:"lineTo",data:[n[o][0]+Y(i,t),n[o][1]+Y(i,t)]})}}return{type:"fillPath",ops:r}}function Ur(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!ft[i])switch(i){case"zigzag":ft[i]||(ft[i]=new yv(n));break;case"cross-hatch":ft[i]||(ft[i]=new _v(n));break;case"dots":ft[i]||(ft[i]=new vv(n));break;case"dashed":ft[i]||(ft[i]=new bv(n));break;case"zigzag-line":ft[i]||(ft[i]=new kv(n));break;default:i="hachure",ft[i]||(ft[i]=new _a(n))}return ft[i]}(t,xv).fillPolygons(e,t)}function Zl(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function qd(e){return e.randomizer||(e.randomizer=new wv(e.seed||0)),e.randomizer.next()}function Qi(e,t,r,n=1){return r.roughness*n*(qd(r)*(t-e)+e)}function Y(e,t,r=1){return Qi(-e,e,t,r)}function _r(e,t,r,n,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=Oo(e,t,r,n,i,!0,!1);if(o)return a;const l=Oo(e,t,r,n,i,!0,!0);return a.concat(l)}function Oo(e,t,r,n,i,s,o){const a=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(a);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=i.maxRandomnessOffset||0;c*c*100>a&&(c=l/10);const d=c/2,f=.2+.2*qd(i);let h=i.bowing*i.maxRandomnessOffset*(n-t)/200,g=i.bowing*i.maxRandomnessOffset*(e-r)/200;h=Y(h,i,u),g=Y(g,i,u);const m=[],b=()=>Y(d,i,u),S=()=>Y(c,i,u),k=i.preserveVertices;return o?m.push({op:"move",data:[e+(k?0:b()),t+(k?0:b())]}):m.push({op:"move",data:[e+(k?0:Y(c,i,u)),t+(k?0:Y(c,i,u))]}),o?m.push({op:"bcurveTo",data:[h+e+(r-e)*f+b(),g+t+(n-t)*f+b(),h+e+2*(r-e)*f+b(),g+t+2*(n-t)*f+b(),r+(k?0:b()),n+(k?0:b())]}):m.push({op:"bcurveTo",data:[h+e+(r-e)*f+S(),g+t+(n-t)*f+S(),h+e+2*(r-e)*f+S(),g+t+2*(n-t)*f+S(),r+(k?0:S()),n+(k?0:S())]}),m}function yi(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+Y(t,r),e[0][1]+Y(t,r)]),n.push([e[0][0]+Y(t,r),e[0][1]+Y(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+Y(t,r),e[i][1]+Y(t,r)]),i===e.length-1&&n.push([e[i][0]+Y(t,r),e[i][1]+Y(t,r)]);return Xi(n,null,r)}function Xi(e,t,r){const n=e.length,i=[];if(n>3){const s=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<n;a++){const l=e[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*e[a+1][0]-o*e[a-1][0])/6,l[1]+(o*e[a+1][1]-o*e[a-1][1])/6],s[2]=[e[a+1][0]+(o*e[a][0]-o*e[a+2][0])/6,e[a+1][1]+(o*e[a][1]-o*e[a+2][1])/6],s[3]=[e[a+1][0],e[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...Oo(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function ec(e,t,r,n,i,s,o,a){const l=[],u=[];if(a.roughness===0){e/=4,u.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let c=0;c<=2*Math.PI;c+=e){const d=[t+n*Math.cos(c),r+i*Math.sin(c)];l.push(d),u.push(d)}u.push([t+n*Math.cos(0),r+i*Math.sin(0)]),u.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const c=Y(.5,a)-Math.PI/2;u.push([Y(s,a)+t+.9*n*Math.cos(c-e),Y(s,a)+r+.9*i*Math.sin(c-e)]);const d=2*Math.PI+c-.01;for(let f=c;f<d;f+=e){const h=[Y(s,a)+t+n*Math.cos(f),Y(s,a)+r+i*Math.sin(f)];l.push(h),u.push(h)}u.push([Y(s,a)+t+n*Math.cos(c+2*Math.PI+.5*o),Y(s,a)+r+i*Math.sin(c+2*Math.PI+.5*o)]),u.push([Y(s,a)+t+.98*n*Math.cos(c+o),Y(s,a)+r+.98*i*Math.sin(c+o)]),u.push([Y(s,a)+t+.9*n*Math.cos(c+.5*o),Y(s,a)+r+.9*i*Math.sin(c+.5*o)])}return[u,l]}function tc(e,t,r,n,i,s,o,a,l){const u=s+Y(.1,l),c=[];c.push([Y(a,l)+t+.9*n*Math.cos(u-e),Y(a,l)+r+.9*i*Math.sin(u-e)]);for(let d=u;d<=o;d+=e)c.push([Y(a,l)+t+n*Math.cos(d),Y(a,l)+r+i*Math.sin(d)]);return c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),Xi(c,null,l)}function Mv(e,t,r,n,i,s,o,a){const l=[],u=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let c=[0,0];const d=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let h=0;h<d;h++)h===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(f?0:Y(u[0],a)),o[1]+(f?0:Y(u[0],a))]}),c=f?[i,s]:[i+Y(u[h],a),s+Y(u[h],a)],l.push({op:"bcurveTo",data:[e+Y(u[h],a),t+Y(u[h],a),r+Y(u[h],a),n+Y(u[h],a),c[0],c[1]]});return l}function bn(e){return[...e]}function rc(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(bn(e[0]),bn(e[1]),bn(e[2]),bn(e[2]));else{const i=[];i.push(e[0],e[0]);for(let a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);const s=[],o=1-t;n.push(bn(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],n.push(s[1],s[2],s[3])}}return n}function Ei(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Ev(e,t,r){const n=Ei(t,r);if(n===0)return Ei(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),Ei(e,Tr(t,r,i))}function Tr(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Ro(e,t,r,n){const i=n||[];if(function(a,l){const u=a[l+0],c=a[l+1],d=a[l+2],f=a[l+3];let h=3*c[0]-2*u[0]-f[0];h*=h;let g=3*c[1]-2*u[1]-f[1];g*=g;let m=3*d[0]-2*f[0]-u[0];m*=m;let b=3*d[1]-2*f[1]-u[1];return b*=b,h<m&&(h=m),g<b&&(g=b),h+g}(e,t)<r){const a=e[t+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(Ei(s,o))>1&&i.push(a)):i.push(a),i.push(e[t+3])}else{const l=e[t+0],u=e[t+1],c=e[t+2],d=e[t+3],f=Tr(l,u,.5),h=Tr(u,c,.5),g=Tr(c,d,.5),m=Tr(f,h,.5),b=Tr(h,g,.5),S=Tr(m,b,.5);Ro([l,f,m,S],0,r,i),Ro([S,b,g,d],0,r,i)}var s,o;return i}function Iv(e,t){return Zi(e,0,e.length,t)}function Zi(e,t,r,n,i){const s=i||[],o=e[t],a=e[r-1];let l=0,u=1;for(let c=t+1;c<r-1;++c){const d=Ev(e[c],o,a);d>l&&(l=d,u=c)}return Math.sqrt(l)>n?(Zi(e,t,u+1,n,s),Zi(e,u,r,n,s)):(s.length||s.push(o),s.push(a)),s}function Qs(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)Ro(e,3*s,t,n);return r&&r>0?Zi(n,0,n.length,r):n}const yt="none";class es{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const o=this._o(s);return this._d("line",[Wd(t,r,n,i,o)],o)}rectangle(t,r,n,i,s){const o=this._o(s),a=[],l=Cv(t,r,n,i,o);if(o.fill){const u=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];o.fillStyle==="solid"?a.push(Js([u],o)):a.push(Ur([u],o))}return o.stroke!==yt&&a.push(l),this._d("rectangle",a,o)}ellipse(t,r,n,i,s){const o=this._o(s),a=[],l=jd(n,i,o),u=Ao(t,r,o,l);if(o.fill)if(o.fillStyle==="solid"){const c=Ao(t,r,o,l).opset;c.type="fillPath",a.push(c)}else a.push(Ur([u.estimatedPoints],o));return o.stroke!==yt&&a.push(u.opset),this._d("ellipse",a,o)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[Mi(t,!1,n)],n)}arc(t,r,n,i,s,o,a=!1,l){const u=this._o(l),c=[],d=Ql(t,r,n,i,s,o,a,!0,u);if(a&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const h=Ql(t,r,n,i,s,o,!0,!1,f);h.type="fillPath",c.push(h)}else c.push(function(f,h,g,m,b,S,k){const _=f,x=h;let A=Math.abs(g/2),W=Math.abs(m/2);A+=Y(.01*A,k),W+=Y(.01*W,k);let q=b,z=S;for(;q<0;)q+=2*Math.PI,z+=2*Math.PI;z-q>2*Math.PI&&(q=0,z=2*Math.PI);const ne=(z-q)/k.curveStepCount,ce=[];for(let ye=q;ye<=z;ye+=ne)ce.push([_+A*Math.cos(ye),x+W*Math.sin(ye)]);return ce.push([_+A*Math.cos(z),x+W*Math.sin(z)]),ce.push([_,x]),Ur([ce],k)}(t,r,n,i,s,o,u));return u.stroke!==yt&&c.push(d),this._d("arc",c,u)}curve(t,r){const n=this._o(r),i=[],s=Jl(t,n);if(n.fill&&n.fill!==yt)if(n.fillStyle==="solid"){const o=Jl(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=t;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const u of l)u.length<3?o.push(...u):u.length===3?o.push(...Qs(rc([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):o.push(...Qs(rc(u),10,(1+n.roughness)/2))}o.length&&i.push(Ur([o],n))}return n.stroke!==yt&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=Mi(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Js([t],n)):i.push(Ur([t],n))),n.stroke!==yt&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==yt,o=n.stroke!==yt,a=!!(n.simplification&&n.simplification<1),l=function(c,d,f){const h=Ud(Bd(va(c))),g=[];let m=[],b=[0,0],S=[];const k=()=>{S.length>=4&&m.push(...Qs(S,d)),S=[]},_=()=>{k(),m.length&&(g.push(m),m=[])};for(const{key:A,data:W}of h)switch(A){case"M":_(),b=[W[0],W[1]],m.push(b);break;case"L":k(),m.push([W[0],W[1]]);break;case"C":if(!S.length){const q=m.length?m[m.length-1]:b;S.push([q[0],q[1]])}S.push([W[0],W[1]]),S.push([W[2],W[3]]),S.push([W[4],W[5]]);break;case"Z":k(),m.push([b[0],b[1]])}if(_(),!f)return g;const x=[];for(const A of g){const W=Iv(A,f);W.length&&x.push(W)}return x}(t,1,a?4-4*(n.simplification||1):(1+n.roughness)/2),u=Xl(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const c=Xl(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else i.push(Js(l,n));else i.push(Ur(l,n));return o&&(a?l.forEach(c=>{i.push(Mi(c,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(o=>+o.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:yt};break;case"fillPath":o={d:this.opsToPath(s),stroke:yt,strokeWidth:0,fill:n.fill||yt};break;case"fillSketch":o=this.fillSketch(s,n)}o&&i.push(o)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||yt,strokeWidth:n,fill:yt}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class Tv{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new es(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const o of r)switch(o.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const o=typeof n=="number"&&n>=0?s.data.map(a=>+a.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(o[0],o[1]);break;case"bcurveTo":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":t.lineTo(o[0],o[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o),o}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o),o}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o),o}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,o,a=!1,l){const u=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(u),u}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const _i="http://www.w3.org/2000/svg";class Av{constructor(t,r){this.svg=t,this.gen=new es(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(_i,"g"),o=t.options.fixedDecimalPlaceDigits;for(const a of r){let l=null;switch(a.type){case"path":l=i.createElementNS(_i,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(_i,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(_i,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const o=this.gen.line(t,r,n,i,s);return this.draw(o)}rectangle(t,r,n,i,s){const o=this.gen.rectangle(t,r,n,i,s);return this.draw(o)}ellipse(t,r,n,i,s){const o=this.gen.ellipse(t,r,n,i,s);return this.draw(o)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,o,a=!1,l){const u=this.gen.arc(t,r,n,i,s,o,a,l);return this.draw(u)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var nc={canvas:(e,t)=>new Tv(e,t),svg:(e,t)=>new Av(e,t),generator:e=>new es(e),newSeed:()=>es.newSeed()};const Ov={name:{x:100,y:235},alias:{x:704,y:235},look:{x:100,y:316},heritages:{akoros:{x:272,y:428,w:110},"dagger-isles":{x:460,y:428,w:260},iruvia:{x:138,y:453,w:95},severos:{x:240,y:453,w:110},skovlan:{x:356,y:453,w:120},tycheros:{x:480,y:453,w:135}},backgrounds:{academic:{x:826,y:428,w:140},labor:{x:942,y:428,w:90},law:{x:1026,y:428,w:75},trade:{x:636,y:453,w:95},military:{x:742,y:453,w:120},noble:{x:848,y:453,w:90},underworld:{x:976,y:453,w:160}},heritageText:{x:105,y:400},backgroundText:{x:605,y:400},actions:{hunt:{x:1838.5,y:325.5},study:{x:1838.5,y:354.1},survey:{x:1838.5,y:382.7},tinker:{x:1838.5,y:411.3},finesse:{x:1838.5,y:488},prowl:{x:1838.5,y:516.6},skirmish:{x:1838.5,y:545.2},wreck:{x:1838.5,y:573.8},attune:{x:1838.5,y:650.5},command:{x:1838.5,y:679.1},consort:{x:1838.5,y:707.7},sway:{x:1838.5,y:736.3}},abilities:{battleborn:{x:1097,y:271},bodyguard:{x:1097,y:337.5},"ghost-fighter":{x:1097,y:431.5},leader:{x:1097,y:525},mule:{x:1097,y:619},"not-to-be-trifled-with":{x:1097,y:654},savage:{x:1097,y:745},vigorous:{x:1097,y:809},sharpshooter:{x:1097,y:269},focused:{x:1097,y:355},"ghost-hunter":{x:1097,y:440.5},"ghost-hunter-2":{x:1122,y:440.5},scout:{x:1097,y:553},survivor:{x:1097,y:638.5},"tough-as-nails":{x:1097,y:724},vengeful:{x:1097,y:783},alchemist:{x:1097,y:269},analyst:{x:1097,y:350},artificer:{x:1097,y:431},fortitude:{x:1097,y:512},"ghost-ward":{x:1097,y:593.5},physicker:{x:1097,y:649.5},saboteur:{x:1097,y:730},venomous:{x:1097,y:787},infiltrator:{x:1097,y:269},ambush:{x:1097,y:323},daredevil:{x:1097,y:353},"the-devils-footsteps":{x:1097,y:430},expertise:{x:1097,y:532},"ghost-veil":{x:1097,y:610},reflexes:{x:1097,y:735.5},shadow:{x:1097,y:790},"rooks-gambit":{x:1097,y:269},"cloak-and-dagger":{x:1097,y:330.5},"ghost-voice":{x:1097,y:444.5},"like-looking-into-a-mirror":{x:1097,y:532},"a-little-something-on-the-side":{x:1097,y:594},mesmerism:{x:1097,y:656},subterfuge:{x:1097,y:718},"trust-in-me":{x:1097,y:805.5},foresight:{x:1097,y:269},calculating:{x:1097,y:327},connected:{x:1097,y:389},"functioning-vice":{x:1097,y:449.5},"ghost-contract":{x:1097,y:533},"jail-bird":{x:1097,y:617},mastermind:{x:1097,y:700},"weaving-the-web":{x:1097,y:784},compel:{x:1097,y:269},"ghost-mind":{x:1097,y:353},"iron-will":{x:1097,y:412},occultist:{x:1097,y:471},ritual:{x:1097,y:555},"strange-methods":{x:1097,y:640},tempest:{x:1097,y:724.5},warded:{x:1097,y:808.5}},friends:{marlane:{x:1110,y:958},chael:{x:1110,y:1e3},mercy:{x:1110,y:1042},grace:{x:1110,y:1084},sawtooth:{x:1110,y:1126},steiner:{x:1110,y:958},celene:{x:1110,y:1e3},melvir:{x:1110,y:1042},veleris:{x:1110,y:1084},casta:{x:1110,y:1126},stazia:{x:1110,y:958},veldren:{x:1110,y:1e3},eckerd:{x:1110,y:1042},jul:{x:1110,y:1084},malista:{x:1110,y:1126},telda:{x:1110,y:958},darmot:{x:1110,y:1e3},frake:{x:1110,y:1042},"roslyn-kellis":{x:1110,y:1084},petra:{x:1110,y:1126},bryl:{x:1110,y:958},"bazso-baz":{x:1110,y:1e3},khyra:{x:1110,y:1042},nyryx:{x:1110,y:1084},harker:{x:1110,y:1126},salia:{x:1110,y:958},augus:{x:1110,y:1e3},jennah:{x:1110,y:1042},riven:{x:1110,y:1084},jeren:{x:1110,y:1126},"nyryx-2":{x:1110,y:958},scurlock:{x:1110,y:1e3},setarra:{x:1110,y:1042},quellyn:{x:1110,y:1084},flint:{x:1110,y:1126}},vices:{faith:{x:320,y:542,w:75},gambling:{x:430,y:542,w:130},luxury:{x:547,y:542,w:105},obligation:{x:672,y:542,w:145},pleasure:{x:808,y:542,w:125},stupor:{x:920,y:542,w:100},weird:{x:1015,y:542,w:95}},viceText:{x:100,y:515}},Rv={nameAndAlias:{x:225,y:190},look:{x:225,y:410},heritageAndBackground:{x:225,y:302},actions:{hunt:{x:1852,y:165.5},study:{x:1852,y:200},survey:{x:1852,y:235},tinker:{x:1852,y:270},finesse:{x:1852,y:365.5},prowl:{x:1852,y:400},skirmish:{x:1852,y:435},wreck:{x:1852,y:470},attune:{x:1852,y:565.5},command:{x:1852,y:600},consort:{x:1852,y:635},sway:{x:1852,y:670}},abilities:{battleborn:{x:1049,y:271},bodyguard:{x:1049,y:337.5},"ghost-fighter":{x:1049,y:431.5},leader:{x:1049,y:525},mule:{x:1049,y:619},"not-to-be-trifled-with":{x:1049,y:654},savage:{x:1049,y:745},vigorous:{x:1049,y:809},sharpshooter:{x:1049,y:232},focused:{x:1049,y:349},"ghost-hunter":{x:1049,y:440.5},"ghost-hunter-2":{x:1122,y:440.5},scout:{x:1049,y:553},survivor:{x:1049,y:638.5},"tough-as-nails":{x:1049,y:724},vengeful:{x:1049,y:783},alchemist:{x:1049,y:269},analyst:{x:1049,y:350},artificer:{x:1049,y:431},fortitude:{x:1049,y:512},"ghost-ward":{x:1049,y:593.5},physicker:{x:1049,y:649.5},saboteur:{x:1049,y:730},venomous:{x:1049,y:787},infiltrator:{x:1049,y:269},ambush:{x:1049,y:323},daredevil:{x:1049,y:353},"the-devils-footsteps":{x:1049,y:430},expertise:{x:1049,y:532},"ghost-veil":{x:1049,y:610},reflexes:{x:1049,y:735.5},shadow:{x:1049,y:790},"rooks-gambit":{x:1049,y:269},"cloak-and-dagger":{x:1049,y:330.5},"ghost-voice":{x:1049,y:444.5},"like-looking-into-a-mirror":{x:1049,y:532},"a-little-something-on-the-side":{x:1049,y:594},mesmerism:{x:1049,y:656},subterfuge:{x:1049,y:718},"trust-in-me":{x:1049,y:805.5},foresight:{x:1049,y:269},calculating:{x:1049,y:327},connected:{x:1049,y:389},"functioning-vice":{x:1049,y:449.5},"ghost-contract":{x:1049,y:533},"jail-bird":{x:1049,y:617},mastermind:{x:1049,y:700},"weaving-the-web":{x:1049,y:784},compel:{x:1049,y:269},"ghost-mind":{x:1049,y:353},"iron-will":{x:1049,y:412},occultist:{x:1049,y:471},ritual:{x:1049,y:555},"strange-methods":{x:1049,y:640},tempest:{x:1049,y:724.5},warded:{x:1049,y:808.5}},friends:{marlane:{x:2075,y:773},chael:{x:2075,y:854},mercy:{x:2075,y:935},grace:{x:2075,y:1018},sawtooth:{x:2075,y:1102},steiner:{x:2075,y:773},celene:{x:2075,y:854},melvir:{x:2075,y:935},veleris:{x:2075,y:1018},casta:{x:2075,y:1102},stazia:{x:2075,y:773},veldren:{x:2075,y:854},eckerd:{x:2075,y:935},jul:{x:2075,y:1018},malista:{x:2075,y:1102},telda:{x:2075,y:773},darmot:{x:2075,y:854},frake:{x:2075,y:935},"roslyn-kellis":{x:2075,y:1018},petra:{x:2075,y:1102},bryl:{x:2075,y:773},"bazso-baz":{x:2075,y:854},khyra:{x:2075,y:935},nyryx:{x:2075,y:1018},harker:{x:2075,y:1102},salia:{x:2075,y:773},augus:{x:2075,y:854},jennah:{x:2075,y:935},riven:{x:2075,y:1018},jeren:{x:2075,y:1102},"nyryx-2":{x:2075,y:773},scurlock:{x:2075,y:854},setarra:{x:2075,y:935},quellyn:{x:2075,y:1018},flint:{x:2075,y:1102}},vice:{x:520,y:1505},viceText:{x:520,y:1615}};async function Dv(e){const t=e.preferredInkColor,r=e.preferredSheetType;if(console.log(`painting a ${r} sheet for a ${e.playbook}`),document.fonts.check("32px Gochi Hand")||await new Promise(n=>setTimeout(n,2e3)),r==="classic"){const n=Ov;return new Promise((i,s)=>{const o=new Image;o.src=`/assets/sheets/sheet-images/${e.playbook}.png`,o.onload=()=>{const a=document.createElement("canvas");a.width=o.width,a.height=o.height;const l=nc.canvas(a),u=a.getContext("2d");u.drawImage(o,0,0),u.font="32px Gochi Hand",u.fillStyle=t,u.strokeStyle="red",u.lineWidth=2;const c=36,d=n.heritages[e.heritage];d&&l.rectangle(d.x-d.w/2,d.y-c/2,d.w,c,{roughness:2,stroke:t,strokeWidth:4});const f=36,h=n.backgrounds[e.background];h&&l.rectangle(h.x-h.w/2,h.y-f/2,h.w,f,{roughness:2,stroke:t,strokeWidth:4});const g=Jn.find(k=>k.id===e.heritageDetail);e.heritageDetail&&u.fillText((g==null?void 0:g.label)||e.heritageDetail,n.heritageText.x,n.heritageText.y);const m=Yn.find(k=>k.id===e.backgroundDetail);e.backgroundDetail&&u.fillText((m==null?void 0:m.label)||e.backgroundDetail,n.backgroundText.x,n.backgroundText.y),["hunt","study","survey","tinker","finesse","prowl","skirmish","wreck","attune","command","consort","sway"].forEach((k,_)=>{oc(u,e,k,n.actions,27,8)}),e.abilities.forEach(k=>{if(n.abilities.hasOwnProperty(k)){const _=n.abilities[k];Do(u,_)}}),e.friends.forEach(k=>{const _=n.friends[k];if(!_)return console.error("No point for",k);ic(u,_)}),e.rivals.forEach(k=>{const _=n.friends[k];if(!_)return console.error("No point for",k);const x={x:28,y:-14};e.playbook==="whisper"&&(x.x=24.5),sc(u,{x:_.x+x.x,y:_.y+x.y})});const b=36,S=n.vices[e.vice];S&&l.rectangle(S.x-S.w/2,S.y-b/2,S.w,b,{roughness:2,stroke:t,strokeWidth:4}),e.viceDetail&&kn(u,e.viceDetail,n.viceText.x,n.viceText.y,940,32),e.name&&u.fillText(e.name,n.name.x,n.name.y),e.alias&&u.fillText(e.alias,n.alias.x,n.alias.y),e.look&&kn(u,e.look,n.look.x,n.look.y,940,32),i(a)},o.onerror=a=>{s(new Error(`Failed to load image: ${o.src}`))}})}if(r==="deep-cuts"){const n=Rv;return new Promise((i,s)=>{const o=new Image;o.src=`/assets/sheets/sheet-images/dc-${e.playbook}.png`,o.onload=()=>{const a=document.createElement("canvas");a.width=o.width,a.height=o.height,nc.canvas(a);const l=a.getContext("2d");l.drawImage(o,0,0),l.font="40px Gochi Hand",l.fillStyle=t,l.strokeStyle="red",l.lineWidth=2;let u="";const c=Jn.find(f=>f.id===e.heritageDetail);e.heritageDetail&&(u+=(c==null?void 0:c.label)||e.heritageDetail),e.heritageDetail&&e.heritage&&(u+=` (${e.heritage})`);const d=Yn.find(f=>f.id===e.backgroundDetail);if(e.backgroundDetail&&(u.length>0&&(u+=" / "),u+=(d==null?void 0:d.label)||e.backgroundDetail,e.background&&(u+=` (${e.background})`)),kn(l,u,n.heritageAndBackground.x,n.heritageAndBackground.y,800,40),["hunt","study","survey","tinker","finesse","prowl","skirmish","wreck","attune","command","consort","sway"].forEach((f,h)=>{oc(l,e,f,n.actions,29,9.5)}),e.abilities.forEach(f=>{if(n.abilities.hasOwnProperty(f)){const h=n.abilities[f];Do(l,h)}}),e.friends.forEach(f=>{const h=n.friends[f];if(!h)return console.error("No point for",f);ic(l,h,.85)}),e.rivals.forEach(f=>{const h=n.friends[f];if(!h)return console.error("No point for",f);const g={x:0,y:11};sc(l,{x:h.x+g.x,y:h.y+g.y},.85)}),e.vice&&l.fillText(e.vice,n.vice.x,n.vice.y),e.viceDetail&&kn(l,e.viceDetail,n.viceText.x,n.viceText.y,400,40,!1),e.name||e.alias){let f="";e.name&&(f+=e.name),e.alias&&(f.length>0&&(f+=" / "),f+=e.alias),l.fillText(f,n.nameAndAlias.x,n.nameAndAlias.y)}e.look&&kn(l,e.look,n.look.x,n.look.y,800,40),i(a)},o.onerror=a=>{s(new Error(`Failed to load image: ${o.src}`))}})}return new Promise((n,i)=>{i(new Error(`Invalid sheet type ${r}`))})}function kn(e,t,r,n,i,s,o=!0){const a=[],l=t.split(" ");let u="",c=0;for(let d=0;d<l.length;d++){const f=u+l[d]+" ";e.measureText(f).width>i&&d>0?(a.push({text:u,x:r,y:n}),u=l[d]+" ",n+=s,c++):u=f}a.push({text:u,x:r,y:n}),o?a.forEach(d=>d.y-=c*s):a.forEach(d=>d.y-=c*s),a.forEach(d=>e.fillText(d.text,d.x,d.y))}function ic(e,t,r=1){const n=12.5*r,i=21*r;e.beginPath(),e.moveTo(t.x,t.y-i),e.lineTo(t.x+n,t.y),e.lineTo(t.x-n,t.y),e.fill()}function sc(e,t,r=1){const n=12.5*r,i=21*r;e.beginPath(),e.moveTo(t.x,t.y+i),e.lineTo(t.x+n,t.y),e.lineTo(t.x-n,t.y),e.fill()}function oc(e,t,r,n,i,s){const o=Sn(t.actions,r),a=n[r];for(let l=0;l<o;l++)Do(e,{x:a.x+l*i,y:a.y},s)}function Do(e,t,r=8){e.beginPath(),e.arc(t.x,t.y,r,0,2*Math.PI),e.fill()}const Pv={class:"save"},Lv={class:"ink-row"},Nv={class:"ink-colors"},$v=["onClick"],Fv={key:0,src:pv,alt:"Selected"},Bv={class:"preview-container"},Uv={key:0,class:"spinner",src:Nd,alt:"Loading"},Hv={class:"row wrap"},Wv=["disabled"],jv={key:0,class:"copy-message"},qv={key:1},Vv=ve({__name:"finish-step",props:{scoundrel:{}},setup(e){const t=e,r=["#f03e3e","#ff922b","#ffd43b","#51cf66","#20c997","#339af0","#5c7cfa","#7950f2","#e9417c","#131313"];t.scoundrel.preferredInkColor||(t.scoundrel.preferredInkColor=r[0]),t.scoundrel.preferredSheetType||(t.scoundrel.preferredSheetType="classic"),Ve(!1);const n=Ve(!1),i=Ve(""),s=Ve(null);u();let o="";try{o=`${window.location.origin}/import/${Um(t.scoundrel)}`}catch(f){console.error("Error encoding scoundrel to base64",f)}function a(f){t.scoundrel.preferredInkColor=f,u()}function l(){ts("copy-url"),navigator.clipboard.writeText(o),n.value=!0,setTimeout(()=>{n.value=!1},2e3)}async function u(){ts("generate-png",{inkColor:t.scoundrel.preferredInkColor,playbook:t.scoundrel.playbook,background:t.scoundrel.background,backgroundDetail:t.scoundrel.backgroundDetail,heritage:t.scoundrel.heritage,heritageDetail:t.scoundrel.heritageDetail,name:t.scoundrel.name,alias:t.scoundrel.alias,vice:t.scoundrel.vice,viceDetail:t.scoundrel.viceDetail,sheetType:t.scoundrel.preferredSheetType});const f=await Dv(t.scoundrel);console.log(f),f&&(i.value=f.toDataURL("image/png"),s.value.src=i.value)}function c(){if(!t.scoundrel.playbook)return;const f=d(wd(t.scoundrel)),h=document.createElement("a");h.download=`${f}.png`,h.href=i.value.replace("image/png","image/octet-stream"),h.click(),h.remove()}function d(f){return`${f.replace(/[^a-zA-Z0-9\s]/g,"").toLowerCase().replace(/\s/g,"-")}__character-sheet`}return(f,h)=>(O(),L(se,null,[me(sr,null,{default:De(()=>h[2]||(h[2]=[w("h2",null,[Le("Export your "),w("strong",null,"scoundrel")],-1),w("p",null,"Share or print your character sheet.",-1)])),_:1}),w("div",Pv,[Ue("",!0),w("div",Lv,[w("p",null,[h[5]||(h[5]=Le(" Choose an ")),w("span",{class:"filled",style:jt({color:t.scoundrel.preferredInkColor})},"ink color",4),h[6]||(h[6]=Le(" for your sheet. "))]),w("ul",Nv,[(O(),L(se,null,Ke(r,g=>w("li",{key:g,onClick:m=>a(g),style:jt({backgroundColor:g,color:g}),class:Fe({active:g===t.scoundrel.preferredInkColor})},[g===t.scoundrel.preferredInkColor?(O(),L("img",Fv)):Ue("",!0)],14,$v)),64))])]),w("div",Bv,[i.value?Ue("",!0):(O(),L("img",Uv)),w("img",{ref_key:"sheetPreview",ref:s,class:"preview"},null,512)]),w("div",Hv,[w("button",{class:Fe(["btn btn--alt",{"no-click":n.value}]),disabled:n.value,onClick:l},[n.value?(O(),L("span",jv,"Copied!")):(O(),L("span",qv,"Share as URL"))],10,Wv),w("button",{class:"btn",onClick:c},"Save as Image")])])],64))}}),zv=Me(Vv,[["__scopeId","data-v-7a904429"]]),Gv=[{id:"marlane",label:"Marlane",description:"A pugilist",category:"cutter"},{id:"chael",label:"Chael",description:"A vicious thug",category:"cutter"},{id:"mercy",label:"Mercy",description:"A cold killer",category:"cutter"},{id:"grace",label:"Grace",description:"An extortionist",category:"cutter"},{id:"sawtooth",label:"Sawtooth",description:"A physicker",category:"cutter"},{id:"steiner",label:"Steiner",description:"An assassin",category:"hound"},{id:"celene",label:"Celene",description:"A sentinel",category:"hound"},{id:"melvir",label:"Melvir",description:"A physicker",category:"hound"},{id:"veleris",label:"Veleris",description:"A spy",category:"hound"},{id:"casta",label:"Casta",description:"A bounty hunter",category:"hound"},{id:"stazia",label:"Stazia",description:"An apothecary",category:"leech"},{id:"veldren",label:"Veldren",description:"A psychonaut",category:"leech"},{id:"eckerd",label:"Eckerd",description:"A corpse thief",category:"leech"},{id:"jul",label:"Jul",description:"A blood dealer",category:"leech"},{id:"malista",label:"Malista",description:"A priestess",category:"leech"},{id:"telda",label:"Telda",description:"A beggar",category:"lurk"},{id:"darmot",label:"Darmot",description:"A bluecoat",category:"lurk"},{id:"frake",label:"Frake",description:"A locksmith",category:"lurk"},{id:"roslyn-kellis",label:"Roslyn Kellis",description:"A noble",category:"lurk"},{id:"petra",label:"Petra",description:"A city clerk",category:"lurk"},{id:"bryl",label:"Bryl",description:"A drug dealer",category:"slide"},{id:"bazso-baz",label:"Bazso Baz",description:"A gang leader",category:"slide"},{id:"khyra",label:"Khyra",description:"A tavern owner",category:"slide"},{id:"nyryx",label:"Nyryx",description:"A prostitute",category:"slide"},{id:"harker",label:"Harker",description:"A jail bird",category:"slide"},{id:"salia",label:"Salia",description:"An information broker",category:"spider"},{id:"augus",label:"Augus",description:"A master architect",category:"spider"},{id:"jennah",label:"Jennah",description:"A servant",category:"spider"},{id:"riven",label:"Riven",description:"A chemist",category:"spider"},{id:"jeren",label:"Jeren",description:"A bluecoat archivist",category:"spider"},{id:"nyryx-2",label:"Nyryx",description:"A possessor ghost",category:"whisper"},{id:"scurlock",label:"Scurlock",description:"A vampire",category:"whisper"},{id:"setarra",label:"Setarra",description:"A demon",category:"whisper"},{id:"quellyn",label:"Quellyn",description:"A witch",category:"whisper"},{id:"flint",label:"Flint",description:"A spirit trafficker",category:"whisper"}],Kv={class:"friends-list"},Yv={class:"body"},Jv={class:"checkboxes"},Qv=["onClick"],Xv=["checked"],Zv=["onClick"],eb=["checked"],tb=ve({__name:"friends-step",props:{scoundrel:{}},setup(e){const t=e;t.scoundrel.friends||(t.scoundrel.friends=[]),t.scoundrel.rivals||(t.scoundrel.rivals=[]);const r=Ce(()=>Gv.filter(s=>s.category===t.scoundrel.playbook));function n(i,s){const o=t.scoundrel[s].indexOf(i);o===-1?t.scoundrel[s].push(i):t.scoundrel[s].splice(o,1);const a=s==="friends"?"rivals":"friends",l=t.scoundrel[a].indexOf(i);l!==-1&&t.scoundrel[a].splice(l,1)}return(i,s)=>(O(),L(se,null,[me(sr,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,"Who owes you one and who's your bitter enemy?",-1),w("p",null," Who is a long-time ally, family relation, or lover? And who is a rival, enemy, scorned lover, or betrayed partner? ",-1)])),_:1}),w("ul",Kv,[(O(!0),L(se,null,Ke(r.value,o=>(O(),L("li",{class:Fe(["person-card",{"person-card--selected":i.scoundrel.friends.includes(o.id)||i.scoundrel.rivals.includes(o.id)}])},[s[3]||(s[3]=w("div",{class:"background-fill"},null,-1)),w("div",Yv,[w("p",null,ie(o.label),1),w("label",null,ie(o.description),1)]),w("div",Jv,[w("div",{class:"checkbox-group",onClick:a=>n(o.id,"friends")},[w("input",{type:"checkbox",checked:i.scoundrel.friends.includes(o.id)},null,8,Xv),s[1]||(s[1]=w("label",null,"Friend",-1))],8,Qv),w("div",{class:"checkbox-group",onClick:a=>n(o.id,"rivals")},[w("input",{type:"checkbox",checked:i.scoundrel.rivals.includes(o.id)},null,8,eb),s[2]||(s[2]=w("label",null,"Rival",-1))],8,Zv)])],2))),256))])],64))}}),rb=Me(tb,[["__scopeId","data-v-be771791"]]),nb=[{label:"Akoros",id:"akoros",description:"The largest and most industrialized land in the Imperium, and home to the capital city as well as Duskwall itself. They're known as a diverse conglomeration of cultures, somewhat like Europe."},{label:"Dagger Isles",id:"dagger-isles",description:"People in the Dagger Isles often grow up on ships and travel a lot before settling down. They're known as corsairs and merchants who live without lightning barriers, dealing with spirits in other ways."},{label:"Iruvia",id:"iruvia",description:"A rich and powerful desert kingdom far to the south. A diverse land of varying cultures similar to old Persia, Egypt, and India."},{label:"Skovlan",id:"skovlan",description:"A cold and rugged island kingdom just across the sea from Duskwall. Skovlan was last to be brought under Imperial rule, over the course of the Unity War, which ended only a few years ago."},{label:"Severos",id:"severos",description:"Most Severosi live in nomadic horse-tribes scattered across the blasted deathlands, surviving within the ruins of ancient arcane fortresses which still repel spirits."},{label:"Tycheros",id:"tycheros",description:"A semi-mythical place far away beyond the northern Void Sea. It's said the people there are part-demon. If you choose Tycherosi heritage, also create a demonic tell that marks your character."}],ib={class:"image"},sb=["src","alt"],ob=ve({__name:"image-modal",props:{title:{},image:{},backgroundColor:{}},setup(e){const t=e;return(r,n)=>(O(),ze(si,null,{header:De(()=>[me(oi,{"close-button":""},{default:De(()=>[w("h3",null,ie(t.title),1)]),_:1})]),content:De(()=>[w("div",ib,[w("img",{src:t.image,alt:t.image,style:jt({backgroundColor:t.backgroundColor})},null,12,sb)])]),_:1}))}}),ab=Me(ob,[["__scopeId","data-v-1b8980fb"]]),lb={class:"list-container-frame"},cb={class:"list-container"},ub={class:"heritages-list"},db={key:0,class:"description"},fb={key:1,class:"description"},hb={key:2,class:"selected-heritage"},pb={class:"input-block"},gb={class:"heritage-details-list"},mb=ve({__name:"heritage-step",props:{scoundrel:{}},setup(e){const t=e,r=nb,n=Jn,i=Ce(()=>r.find(l=>l.id===t.scoundrel.heritage)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return n.filter(u=>u.trait===l||!u.trait)});function o(l){t.scoundrel.heritage=l.id,t.scoundrel.heritageDetail=""}function a(l){if(t.scoundrel.heritageDetail===l.label){t.scoundrel.heritageDetail="";return}t.scoundrel.heritageDetail=l.label}return(l,u)=>(O(),L(se,null,[me(sr,null,{default:De(()=>[u[3]||(u[3]=w("h2",null,"What are your origins?",-1)),u[4]||(u[4]=w("p",null,"Pick a heritage and write a detail specific to you.",-1)),w("a",{onClick:u[0]||(u[0]=c=>Ge(ct).open(ab,{title:"World Map",image:"/assets/images/world-map.png",backgroundColor:"#ffffff"}))},u[2]||(u[2]=[w("span",null,"World Map",-1)]))]),_:1}),w("div",lb,[w("div",cb,[w("ul",ub,[(O(!0),L(se,null,Ke(Ge(r),c=>(O(),ze(ya,{key:c.id,trait:c,selected:c.id===l.scoundrel.heritage,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",db,ie(i.value.description),1)):(O(),L("p",fb," Select a heritage to see its description and suggested details. ")),l.scoundrel.heritage?(O(),L("section",hb,[w("div",pb,[u[5]||(u[5]=w("label",null,"A detail about your heritage",-1)),pr(w("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=c=>l.scoundrel.heritageDetail=c)},null,512),[[sn,l.scoundrel.heritageDetail]])]),w("ul",gb,[(O(!0),L(se,null,Ke(s.value,c=>(O(),ze(Fd,{key:c.id,selected:c.label===l.scoundrel.heritageDetail,traitDetail:c,onClick:d=>a(c)},null,8,["selected","traitDetail","onClick"]))),128))]),u[6]||(u[6]=w("p",{class:"reference"},[Le(" Full descriptions of these heritages can be found in the "),w("a",{href:"https://johnharper.itch.io/deep-cuts",target:"_blank"},"Deep Cuts"),Le(" Blades in the Dark expansion. ")],-1))])):Ue("",!0)],64))}}),yb=Me(mb,[["__scopeId","data-v-bf294e14"]]),_b=["Affable","Athletic","Bony","Bright","Brooding","Calm","Chiseled","Cold","Dark","Delicate","Fair","Fierce","Grimy","Handsome","Huge","Hunched","Languid","Lovely","Open","Plump","Rough","Sad","Scarred","Slim","Soft","Squat","Stern","Stout","Striking","Twitchy","Weathered","Wiry","Worn"],vb=["a Collared Shirt","a Eel-skin Bodysuit","a Fitted Dress","a Fitted Leggings","a Half-Cape","a Heavy Cloak","a Heavy Jacket","Hide & Furs","a Hood & Veil","a Hooded Cape","a Hooded Coat","a Knit Cap","a Knit Sweater","Leathers","a Long Coat","a Long Scarf","Loose Silks","a Mask & Robes","Rags & Tatters","a Rough Tunic","a Scavenged Uniform","Sharp Trousers","a Short Cloak","a Skirt & Blouse","a Slim Jacket","Soft Boots","a Suit & Tie","Suspenders","Tall Boots","a Thick Greatcoat","a Tricorn Hat","a Vest","a fancy Waistcoat","a Waxed Coat","a Wide Belt","Work Boots","Work Trousers"],ac={adjectives:_b,clothes:vb},bb=["Adric","Aldo","Amison","Andrel","Arcy","Arden","Arilyn","Arquo","Arvus","Ashlyn","Branon","Brace","Brance","Brena","Bricks","Candra","Canter","Carissa","Carro","Casslyn","Cavelle","Clave","Corille","Cross","Crowl","Cyrene","Daphnia","Drav","Edlun","Emeline","Grell","Helles","Hix","Holtz","Kamelin","Kelyr","Kobb","Kristov","Laudius","Lauria","Lenia","Lizete","Lorette","Lucella","Lynthia","Mara","Milos","Morlan","Myre","Narcus","Naria","Noggs","Odrienne","Orlan","Phin","Polonia","Quess","Remira","Ring","Roethe","Sesereth","Sethla","Skannon","Stavrul","Stev","Syra","Talitha","Tesslyn","Thena","Timoth","Tocker","Una","Vaurin","Veleris","Veretta","Vestine","Vey","Volette","Vond","Weaver","Wester","Zamira"],kb=["Arran","Athanoch","Basran","Boden","Booker","Ankhayat","Bowmore","Breakiron","Brogan","Clelland","Clermont","Coleburn","Comber","Daava","Dalmore","Danfield","Dunvil","Edrad","Farros","Grine","Haig","Helker","Helles","Hellyers","Jayan","Jeduin","Kardera","Karstas","Keel","Kessarin","Kinclaith","Lomond","Maroden","Michter","Morriston","Penderyn","Prichard","Rowan","Salkara","Sevoy","Skelkallan","Slane","Strangford","Strathmill","Templeton","Tyrconnell","Vale","Vedat","Walund"],wb=["The One Within Many","The Silver Fire","The Rapturous Chord","The Fallen Star","The Lord of the Depths","The Silent Song","The Lady of Thorns","Our Blood Spilled in Glory","The Ram","The Empty Vessel","The Closed Eye","The Hand of Sorrow","That Which Hungers","The Thousand Faces","The Web of Pain","The Pillars of Night","The Burned King","The Father of the Abyss","The Forsaken Legion","The Unbroken Sun","The Revelation","The Radiant Word","The Shrouded Queen","The Reconciler","The Cloud of Woe","The Broken Circle","The Conqueror","She Who Slays in Darkness","The Dream Beyond Death","The Blood Dimmed Tide","The Guardian of the Gates","The Maw of the Void","The Keeper of the Flame","The Throne of Judgment","The Lost Crown","The Golden Stag"],Sb=["Bell","Birch","Bricks","Bug","Chime","Coil","Cricket","Cross","Crow","Echo","Flint","Frog","Frost","Grip","Gunner","Hammer","Hook","Junker","Mist","Moon","Nail","Needle","Ogre","Pool","Ring","Ruby","Silver","Skinner","Song","Spur","Tackle","Thistle","Thorn","Tick-Tock","Twelves","Vixen","Whip","Wicker"],Xs={firstNames:bb,lastNames:kb,deityNames:wb,aliases:Sb},xb=[{path:"portraits/edward-roye.png",source:"Library of Congress"},{path:"portraits/emma-bostwick.png",source:"Library of Congress"},{path:"portraits/george-wallace-jones.png",source:"Library of Congress"},{path:"portraits/jacob-collamer.png",source:"Library of Congress"},{path:"portraits/john-kennedy.png",source:"Library of Congress"},{path:"portraits/john-van-buren.png",source:"Library of Congress"},{path:"portraits/nathaniel-hawthorne.png",source:"Library of Congress"},{path:"portraits/robert-smalls.png",source:"Library of Congress"},{path:"portraits/susie-taylor.png",source:"Library of Congress"},{path:"portraits/tom-thumb.png",source:"Library of Congress"},{path:"portraits/william-cranch.png",source:"Library of Congress"},{path:"portraits/woman-1.png",source:"Library of Congress"},{path:"portraits/woman-2.png",source:"Library of Congress"},{path:"portraits/wong-kim-ark.png",source:"Wikicommons"}];function Er(e){return e[Math.floor(Math.random()*e.length)]}const Cb={class:"name"},Mb={class:"input-with-suggestions"},Eb={class:"input-block"},Ib={class:"input-with-suggestions"},Tb={class:"input-block"},Ab={class:"input-with-suggestions"},Ob={class:"input-block"},Rb={class:"portraits-block"},Db={class:"portraits-list"},Pb=["onClick"],Lb=["src"],Nb={key:0},$b=ve({__name:"name-step",props:{scoundrel:{}},setup(e){const t=e,r=Xs.firstNames,n=Xs.lastNames,i=Xs.aliases,s=ac.adjectives,o=ac.clothes,a=xb;function l(){t.scoundrel.name=`${Er(r)} ${Er(n)}`}function u(){t.scoundrel.alias=Er(i)}function c(){const h=Math.floor(Math.random()*2)+1,g=Array.from({length:h},()=>Er(s).toLowerCase()),m=Math.floor(Math.random()*2)+1,b=Array.from({length:m},()=>Er(o).toLowerCase()),S=Er(["man","woman","person"]),k=Er(["wearing","sporting","dressed in"]);let x=`${g[0].startsWith("a")||g[0].startsWith("e")||g[0].startsWith("i")||g[0].startsWith("o")||g[0].startsWith("u")?"An":"A"} ${d(g)} ${S} ${k} ${d(b)}`;t.scoundrel.look=x}function d(h){return h.length===0?"":h.length===1?h[0]:h.length===2?h.join(" and "):h.slice(0,-1).join(", ")+", and "+h.slice(-1)}function f(h){var m;const g=(m=a.find(b=>b.path===h))==null?void 0:m.source;return g?`(${g})`:"No source"}return(h,g)=>(O(),L(se,null,[me(sr,null,{default:De(()=>g[3]||(g[3]=[w("h2",null,"Record your name and look",-1),w("p",null," Your name is your identity. Your look is your brand. Both are important to your reputation. ",-1)])),_:1}),w("div",Cb,[w("div",Mb,[w("div",Eb,[g[4]||(g[4]=w("label",null,"Your name",-1)),pr(w("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=m=>h.scoundrel.name=m)},null,512),[[sn,h.scoundrel.name]])]),w("button",{class:"btn btn--alt",onClick:l}," Randomize Name ")]),w("div",Ib,[w("div",Tb,[g[5]||(g[5]=w("label",null,"Your alias",-1)),pr(w("input",{type:"text","onUpdate:modelValue":g[1]||(g[1]=m=>h.scoundrel.alias=m)},null,512),[[sn,h.scoundrel.alias]])]),w("button",{class:"btn btn--alt",onClick:u}," Randomize Alias ")]),w("div",Ab,[w("div",Ob,[g[6]||(g[6]=w("label",null,"Your look",-1)),pr(w("input",{type:"text","onUpdate:modelValue":g[2]||(g[2]=m=>h.scoundrel.look=m)},null,512),[[sn,h.scoundrel.look]])]),w("button",{class:"btn btn--alt",onClick:c}," Randomize Look ")])]),w("div",Rb,[g[7]||(g[7]=w("label",null,"Choose a portrait",-1)),w("ul",Db,[(O(!0),L(se,null,Ke(Ge(a),m=>(O(),L("li",{key:m.path,onClick:b=>h.scoundrel.portrait==m.path?h.scoundrel.portrait="":h.scoundrel.portrait=m.path,class:Fe({selected:h.scoundrel.portrait===m.path})},[w("img",{src:`/assets/${m.path}`},null,8,Lb)],10,Pb))),128))]),h.scoundrel.portrait?(O(),L("label",Nb,ie(h.scoundrel.portrait)+" ... "+ie(f(h.scoundrel.portrait)),1)):Ue("",!0)])],64))}}),Fb=Me($b,[["__scopeId","data-v-6ba7c873"]]),Bb={class:"playbook-card"},Ub={class:"tagline"},Hb={class:"action-tags"},Wb={class:"description"},jb=ve({__name:"playbook-card",props:{playbook:{}},setup(e){return(t,r)=>(O(),L("div",Bb,[w("h2",null,ie(t.playbook.label),1),w("p",Ub,ie(t.playbook.tagline),1),w("ul",Hb,[(O(!0),L(se,null,Ke(Object.keys(t.playbook.actions),n=>(O(),ze($d,{key:n,action:n,value:t.playbook.actions[n]},null,8,["action","value"]))),128))]),w("p",Wb,ie(t.playbook.description),1)]))}}),qb=Me(jb,[["__scopeId","data-v-06416016"]]),Vb={class:"playbook-list"},zb=ve({__name:"playbook-step",props:{scoundrel:{}},setup(e){const t=vd,r=e;function n(i){r.scoundrel.playbook=i.id,Object.keys(r.scoundrel.actions).forEach(s=>{delete r.scoundrel.actions[s].playbook}),Object.keys(i.actions).forEach(s=>{const o=i.actions[s];r.scoundrel.actions[s].playbook=o}),r.scoundrel.abilities=[],r.scoundrel.friends=[],r.scoundrel.rivals=[]}return(i,s)=>(O(),L(se,null,[me(sr,null,{default:De(()=>s[0]||(s[0]=[w("h2",null,[Le("What kind of "),w("strong",null,"scoundrel"),Le(" are you?")],-1),w("p",null," Your playbook represents your character's reputation in the underworld, their special abilities, and how they advance. ",-1)])),_:1}),w("ul",Vb,[(O(!0),L(se,null,Ke(Ge(t),o=>(O(),ze(qb,{key:o.id,playbook:o,class:Fe({active:o.id===i.scoundrel.playbook}),onClick:a=>n(o)},null,8,["playbook","class","onClick"]))),128))])],64))}}),Gb=Me(zb,[["__scopeId","data-v-4ca1cce5"]]),Kb=[{id:"mother-narya",name:"Mother Narya",trait:"faith",description:"House of the Weeping Lady",district:"Six towers",label:"Mother Narya; House of the Weeping Lady; Six towers"},{id:"ilacille",name:"Ilacille",trait:"faith",description:"The ruins of the Temple to forgotten gods",district:"Coalridge",label:"Ilacille; The ruins of the Temple to forgotten gods; Coalridge"},{id:"nelisanne",name:"Nelisanne",trait:"faith",description:"The Church of the Ecstasy of the Flesh",district:"Brightstone",label:"Nelisanne; The Church of the Ecstasy of the Flesh; Brightstone"},{id:"lord-penderyn",name:"Lord Penderyn",trait:"faith",description:"The Archive of Echoes",district:"Charterhall",label:"Lord Penderyn; The Archive of Echoes; Charterhall"},{id:"spoggs",name:"Spogg's dice game",trait:"gambling",description:null,district:"Crows foot",label:"Spogg's dice game; Crows foot"},{id:"grist",name:"Grist",trait:"gambling",description:"Boxing",district:"The docks",label:"Grist; Boxing; The docks"},{id:"helene",name:"Helene",trait:"gambling",description:"Silver Stag casino",district:"Silkshore",label:"Helene; Silver Stag casino; Silkshore"},{id:"master-vreen",name:"Master Vreen",trait:"gambling",description:"Hound racing",district:"Nightmarket",label:"Master Vreen; Hound racing; Nightmarket"},{id:"lady-dusk",name:"Lady Dusk",trait:"gambling",description:"The Dusk Manor Club",district:"Whitecrown",label:"Lady Dusk; The Dusk Manor Club; Whitecrown"},{id:"sergeant-velk",name:"Sergeant Velk",trait:"gambling",description:"The fighting pits",district:"Dunslough",label:"Sergeant Velk; The fighting pits; Dunslough"},{id:"singer",name:"Singer",trait:["luxury","pleasure"],description:"Bath house",district:"Crows foot",label:"Singer; Bath house; Crows foot"},{id:"harvale-brogan",name:"Harvale Brogan",trait:["luxury","pleasure"],description:"The Centuralia Club",district:"Brightstone",label:"Harvale Brogan; The Centuralia Club; Brightstone"},{id:"travens",name:"Traven's smoke shop",trait:["luxury","pleasure"],description:null,district:"Coalridge",label:"Traven's smoke shop; Coalridge"},{id:"dunridge-sons",name:"Dunridge & Sons",trait:["luxury","pleasure"],description:"Fine fabrics and tailoring",district:"Nightmarket",label:"Dunridge & Sons; Fine fabrics and tailoring; Nightmarket"},{id:"chef-roselle",name:"Chef Roselle",trait:["luxury","pleasure"],description:"The Golden Plum restaurant",district:"Six towers",label:"Chef Roselle; The Golden Plum restaurant; Six towers"},{id:"maestro-helleren",name:"Maestro Helleren",trait:["luxury","pleasure"],description:"Spiregarden theater",district:"Whitecrown",label:"Maestro Helleren; Spiregarden theater; Whitecrown"},{id:"family-members",name:"Family members",trait:"obligation",description:"(heritage) or former co-workers (background)",district:null,label:"Family members; (heritage) or former co-workers (background)"},{id:"hutton",name:"Hutton",trait:"obligation",description:"Skovlander Refugees/Revolutionaries",district:"Charhollow",label:"Hutton; Skovlander Refugees/Revolutionaries; Charhollow"},{id:"circle-of-flame",name:"The Circle of Flame",trait:"obligation",description:"A secret society",district:null,label:"The Circle of Flame; A secret society"},{id:"mardin-gull",name:"Mardin Gull",trait:["pleasure","stupor"],description:"The Leaky Bucket, tavern",district:"Crows foot",label:"Mardin Gull; The Leaky Bucket, tavern; Crows foot"},{id:"pux-bolin",name:"Pux Bolin",trait:["pleasure","stupor"],description:"The Harping Monkey, tavern",district:"Nightmarket",label:"Pux Bolin; The Harping Monkey, tavern; Nightmarket"},{id:"lady-freyla",name:"Lady Freyla",trait:["pleasure","stupor"],description:"The Emperor's Cask, bar",district:"Whitecrown",label:"Lady Freyla; The Emperor's Cask, bar; Whitecrown"},{id:"avrick",name:"Avrick",trait:["pleasure","stupor"],description:"Powder dealer",district:"Barrowcleft",label:"Avrick; Powder dealer; Barrowcleft"},{id:"rolan-volaris",name:"Rolan Volaris",trait:["pleasure","stupor"],description:"The Veil, social club",district:"Nightmarket",label:"Rolan Volaris; The Veil, social club; Nightmarket"},{id:"madame-tesslyn",name:"Madame Tesslyn",trait:["pleasure","stupor"],description:"The Red Lamp, brothel",district:"Silkshore",label:"Madame Tesslyn; The Red Lamp, brothel; Silkshore"},{id:"eldrin-prichard",name:"Eldrin Prichard",trait:["pleasure","stupor"],description:"The Silver Swan pleasure barge",district:"Brightstone canals",label:"Eldrin Prichard; The Silver Swan pleasure barge; Brightstone canals"},{id:"jewel-bird-shine",name:"Jewel, Bird, and Shine",trait:["pleasure","stupor"],description:"Catcrawl Alley",district:"The docks",label:"Jewel, Bird, and Shine; Catcrawl Alley; The docks"},{id:"hooded-proprietor",name:"The hooded proprietor",trait:"weird",description:"A half-flooded grotto tavern near the docks",district:"The docks",label:"The hooded proprietor; A half-flooded grotto tavern; The docks"},{id:"father-yoren",name:"Father Yoren",trait:"weird",description:"House of the Weeping Lady",district:"Six towers",label:"Father Yoren; House of the Weeping Lady; Six towers"},{id:"salia",name:"“Salia”",trait:"weird",description:"A spirit of the Reconciled, which moves from body to body at their whim",district:null,label:"“Salia”; A spirit of the Reconciled, which moves from body to body at their whim"},{id:"sister-thorn",name:"Sister Thorn",trait:"weird",description:"Deathlands scavenger gang",district:"Gaddoc station",label:"Sister Thorn; Deathlands scavenger gang; Gaddoc station"},{id:"ojak",name:"Ojak",trait:"weird",description:"Tycherosi rooftop market vendor",district:"Silkshore",label:"Ojak; Tycherosi rooftop market vendor; Silkshore"},{id:"aranna-the-blessed",name:"Aranna the Blessed",trait:"weird",description:"Cultist of a forgotten god",district:"Nightmarket",label:"Aranna the Blessed; Cultist of a forgotten god; Nightmarket"}],Yb=[{id:"faith",label:"Faith",description:"You're dedicated to an unseen power, forgotten god, ancestor, etc."},{id:"gambling",label:"Gambling",description:"You crave games of chance, betting on sporting events, etc."},{id:"luxury",label:"Luxury",description:"Expensive and/or ostentatious displays of opulence."},{id:"obligation",label:"Obligation",description:"You're devoted to a family, a cause, a charity, etc."},{id:"pleasure",label:"Pleasure",description:"Gratification from lovers, food, drink, drugs, art, theater, etc."},{id:"stupor",label:"Stupor",description:"You seek oblivion in the abuse of drugs, drink to excess, getting beaten to a pulp in the fighting pits, etc."},{id:"weird",label:"Weird",description:"You experiment with strange essences, consort with rogue spirits, observe bizarre rituals or taboos, etc."}],Jb={class:"list-container-frame"},Qb={class:"list-container"},Xb={class:"vices-list"},Zb={key:0,class:"description"},e0={key:1,class:"description"},t0={key:2,class:"selected-vice"},r0={class:"input-block"},n0={class:"vice-details-list"},i0=["onClick"],s0={key:0},o0={key:1},a0=ve({__name:"vice-step",props:{scoundrel:{}},setup(e){const t=e,r=Yb,n=Kb,i=Ce(()=>r.find(l=>l.id===t.scoundrel.vice)),s=Ce(()=>{if(!i.value)return[];let l=i.value.id;return n.filter(u=>!u.trait||u.trait===l||u.trait.includes(l))});function o(l){t.scoundrel.vice=l.id,t.scoundrel.viceDetail=""}function a(l){if(t.scoundrel.viceDetail===l.label){t.scoundrel.viceDetail="";return}t.scoundrel.viceDetail=l.label}return(l,u)=>(O(),L(se,null,[me(sr,null,{default:De(()=>u[1]||(u[1]=[w("h2",null,"Choose your vice",-1),w("p",null," Every scoundrel is in thrall to some vice or another, which they indulge to deal with stress. Record the name and location of your vice purveyor. ",-1)])),_:1}),w("div",Jb,[w("div",Qb,[w("ul",Xb,[(O(!0),L(se,null,Ke(Ge(r),c=>(O(),ze(ya,{key:c.id,trait:c,selected:c.id===l.scoundrel.vice,onClick:d=>o(c)},null,8,["trait","selected","onClick"]))),128))])])]),i.value?(O(),L("p",Zb,ie(i.value.description),1)):(O(),L("p",e0," Select a vice to see its description and suggested purveyors. ")),l.scoundrel.vice?(O(),L("section",t0,[w("div",r0,[u[2]||(u[2]=w("label",null,"A description of where you go to indulge",-1)),pr(w("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>l.scoundrel.viceDetail=c)},null,512),[[sn,l.scoundrel.viceDetail]])]),w("ul",n0,[(O(!0),L(se,null,Ke(s.value,c=>(O(),L("li",{key:c.id,class:Fe(["vice-detail",{selected:c.label===l.scoundrel.viceDetail}]),onClick:d=>a(c)},[w("h2",null,ie(c.name),1),c.description?(O(),L("p",s0,ie(c.description),1)):Ue("",!0),c.district?(O(),L("label",o0,ie(c.district),1)):Ue("",!0)],10,i0))),128))])])):Ue("",!0)],64))}}),l0=Me(a0,[["__scopeId","data-v-b2f5a7da"]]),c0={key:1},u0={class:"control-bar"},d0=ve({__name:"the-make-page",setup(e){const t=Ve(null),r=Ve(null),n=Ve(!1),i={playbook:Gb,background:hv,heritage:yb,actions:Q_,abilities:D_,friends:rb,vice:l0,name:Fb,finish:zv},s=[{id:"playbook",label:"Playbook"},{id:"background",label:"Background"},{id:"heritage",label:"Heritage"},{id:"actions",label:"Actions"},{id:"abilities",label:"Abilities"},{id:"friends",label:"Friends"},{id:"vice",label:"Vice"},{id:"name",label:"Name & Look"},{id:"finish",label:"Export"}],o=Ve(null),a=Ve(null),l=Ve(null),u=Ve(null),c=Ce(()=>s.find(_=>_.id===u.value)),{params:d}=Tt.currentRoute.value;l.value=d.scoundrelId,u.value=d.stepId,l.value?(console.log("Loading scoundrel:",l.value),a.value=_d(l.value),a.value?u.value||S("playbook"):(console.error("Scoundrel not found"),ct.open(md,{title:"Scoundrel not found",message:"The scoundrel you are trying to edit could not be found.",onConfirm:()=>{ct.close(),h()}}))):(console.log("No scoundrelId; generating a new scoundrel"),l.value=kd(),a.value={id:l.value,actions:{hunt:{},study:{},survey:{},tinker:{},finesse:{},prowl:{},skirmish:{},wreck:{},attune:{},command:{},consort:{},sway:{}}},Tt.replace({name:Xt.EDIT_WITH_STEP,params:{scoundrelId:l.value,stepId:"playbook"}}),S("playbook")),rn(()=>a.value,_=>{_&&yd(_)},{deep:!0}),rn(()=>{var _;return(_=a.value)==null?void 0:_.playbook},(_,x)=>{!x&&_&&ts("new-character",{playbook:_})});function f(){const _=s.findIndex(A=>A.id===u.value),x=s[_+1];x&&S(x.id)}async function h(){var _,x;(_=t.value)==null||_.classList.remove("page-in"),(x=t.value)==null||x.classList.add("page-out"),await new Promise(A=>setTimeout(A,500)),Tt.replace({name:Xt.HOME})}async function g(){ct.open(k_,{title:"Delete scoundrel?",message:"Are you sure you want to delete this scoundrel? This action cannot be undone.",confirmText:"Delete",onConfirm:m})}async function m(){var _,x;l.value&&(Fm(l.value),ct.close(),(_=t.value)==null||_.classList.remove("page-in"),(x=t.value)==null||x.classList.add("page-out"),await new Promise(A=>setTimeout(A,500)),Tt.replace({name:Xt.HOME}))}const b=["animate-form-in--from-left","animate-form-in--from-right","animate-form-out--to-left","animate-form-out--to-right"];async function S(_){var Q,fe,Z,Se,oe,ee,ae,Ye;(Q=t.value)==null||Q.classList.add("no-click");const x=s.findIndex(Ne=>Ne.id===u.value),A=s.findIndex(Ne=>Ne.id===_),W=A>x?"animate-form-out--to-left":"animate-form-out--to-right";if((fe=r.value)==null||fe.classList.remove(...b),(Z=r.value)==null||Z.classList.add(W),await new Promise(Ne=>setTimeout(Ne,400)),u.value=_,Tt.replace({name:Xt.EDIT_WITH_STEP,params:{scoundrelId:l.value,stepId:_}}),!o.value)return;const q=o.value.querySelector(`.step[data-step-id="${_}"]`);if(!q)return;const z=o.value.getBoundingClientRect(),ne=q.getBoundingClientRect(),ce=o.value.scrollLeft+ne.left-z.left+(ne.width-z.width)/2;o.value.scroll({left:ce,behavior:"smooth"}),(Se=r.value)==null||Se.scrollTo(0,0);const ye=A>x?"animate-form-in--from-right":"animate-form-in--from-left";(oe=r.value)==null||oe.classList.remove(...b),(ee=r.value)==null||ee.classList.add(ye),await new Promise(Ne=>setTimeout(Ne,400)),(ae=r.value)==null||ae.classList.remove(...b),(Ye=t.value)==null||Ye.classList.remove("no-click")}Ce(()=>s.findIndex(_=>_.id===u.value)===0);const k=Ce(()=>s.findIndex(_=>_.id===u.value)===s.length-1);return(_,x)=>a.value&&c.value?(O(),L("div",{key:0,ref_key:"page",ref:t,class:"page page--make page-in"},[w("ul",{ref_key:"stepsEl",ref:o,class:Fe(["steps",{disabled:!a.value.playbook}])},[(O(),L(se,null,Ke(s,A=>me(S_,{"data-step-id":A.id,key:A.id,stepLabel:A.label,stepNumber:s.findIndex(W=>W.id===A.id)+1,active:A.id===u.value,completed:s.indexOf(A)<s.indexOf(c.value),onClick:W=>S(A.id)},null,8,["data-step-id","stepLabel","stepNumber","active","completed","onClick"])),64))],2),w("div",{ref_key:"stepContainer",ref:r,class:"step-container"},[u.value&&(a.value.playbook||u.value==="playbook")?(O(),ze(Nu(i[u.value]),{key:0,scoundrel:a.value},null,8,["scoundrel"])):Ue("",!0),n.value?(O(),L("pre",c0,ie(a.value),1)):Ue("",!0)],512),w("div",u0,[w("button",{class:"btn btn--alt",onClick:g},x[0]||(x[0]=[w("span",null,"Delete",-1)])),w("button",{class:"btn btn--alt",onClick:h},x[1]||(x[1]=[w("span",null,"Home",-1)])),k.value?Ue("",!0):(O(),L("button",{key:0,class:Fe(["btn",{disabled:!a.value.playbook}]),onClick:f},x[2]||(x[2]=[w("span",null,"Next",-1)]),2))])],512)):Ue("",!0)}}),Zs=Me(d0,[["__scopeId","data-v-9b214c7a"]]);var Xt=(e=>(e.HOME="home",e.MAKE="make",e.EDIT="edit",e.EDIT_WITH_STEP="edit-with-step",e.IMPORT="import",e.LOST="lost",e))(Xt||{});const f0=[{path:"/",components:{page:h_},name:"home"},{path:"/make",components:{page:Zs},name:"make"},{path:"/make/:scoundrelId",components:{page:Zs},name:"edit"},{path:"/make/:scoundrelId/:stepId",components:{page:Zs},name:"edit-with-step"},{path:"/import/:scoundrelData",components:{page:qm},name:"import"},{path:"/:pathMatch(.*)*",components:{page:m_},name:"lost"}],h0={history:ky(),routes:f0},Tt=zy(h0),Vd="1.1.2",zd=tm(vm);zd.use(Tt);zd.mount("#app");Qc.init("e25d2f8346d1c0731fbb322d6f4c9d94");ts("page-load",{version:Vd,path:window.location.pathname});function ts(e,t){window.location.hostname!=="localhost"?Qc.track(e,t):console.warn(`Accessing from localhost; Mixpanel is disabled. Event: ${e}`)}
